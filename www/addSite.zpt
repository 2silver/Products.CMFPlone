<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8"
      tal:define="charset context/management_page_charset | string:utf-8;"
      tal:attributes="content string:text/html;;charset=$charset;"/>

<title>Zope</title>
<link rel="stylesheet" type="text/css" href="/manage_page_style.css">

</head>
<body bgcolor="#ffffff" link="#000099" alink="#000099" vlink="#000099">

  <div class="form-title">
  Add Plone Site
  </div>
  
<form action="manage_addSite" method="post"
      tal:define="policies python:modules['Products.CMFPlone.Portal'].listPolicies()">
    <div class="form-help">
    Enter an ID and click the button below to create a new Plone site.
    </div>
    <div class="form-label">
    Id
    </div>
    <input type="text" name="id" size="40" />

    <div class="form-label">
    Title
    </div>
    <input type="text" name="title" size="40" value="Portal" />

    <input type="hidden" name="create_userfolder" value="1">

    <div class="form-label">
    Description
    </div>
    
    <textarea name="description" cols="60" rows="10"
     style="width: 95%"></textarea>

    <div class="form-label">
    <input type="checkbox" name="enable_memberareas" value="1" checked class="form-element">
    Create home folders for users automatically
    </div>

    <input type="hidden" name="custom_policy" value="Default Plone"
           tal:condition="python:len(policies)==1" />

  <!--
    If you want to have your customization policy to show up, the class needs
    an boolean attribute: availableAtConstruction
   -->
<tal:custpolicy condition="python:len(policies)>1">
    <div class="form-label">
    Customisation policy setup
    </div>
      <select name="custom_policy">
        <tal:block tal:repeat="policy policies">
        <option tal:attributes="name policy" tal:content="policy"> Custom Policy </option>
        </tal:block>
      </select>
   
    <p>
    (A Customisation Policy is a pre-defined type of site, normally set up as
     as a certain combination of settings and add-on products. You can normally
     not revert this to a Default Plone site without a lot of work, so make sure
     the policy you select is the correct one.) 
    </p>
</tal:custpolicy>
    
    <div class="form-element">
    <input class="form-element" type="submit" name="submit" 
     value=" Add Plone Site " />
    </div>

  </form>

  <p>
  <strong>NOTE:</strong>
  You may only use ASCII characters for <code>Id</code>, <code>Title</code>, 
  and <code>Description</code> in this form.
  You can change the values later from the Plone UI, but during creation of a
  Plone site characters outside the A-Z and numbers range are not allowed.
  </p>

  </body>
</html>

