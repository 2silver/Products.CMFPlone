<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US"
      lang="en-US"
      metal:use-macro="here/prefs_main_template/macros/master"
      i18n:domain="plone">

<tal:block metal:fill-slot="head_slot">
   <tal:block tal:define="dummy python:request.set('disable_border',1)" />
</tal:block>

<body>

<div metal:fill-slot="prefs_configlet_main"
     tal:define="errors options/state/getErrors;">

    <h1 i18n:translate="heading_plone_setup">Plone Setup</h1>

    <p i18n:translate="description_plone_setup">
    Portal-wide settings.
    </p>

    <form action=""
          name="reconfig"
          method="post"
          tal:attributes="action string:${here/getId}/${template/getId}"
          tal:define="props python:here.portal_properties;">
        
        <fieldset>
            <legend i18n:translate="legend_plone_details">Plone Details</legend>
    
            <div class="field"
                 tal:define="title request/title | props/title;
                             error errors/title | nothing;"
                 tal:attributes="class python:test(error, 'field error', 'field')">
    
    
                <label i18n:translate="label_portal_title">Portal title</label>
    
                <span class="fieldRequired" title="Required">(Required)</span>
    
                <div class="formHelp" i18n:translate="help_portal_title">
                The title of your Plone portal.
                </div>
    
                <div tal:content="error">Validation error output</div>
    
                <input name="title"
                       size="30"
                       value=""
                       tabindex=""
                       tal:attributes="value title;
                                       tabindex tabindex/next;" />
            </div>
    
            <div class="field"
                 tal:define="description request/description | site_properties/description;
                             error errors/description | nothing;">
    
                <label i18n:translate="label_portal_description">Portal description</label>
    
                <div class="formHelp" i18n:translate="help_portal_description">
                This description is made available via syndicated
                content and elsewhere. Keep it brief.
                </div>
    
                <textarea cols="30"
                          rows="6"
                          name="description"
                          tabindex=""
                          tal:attributes="tabindex tabindex/next"
                          tal:content="description">Description</textarea>
            </div>
    
            <div class="field"
                 tal:define="email_from_name request/email_from_name|site_properties/email_from_name;
                             error errors/email_from_name | nothing;">
    
                <label i18n:translate="label_portal_from_name">Portal 'From' name</label>
    
                <div class="formHelp" i18n:translate="help_portal_from_name">
                When Plone generates mail, it uses this name
                as its (apparent) sender.
                </div>
    
                <div tal:content="error">Validation error output</div>
    
                <input name="email_from_name"
                       size="30"
                       value=""
                       tabindex=""
                       tal:attributes="value email_from_name;
                                       tabindex tabindex/next;" />
            </div>
    
            <div class="field"
                 tal:define="email_from_address request/email_from_address|site_properties/email_from_address;
                             error errors/email_from_address | nothing;"
                 tal:attributes="class python:test(error, 'field error', 'field')">
    
                <label i18n:translate="label_portal_from_address">Portal 'From' address</label>
    
                <span class="fieldRequired" title="Required">(Required)</span>
    
                <div class="formHelp" i18n:translate="help_portal_from_address">
                When Plone generates mail, it uses this address
                as its (apparent) return address.
                </div>
    
                <div tal:content="error">Validation error output</div>
    
                <input name="email_from_address"
                       size="30"
                       value=""
                       tabindex=""
                       tal:attributes="value email_from_address;
                                       tabindex tabindex/next;" />
            </div>
    
            <div class="field">
                <label i18n:translate="label_default_language">Default Language</label>
    
                <div class="formHelp" i18n:translate="help_default_language">
                Specify the default language setting for newly created items.
                </div>
    
                <!-- ISO-639-2 language selector for Plone -->
                <select name="default_language"
                        tabindex=""
                        value=""
                        tal:attributes="value site_properties/default_language;
                                        tabindex tabindex/next;"
                        tal:define="default_language request/default_language | site_properties/default_language;">
                   <option value="" i18n:translate="label_choose_language">Choose Language</option>
                   <option tal:repeat="language here/availableLanguages"
                           tal:attributes="value python:language[0];
                                           selected python:test(default_language == language[0], 'selected', None)"
                           tal:content="structure python:language[1]" />
                </select>
            </div>
    
            <div class="field"
                 tal:define="validateChecked python:site_properties.validate_email;
                             allowEnterChecked python:not site_properties.validate_email;
                             tabindex tabindex/next;">
                             
                <label i18n:translate="label_password_policy">Password policy</label>
    
                <div class="formHelp" i18n:translate="help_password_policy">
                Whether the users can choose their initial password or not. It's easier
                to create bogus accounts if the password is not generated, so if this is a concern,
                choose "Generate".
                </div>
    
                <input class="noborder"
                       type="radio"
                       name="validate_email:int"
                       id="validate_email_on"
                       value="1"
                       tabindex=""
                       tal:attributes="checked validateChecked;
                                       tabindex tabindex;" />
    
                <label for="validate_email_on" i18n:translate="label_generate_and_email_passwords">Generate and e-mail members' initial password</label>
    
                <br />
    
                <input class="noborder"
                       type="radio"
                       name="validate_email:int"
                       id="validate_email_off"
                       value="0"
                       tabindex=""
                       tal:attributes="checked allowEnterChecked;
                                       tabindex tabindex;" />
    
                <label for="validate_email_off" i18n:translate="label_allow_members_to_create_password">Allow members to select their initial password</label>
            </div>
    
            <div class="field"
                 tal:condition="exists:site_properties/allow_sendto"
                 tal:define="allow_sendto request/allow_sendto | site_properties/allow_sendto;
                             tabindex tabindex/next;">
    
                <label i18n:translate="label_allow_sendto">Enable 'Send this page to somebody' Feature</label>
                
                <div class="formHelp"></div>
    
                <input type="radio"
                       class="noborder"
                       name="allow_sendto"
                       value="on"
                       id="cb_allow_sendto"
                       tabindex=""
                       tal:attributes="tabindex tabindex;
                                       checked allow_sendto"
                       />
    
                <label for="cb_allow_sendto" i18n:translate="yes">Yes</label>
    
                <br />
    
                <input type="radio"
                       class="noborder"
                       name="allow_sendto"
                       value=""
                       id="cb_noallow_sendto"
                       tabindex=""
                       tal:attributes="tabindex tabindex;
                                       checked not:allow_sendto;"
                       />
    
                <label for="cb_noallow_sendto" i18n:translate="no">No</label>
            </div>
    
            <div class="field"
                 tal:condition="exists:site_properties/ext_editor"
                 tal:define="ext_editor request/ext_editor | site_properties/ext_editor;
                             tabindex tabindex/next;">
    
                <label i18n:translate="label_setup_ext_editor">Enable External Editor Feature</label>
    
                <div class="formHelp" i18n:translate="help_setup_ext_editor">
                Select whether you want to enable the external editor feature. 
                This requires a special client-side application installed.
                </div>
    
                <input type="radio"
                       class="noborder"
                       name="ext_editor"
                       value="on"
                       id="cb_ext_editor"
                       tabindex=""
                       tal:attributes="tabindex tabindex;
                                       checked ext_editor"
                       />
    
                <label for="cb_ext_editor" i18n:translate="yes">Yes</label>
    
                <br />
    
                <input type="radio"
                       class="noborder"
                       name="ext_editor"
                       value=""
                       id="cb_noext_editor"
                       tabindex=""
                       tal:attributes="tabindex tabindex;
                                       checked not:ext_editor;"
                       />
    
                <label for="cb_noext_editor" i18n:translate="no">No</label>
            </div>
    
            <div class="formControls">
                <input class="context"
                       tabindex=""
                       type="submit"
                       name="form.button.Save"
                       value="Save"
                       i18n:attributes="value"
                       tal:attributes="tabindex tabindex/next;"
                       />
                <input class="standalone"
                       tabindex=""
                       type="submit"
                       name="form.button.Cancel"
                       value="Cancel"
                       i18n:attributes="value"
                       tal:attributes="tabindex tabindex/next;"
                       />
            </div>
        
        </fieldset>
        
        <input type="hidden" name="form.submitted" value="1" />

    </form>

</div>

</body>
</html>

