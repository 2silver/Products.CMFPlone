<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="here/prefs_main_template/macros/master"
      i18n:domain="plone">

<metal:block metal:fill-slot="top_slot"
             tal:define="dummy python:request.set('disable_border',1)" />

<body>

<div metal:fill-slot="prefs_configlet_main"
     tal:define="errors options/state/getErrors;">

    <h1 i18n:translate="heading_skin_setup">Skin Setup</h1>

    <a href=""
       class="link-parent"
       tal:attributes="href string: $portal_url/plone_control_panel"
       i18n:translate="label_up_to_plone_setup">
    Up to Site Setup
    </a>

    <p i18n:translate="description_skin_setup">
        Settings that affect the portal's look and template usage.
    </p>

    <form action=""
          name=""
          method="post"
          class="enableUnloadProtection"
          tal:attributes="action string:${here/absolute_url}/${template/getId}"
          tal:define="props python:here.portal_properties;">

        <fieldset>
            <legend i18n:translate="legend_portalskin_details">PortalSkin Details</legend>

            
            <div class="field">
                <label i18n:translate="label_default_skin">Default skin</label>
    
                <div class="formHelp" i18n:translate="help_default_skin">
                    Select the default skin for the Plone portal.
                </div>
    
                <select name="default_skin" 
                    size="1"
                    tal:attributes="tabindex tabindex/next"
                    tal:define="defskin here/portal_skins/getDefaultSkin">

                    <option tal:repeat="skin here/portal_skins/getSkinSelections" 
                            tal:content="skin" 
                            tal:attributes="value skin;
                                            selected python:test( skin==defskin,'selected' ,'')" />
    		    </select>
            </div>

            <div class="field">

    	        <input type="checkbox" 
                       class="noborder"
                       id="cb_allow_any"
                       name="allow_any"
                       tal:define="allowany here/portal_skins/getAllowAny"
                       tal:attributes="checked python:test(allowany, 'checked', '')" />

                <label i18n:translate="label_skin_flexibility" for="cb_allow_any">Allow users to select skins</label>
                
                <div class="formHelp" i18n:translate="help_skin_flexibility">
                    If checked, each user can select a skin from his
                    preferences panel.
                </div>

            </div>

            <div class="field">
    
                <input type="checkbox"
                     class="noborder" 
                     id="cb_cookie"
                     name="cookie_persistence"
                     tal:define="cookiepers here/portal_skins/getCookiePersistence"
                     tal:attributes="checked python:test(cookiepers, 'checked', '')" />

                <label i18n:translate="label_cookie_persistence" for="cb_cookie">Make skin cookie persist indefinitely</label>
                
                <div class="formHelp" i18n:translate="help_cookie_persistence">
                    If checked, the skin cookie will never expire.
                </div>

            </div>
    
    
            <div class="formControls">
                <input class="context"
                       tabindex=""
                       type="submit"
                       name="submit"
                       value="Save"
                       i18n:attributes="value label_save;"
                       tal:attributes="tabindex tabindex/next;"
                       />
            </div>
    
        <input type="hidden" name="form.submitted" value="1" />
      </fieldset>
    </form>

</div>

</body>
</html>


