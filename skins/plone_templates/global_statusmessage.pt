<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      i18n:domain="plone">

<body>

<!-- THE STATUS MESSAGE DEFINITION -->
<tal:block i18n:domain="plone"
           metal:define-macro="portal_message">

    <div class="portalMessage" id="kssPortalMessage" style="display:none">
        <tal:block replace="nothing">KSS portal message</tal:block>
    </div>

    <tal:block tal:define="messages python: putils.showPortalMessages()"
               tal:repeat="message messages">
        <tal:block
             tal:define="type_css_map python: {'info':'portalMessage',
                                               'warn':'portalWarningMessage',
                                               'error':'portalErrorMessage'
                                              };
                         mtype message/type | nothing;">
            <div class=""
                 tal:attributes="class python:mtype and type_css_map[mtype] or 'info';"
                 tal:content="message/message | nothing"
                 i18n:translate="">
                Message
            </div>

        </tal:block>
    </tal:block>
</tal:block>
</body>
</html>
