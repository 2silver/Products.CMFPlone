<metal:page define-macro="master"><metal:doctype define-slot="doctype"><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"></metal:doctype>
<metal:block use-macro="here/global_defines/macros/defines" />
<html xmlns="http://www.w3.org/1999/xhtml"
      xml:lang="en"
      lang="en"
      tal:attributes="lang site_properties/default_language|default;
                      xml:lang site_properties/default_language|default;">

<head metal:use-macro="here/header/macros/html_header">
    <metal:headslot fill-slot="head_slot"
               tal:define="language here/Language;
	                       lang language | site_properties/default_language;
                           charset site_properties/default_charset|string:utf-8">

    <metal:block tal:define="dummy python:request.RESPONSE.setHeader('Content-Type', 'text/html;;charset=%s' % charset)" />
    <metal:block tal:define="dummy python:request.RESPONSE.setHeader('Content-Language', lang)" />
    <metal:block tal:define="dummy python:request.RESPONSE.setHeader('Expires', 'Sat, 1 Jan 2000 00:00:00 GMT')" />
    <metal:block tal:define="dummy python:request.RESPONSE.setHeader('Pragma', 'no-cache')" />
    <metal:block tal:define="dummy python:request.RESPONSE.setHeader('Last-Modified', DateTime().toZone('GMT').rfc822())" />

    <metal:headslot define-slot="head_slot" />
    </metal:headslot>

    <metal:cssslot fill-slot="css_slot">
        <metal:cssslot define-slot="css_slot" />
    </metal:cssslot>

    <metal:javascriptslot fill-slot="javascript_head_slot">
        <metal:javascriptslot define-slot="javascript_head_slot" />
    </metal:javascriptslot>
</head>

<body>

<a class="skipnav" 
   href="#documentContent">Skip to content</a>

<div class="top" i18n:domain="plone">

    <div metal:use-macro="here/site_actions/macros/site_actions">
        Site-wide actions (Contact, Sitemap, Help, Style Switcher etc)
    </div>

    <div metal:use-macro="here/global_elements/macros/quick_search">
        The quicksearch box, normally placed at the top right
    </div>

    <a metal:use-macro="here/global_elements/macros/portal_logo">
        The portal logo, linked to the portal root
    </a>

    <div metal:use-macro="here/global_elements/macros/portal_tabs">
        The global portal tabs. (Welcome, News etc)
    </div>


    <div metal:use-macro="here/global_elements/macros/personal_bar">
        The personal bar. (log in, logout etc...)
    </div>

    <div metal:use-macro="here/global_elements/macros/path_bar">
        The breadcrumb navigation ("you are here")
    </div>
</div>

<!-- The wrapper table. It contains the three columns. -->
<table class="columns"><tbody><tr>

    <!-- start of the left (by default at least) column -->
    <td class="left"
        tal:condition="slots_mapping/left">
        <metal:leftportlets use-macro="here/portlets_fetcher/macros/left_column">
        This instruction gets the portlets (boxes) for the left column.
        </metal:leftportlets>
    </td>
    <!-- end of the left (by default at least) column -->


    <!-- start of main content block -->
    <td class="main"
        id="contentWrapper"
         tal:define="global show_border python:here.showEditableBorder( template_id=template_id , actions=actions )">

        <metal:ifborder tal:condition="show_border" >
            <div metal:use-macro="here/view_tabs/macros/content_tabs">
            The content tabs (View, Edit, Properties, Workflow)
            </div>
            
            <div metal:use-macro="here/view_tabs/macros/content_bar">
            The content bar
            </div>
        </metal:ifborder>


        <div id="documentContent"
             tal:attributes="class python:test(show_border, 'editable document', 'document')">

	    <a name="documentContent"></a>

            <div metal:use-macro="here/global_elements/macros/portal_message">
                Portal status message
            </div>

            <div metal:use-macro="here/document_actions/macros/document_actions">
                Document actions (print, sendto etc)
            </div>



            <metal:header metal:define-slot="header" tal:content="nothing">
                Visual Header
            </metal:header>

            <metal:bodytext metal:define-slot="main" tal:content="nothing">
                Page body text
            </metal:bodytext>

            <metal:sub metal:define-slot="sub">
                <metal:discussion use-macro="here/viewThreadsAtBottom/macros/discussionView" />
            </metal:sub>
        </div>
    </td>
    <!-- end of main content block -->

    <!-- start of right (by default at least) column -->
    <td class="right"
        tal:condition="slots_mapping/right">
        <div metal:use-macro="here/portlets_fetcher/macros/right_column">
        This instruction gets the portlets (boxes) for the right column.
        </div>
    </td>
    <!-- end of the right (by default at least) column -->

</tr></tbody></table>
<!-- end column wrapper -->

<div class="footer" metal:use-macro="here/footer/macros/portal_footer">
    Footer
</div>

</body>
</html>
</metal:page>
