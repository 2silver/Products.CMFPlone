<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US"
      lang="en-US"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="plone">

<body>

    <div metal:fill-slot="main">

        <div class="contentHeader">
        <h1 tal:content="here/title_or_id">Title or id</h1>
        </div>

        <div id="description"
             tal:content="structure here/Description"> description </div>

        <p>
        <small>
            <a href="" 
               tal:define="parent_url python:here.navigationParent(here, template.getId())"
               tal:attributes="href parent_url"
               i18n:translate="go_to_parent_url">
            Up one level
            </a>
        </small>
        </p>
       
        <tal:listing condition="here/contentValues"
                     tal:define="global getObjSize nocall:here/getObjSize;
                                 global toPortalTime nocall:here/toPortalTime;">

            <dl>
	        <metal:block tal:repeat="obj python:here.getFolderContents(suppressHiddenFiles=1)">
		        
                <dt>
                <a href="#" tal:attributes="href string:${obj/absolute_url}/view"
                ><img src="#" tal:attributes="src string:${here/portal_url}/${obj/getIcon};alt here/title" /></a>
                
                <a href="#" tal:attributes="href string:${obj/absolute_url}/view"
                            tal:content="obj/title_or_id" />
                </dt>
                
                <dd>
                    <span tal:content="structure python:test(obj.Description(), obj.Description(), '&nbsp;')"> description </span>
                </dd>
		    </metal:block>
            </dl>
            
        </tal:listing>
        
        <p tal:condition="not: here/contentValues" i18n:translate="description_no_items_in_folder">
         There are currently no items in this folder.
        </p>        

    </div>

</body>
</html>
