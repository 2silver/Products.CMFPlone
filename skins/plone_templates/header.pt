<html tal:define="Iterator python:modules['Products.CMFPlone'].IndexIterator;
                  tabindex python:Iterator();">

<head metal:define-macro="html_header"
      tal:define="global portal_url portal_url|here/portal_url;
                  ztu ztu|modules/ZTUtils;
                  skinrequest python:request.get(here.portal_skins.getRequestVarname(), '');
                  current_skin python:ztu.make_query(skin=skinrequest)">
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"
          tal:define="charset site_properties/default_charset|string:utf-8"
          tal:attributes="content string:text/html;;charset=${charset}" />

    <title tal:define="portal_title here/portal_properties/title;
                       here_title here/title_or_id;
                       template_title template/title_or_id;
                       here_title python:test( portal_title != here_title,
                                               here_title,
                                               template_title );"
           tal:content="string:$portal_title - $here_title">Title of page</title>

    <base href="" tal:attributes="href here/renderBase" />


    <meta tal:condition="here/listMetaTags|nothing"
          tal:repeat="keyval here/listMetaTags"
          tal:attributes="name python:keyval[0];
                          content python:keyval[1];" />

    <!-- Basic crude style for Netscape4.x - This can be removed
         if you don't want the special NS4 look - it will still work,
         just be plain text instead.  
    <link rel="Stylesheet" type="text/css" href="" tal:attributes="href string:$portal_url/ploneNS4.css" />
    -->

    <!-- Column layout stylesheet. Even kinda works with Netscape4 -->
    <link rel="Stylesheet" type="text/css" href="" tal:attributes="href string:$portal_url/ploneColumns.css" />

    <!-- Main style sheets for CSS2 capable browsers -->
    <style type="text/css" media="all"
           tal:content="string: @import url($portal_url/plone.css?$current_skin);"></style>


    <!-- Custom style sheet if available -->
    <style type="text/css" media="all" tal:condition="exists: portal/ploneCustom.css"
           tal:content="string:@import url($portal_url/ploneCustom.css);"></style>

    <!-- Style sheet used for printing -->
    <link rel="stylesheet" type="text/css" media="print" href=""
          tal:attributes="href string:$portal_url/plonePrint.css" />

    <!-- Style sheet used for presentations (Opera is the only browser supporting this at the moment) -->
    <link rel="stylesheet" type="text/css" media="projection" href=""
          tal:attributes="href string:$portal_url/plonePresentation.css" />

    <link rel="shortcut icon" href="" type="image/x-icon" tal:attributes="href string:$portal_url/favicon.ico" />

    <!-- Accessibility rel links, show up in Opera (and Mozilla if you have the plugin)  -->
    <link rel="home" href="" title="Front Page" tal:attributes="href string:$portal_url" />
    <link rel="search" href="" title="Search this site" tal:attributes="href string:$portal_url/search_form" />
    <link rel="help" href="" title="Help" tal:attributes="href string:$portal_url/help" />
    <link rel="contents" href="" title="Site Map" tal:attributes="href string:$portal_url/sitemap" />
    <link rel="up" href="" title="Up one level" tal:attributes="href python:here.navigationParent(here, template.getId())" />
    <link rel="copyright" href="" title="Copyright information" tal:attributes="href string:copyright" />
    <link rel="author" href="" title="Author information" tal:attributes="href string:author" />

    <metal:block metal:define-slot="rel_slot" tal:replace="nothing">
    Inserts rel links specified from a page.
    </metal:block>


    <!-- Disable IE6 image toolbar -->
    <meta http-equiv="imagetoolbar" content="no" />

    <metal:block metal:define-slot="css_slot" tal:replace="nothing">
    Inserts CSS specified from a page.
    </metal:block>

    <metal:block metal:define-slot="head_slot" tal:replace="nothing">
    Flexibility for published templates to inject stuff into the head tag.
    </metal:block>

    <metal:block metal:define-slot="javascript_head_slot" tal:replace="nothing">
    Inserts javascript specified from a page.
    </metal:block>

    <!-- Common Plone ECMAScripts -->
    <script type="text/javascript"
            tal:attributes="src string:$portal_url/plone_javascripts.js"></script>

    <tal:block tal:define="showdefault python:test(portal.portal_memberdata.getProperty('formtooltips'), 'true', 0);
                           formtooltips python:member.getProperty('formtooltips', showdefault)"
               tal:omit-tag="">
      <script type="text/javascript"
              tal:condition="formtooltips"
              tal:attributes="src string:$portal_url/plone_formtooltip.js"></script>
      <metal:block tal:condition="not:formtooltips">
        <tal:block tal:replace="structure string:&lt;script language='javascript' type='text/javascript' &gt;" />
          <metal:block >function formtooltip(el,flag){}</metal:block>
        <tal:block tal:replace="structure python:'&lt;/script&gt;'" />
      </metal:block>

    </tal:block>
</head>

</html>
