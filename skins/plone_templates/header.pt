<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<head metal:define-macro="html_header" 
      tal:define="global portal_url here/portal_url;
                  baseHREF python:test(here.isPrincipiaFolderish, here.absolute_url()+'/', here.absolute_url());">

    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />

	<title tal:content="string:${here/portal_properties/title} - ${here/title_or_id}">Title of page</title>

    <BASE href="" tal:attributes="href string:$baseHREF" />

<!-- Commented out for now - we need a new editor 
	<metal:block tal:condition="python:test(request['HTTP_USER_AGENT'].find('MSIE')!=-1, 1, 0)">
          <?import namespace="xs" implementation="XS/htmlEditor" />
    </metal:block>
-->

	<!-- Basic crude style for Netscape4.x and other CSS1 browsers - 
         can be removed if you don't want to support those browsers
         specifically. Site will still be viewable, but look a bit 
         stripped :) --> 
	  <link rel="Stylesheet" 
	        type="text/css" 
		href="ploneBasicNS.css" 
		tal:attributes="href string:$portal_url/ploneBasicNS.css" />
		
	  <link rel="Stylesheet" 
	        type="text/css" 
		href="ploneStructureNS.css" 
		tal:attributes="href string:$portal_url/ploneStructureNS.css" />
		
	  <link rel="Stylesheet" 
	        type="text/css" 
		href="ploneWidgetsNS.css" 
		tal:attributes="href string:$portal_url/ploneWidgetsNS.css" />
		
	  <link rel="Stylesheet" 
	        type="text/css" 
		href="ploneDeprecatedNS.css" 
		tal:attributes="href string:$portal_url/ploneDeprecatedNS.css" />
		
	  <link rel="Stylesheet" 
	        type="text/css" 
		href="ploneCalendarNS.css" 
		tal:attributes="href string:$portal_url/ploneCalendarNS.css" />

	<!-- Style sheets for CSS2 capable browsers (Mozilla, Opera, IE, Netscape6+, Konqueror etc. -->
    <style tal:replace="structure here/CSSImports">
      This block will be dynamically replaced withe the @import statements for use in IE4.0 and higher.
      If you put the @imports in here (which you should do, CSSImports is a just a out-of-the-box useability artifact)
      then your designers (with Macro expansion turned on) will be able to see styled content.
    </style>
	
    <meta http-equiv="imagetoolbar" content="no" /> <!-- Disable IE6 image toolbar -->

    <!-- Some ECMAScript magic to control the sticky notes :) -->
    
    <script language="javascript"
            type="text/javascript"
            src="ieemu.js"
            tal:attributes="src string:$portal_url/ieemu.js" ></script>
    <script language="javascript">
      if (moz) {
      	extendElementModel();
        extendEventObject();
      	emulateEventHandlers(["mouseover", "mouseout"]);
      }
    </script>

    <!-- External script from Apple(!), will need to move into code and tweak.
    (No problem licence-wise, it's free and modifiable) --> 
    
    <script language="JavaScript"
            type="text/javascript" 
      src="http://developer.apple.com/internet/javascript/styley.js"
      tal:attributes="src string:$portal_url/styley.js" >
    </script>     

    <script language="JavaScript1.3" type="text/javascript">
     <!--

      function showDay(date) {
        tempX = document.body.offsetWidth - event.x;
        tempY = event.clientY + document.body.scrollTop;

        document.getElementById('day' + date).style.pixelTop = tempY - 20;
        document.getElementById('day' + date).style.pixelRight = tempX + 12;
        document.getElementById('day' + date).style.visibility = 'visible';
        return true;
      }

      function hideDay(date) {
        document.getElementById('day' + date).style.visibility = 'hidden';
        return true;
      }
      // -->
    </script>
    
</head>

<div metal:define-macro="portal_header"
     tal:define="portal_url here/portal_url" >

		<div class="top">
			
			<div class="searchBox">
                
            	<form name="searchform" 
		      action="search"
		      tal:attributes="action string:${portal_url}/search" >

          		    <input id="searchGadget" 
			           name="SearchableText" 
				   type="text" 
				   size="20" 
				   value=""
				   tal:attributes="value request/SearchableText|nothing;" />
				   
			    <input class="context" 
			           type="submit" 
				   value="Search" />
            	</form>
			</div>

            <a href="#" tal:attributes="href portal_url" >
            	<img src="img/logo.png" class="logo" alt="Zope CMF" border="0" tal:attributes="src string:$portal_url/logo.png" />
            </a>
		

		</div>
	
		<!-- A tiny script to focus on the search gadget automatically 
		<script language="JavaScript" type="text/javascript">
			document.searchform.searchGadget.focus();
		</script>
	    -->
			
	<hr size="" class="netscape4" />

	<div class="tabs"  metal:use-macro="here/portal_tabs/macros/portal_tabs" >
          Portal Tabs are here       
        </div>

	<hr size="" class="netscape4" />

	<div class="personalBar"
         metal:use-macro="here/portal_bars/macros/personalBar">
	</div>

	<hr size="" class="netscape4" />

	<div class="pathBar"
         metal:use-macro="here/portal_bars/macros/pathBar">
	</div>

	<hr size="" class="netscape4" />

</div>




<div metal:define-macro="portal_message" class="message"
     tal:define="portal_message request/portal_status_message | nothing"
     tal:condition="portal_message"> 
    <img src="img/info.gif" alt="Portal information" tal:attributes="src string:$portal_url/plone_images/info.gif">
    <strong tal:content="portal_message">Object changed.</strong> 
</div>


