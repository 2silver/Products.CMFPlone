<!-- The default Related Items box -->

<table metal:define-macro="relatedBox"
       i18n:domain=""
       tal:define="localContent here/navigationLocalRelated;
                       remoteContent here/navigationRemoteResources;"
       tal:condition="python:test(localContent or remoteContent, 1, 0)"
       class="box" summary="Related Items" cellpadding="0" cellspacing="0">

    <thead>
        <tr><th i18n:translate="">Related</th><th class="empty">&nbsp;</th></tr>
    </thead>
    <!-- runyaga: need code that shows related items by keyword in top row, links in same folder in bottom row -->
    <tbody >
        <tr class="odd">
            <td colspan="2">
                <strong tal:condition="localContent" i18n:translate="">Local resources</strong> <br />
                 
                <span tal:repeat="related localContent">
                        <a href="" 
                           tal:attributes="href string:${related/url}/view"
                           class="marker"><img src="" 
                                               border="0" 
                                               tal:attributes="src string:$portal_url/${related/icon}" />&nbsp;
                                          <span tal:replace="related/title">Object related by keyword</span></a><br />
                </span> 
            </td>
        </tr>
        <tr class="even" tal:condition="remoteContent">
            <td colspan="2">
            <strong i18n:translate="">External links</strong>
            <span tal:repeat="o remoteContent">
                    <a href=""
                       class="marker" 
                       tal:attributes="href python:o[1]" 
                       tal:content="python:o[0]">Link object in same folder</a>
            </span>
            </td>
        </tr>
    </tbody>
</table>
