<!-- The Favorites Box -->

<table metal:define-macro="favoritesBox"
       tal:define="folder python:getattr(here.portal_membership.getHomeFolder(), 'Favorites', None);"
       tal:condition="folder"
       class="box" summary="Favorites" cellpadding="0" cellspacing="0">

    <thead>
        <tr><th>My&nbsp;Favorites</th><th class="empty">&nbsp;</th></tr>
    </thead>


    <tbody tal:define="favorites python:test(folder, folder.contentValues('Favorite'), None);">
        <tr class="odd" 
	    tal:condition="favorites">
            <td colspan="2">

                <strong>Favorites</strong>

                <span tal:repeat="o favorites">
                    <a class="marker"
                       href=""
                       tal:attributes="href o/getRemoteUrl" 
                       tal:content="o/title_or_id">Favorite title</a>
                    <br />
                </span>

            </td>
        </tr>

        <tr class="even">
            <td colspan="2">
                <a href="" 
                   class="marker" 
                   tal:attributes="href string:${folder/absolute_url}/folder_contents">Organize Favorites</a>
            </td>
        </tr>
    </tbody>

</table>
