<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US"
      lang="en-US"
      metal:use-macro="here/main_template/macros/master">
<body>

   <div metal:fill-slot="main" 
        tal:define="rejection here/rejectAnonymous;
	            errors python:request.get('errors', {});">

    <h1 i18n:translate="">Edit Document</h1>
    
    <p i18n:translate="">
    Fill in the details of this document.
    </p>  

    <form class="group"
          name="edit_form"
          action="document_edit" 
          method="post" 
          enctype="multipart/form-data" >

        <span class="legend" i18n:translate="">Document Details</span>    
      
        <div class="row" 
             tal:define="error_id errors/id | nothing;
                         id python:request.get('id', here.getId());
			 id python:test(here.isIDAutoGenerated(id), '', id)"> 
            <div class="label required">
            
                <span i18n:id="id">ID</span>
            
                <div id="id_help" 
                     i18:id="id_help"
                     class="help" 
                     style="visibility:hidden">
                Enter the ID of the document. This is the part that will show up as part
                of the web address. This should be short, descriptive
                and preferrably not contain spaces, underscores or mixed case. Example:
                "expense-report-2002"
                </div>
            </div>
            
            <div class="field"
                  tal:attributes="class python:test(error_id, 'field error', 'field')" >

                <div tal:condition="error_id"
                      tal:replace="error_id" />

                <input type="text" 
                       name="field_id" 
                       value="#"
                       size="30" 
                       tal:attributes="value id" 
                       tabindex="1"
                       onfocus="formtooltip('id_help',1)" 
                       onblur="formtooltip('id_help',0)" 
                       />
            </div>

        </div>
      
        <div class="row"
             tal:define="error_title errors/title|nothing;
                         Title request/title | here/Title;"> 
            <div class="label required">
                <span i18:id="title">Title</span>
                
                <div id="title_help" 
                     i18n:id="title_help"
                     class="help" 
                     style="visibility:hidden">
                Enter the title of the document.
                </div>
            </div>
            
            <div class="field"
                  tal:attributes="class python:test(error_title, 'field error', 'field')" >

                <div tal:condition="error_title"
                      tal:replace="error_title" />

                <input type="text" 
                       name="field_title" 
                       value="#" 
                       size="30" 
                       tabindex="2"
                       tal:attributes="value Title" 
                       onfocus="formtooltip('title_help',1)" 
                       onblur="formtooltip('title_help',0)" 
                       />

            </div>
        </div>

        <div class="row">
            <div class="label">
                <span i18n:id="description">Description</span>
                
                <div id="description_help" 
                     i18n:id="description_help"
                     class="help" 
                     style="visibility:hidden">
                Enter a brief description of the document. 
                </div>
            </div>
            <div class="field" tal:define="description request/description | here/Description "> 
                <textarea cols="40" 
                          rows="5" 
                          tabindex="3"
                          name="field_description"
                          tal:content="description"
                          onfocus="formtooltip('description_help',1)" 
                          onblur="formtooltip('description_help',0)"
                          >
                Description 
                </textarea>
            </div>
        </div>
      
	    <div class="row"> 
            <div class="label"> 
                <span i18n:id="body_text">Body text</span> 

                <div id="body_help" 
                     i18n:id="body_help"
                     class="help" 
                     style="visibility:hidden">
                The body text of the document. 
                </div>
            </div>
            <div class="field" tal:define="text python:request.get('text', here.text)">
                <textarea name="field_text:text" 
                          rows="20" 
                          cols="40" 
                          tabindex="4"
                          tal:content="text"
                          onfocus="formtooltip('body_help',1)" 
                          onblur="formtooltip('body_help',0)" 
                          >Document text</textarea>
            </div>
        </div>

	    <div class="row">
            <div class="label">
                <span i18n:id="format">Format</span>
                <div id="format_help"
                     i18n:id="format_help" 
                     class="help" 
                     style="visibility:hidden">
                Select which format you want to type the contents of this
                document in. If you are unsure of which format to use, just
                select Plain Text and type the document as you usually
                do.
                </div>
            </div>
  	        <div class="field">	
                <input class="noborder" 
                       type="radio" 
                       name="text_format"
                       value="structured-text" 
                       tabindex="5"
                       id="cb_structuredtext"
                       onfocus="formtooltip('format_help',1)" 
                       onblur="formtooltip('format_help',0)" 
                       tal:attributes="checked python:test(here.text_format=='structured-text', 1, 0)" 
                       />
                <label for="cb_structuredtext" i18n:id="structured_text">Structured Text</label> <br />
		
                <input class="noborder" 
                       type="radio" 
                       name="text_format" 
                       value="html" 
                       tabindex="5"
                       id="cb_html"
                       tal:attributes="checked python:test(here.text_format=='html', 1, 0)" 
                       onfocus="formtooltip('format_help',1)" 
                       onblur="formtooltip('format_help',0)" 
                       />	
                <label for="cb_html" i18n:id="html">HTML</label> <br />
			
                <input class="noborder" 
                       type="radio" 
                       name="text_format"
                       value="plain" 
                       tabindex="5"
                       id="cb_plain"
                       tal:attributes="checked python:test(here.text_format=='plain', 1, 0)" 
                       onfocus="formtooltip('format_help',1)" 
                       onblur="formtooltip('format_help',0)" 
                       />
                <label for="cb_plain" i18n:id="plain_text">Plain Text</label>
            </div>
	    </div>

	    <div class="row"
	         tal:define="error_file errors/file|nothing;"> 
            
            <div class="label">
                <span i18n:id="upload_contents">Upload contents (optional)
                <div id="upload_help" 
                     i18n:id="upload_help"
                     class="help" 
                     style="visibility:hidden">
                This feature can be used if you already have the document 
                in an existing file on your computer and want to add the contents
                of it to this document.
                
                <br />&nbsp;<br />
                
                <strong>Please note that this takes precedence over the 
                body text entered above, and all content in the field above
                will be replaced with the contents of the file supplied here.
                </strong>
                </div>
            </div>
            
            <div class="field"
	          tal:attributes="class python:test(error_file, 'field error', 'field')">
                  <div tal:condition="error_file"
                       tal:replace="error_file" />
                  <input type="file" 
                         name="file" 
                         size="30" 
                         tabindex="6" 
                         onfocus="formtooltip('upload_help',1)" 
                         onblur="formtooltip('upload_help',0)" 
                         />
            </div>
        </div>
    
    
        <div class="row">
            <div class="label">&nbsp;</div>
            <div class="field" tal:define="process_creation request/process_creation|nothing;"> 
                <input class="context" 
                       tabindex="7"
                       type="submit" 
                       name="Change" 
                       value="Save" /> 
                <input class="context"
                       tabindex="8" 
                       type="submit" 
                       name="cancel" 
                       value="Cancel" />
            </div>
	    </div>

    </form>

</div>
	   
</body>
</html>
