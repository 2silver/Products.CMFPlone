<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US"
      lang="en-US"
      metal:use-macro="here/main_template/macros/master">

<body>

<div metal:fill-slot="main"
     tal:condition="here/rejectAnonymous" >
	
    <h1>CMF Setup</h1>
    
    <p>
    Here you configure some settings that affects the entire Content Management Framework (CMF).
    </p>
    
    <form class="group"
          action="" 
          name="reconfig" 
          method="post" 
	  tal:attributes="actions here/absolute_url"
          tal:define="props python:container.portal_properties">

        <span class="legend">CMF Details</span>
		
        <div class="row">
            <span class="label">
            CMF 'From' name
            </span>
            
            <span class="field">
            <input name="email_from_name"
                   size="30"
                   value=""
                   tal:attributes="value python:props.email_from_name" />
            </span>
            
            <span class="info">			
            When the CMF generates mail, it uses this name
            as its (apparent) sender.
            </span>
        </div>
		
        <div class="row">
            <span class="label">
            CMF 'From' address
            </span>
            
            <span class="field">
                <input name="email_from_address"
                       size="30"
                       value=""
                       tal:attributes="value python:props.email_from_address" />
            </span>
            
            <span class="info">			
            When the CMF generates mail, it uses this address
            as its (apparent) return address.
            </span>
        </div>
		
        <div class="row">
            <span class="label">
            SMTP server
            </span>
            
            <span class="field">
                <input name="smtp_server" 
                       value=""
                       size="30"
                       tal:attributes="value props/smtp_server" />
            </span>
            
            <span class="info">			
            This is the address of your local SMTP (out-going
            mail) server. Usually "localhost", unless you use an
            external server to send mail.
            </span>
        </div>

        <div class="row">
            <span class="label">
            Portal title
            </span>
            
            <span class="field">
                <input name="title" 
                       size="30"
                       value=""
                       tal:attributes="value props/Title" />
            </span>
            
            <span class="info">			
            This is the title of the CMF.
            </span>
        </div>

        <div class="row">
            <span class="label">
            Portal description
            </span>
            
            <span class="field">
                <textarea cols="30" 
                          rows="6" 
                          name="description"
                          tal:content="python:props.description">Description</textarea>
            </span>
            
            <span class="info">			
            This description is made available via syndicated
            content and elsewhere.  It should be fairly brief.
            </span>
        </div>

        <div class="row">
            <span class="label">
            Password policy
            </span>
            
            <span class="field">
                <span tal:define="validateChecked python:props.validate_email;
                                  allowEnterChecked python:not props.validate_email;">
                
                    <input class="noborder" 
                           type="radio" 
                           name="validate_email:int" 
                           value="1"
                           tal:attributes="checked validateChecked" />
                    
                Generate and email members' initial password <br />
                
                    <input class="noborder" 
                           type="radio" 
                           name="validate_email:int" 
                           value="0"
                           tal:attributes="checked allowEnterChecked" />
                
                Allow members to select their initial password
                
                </span>
            </span>
            
            <span class="info">			
            Selects if the users can choose their initial password or not. It's easier
            to create bogus accounts if the password is not generated, so if this is a concern, 
            choose "Generate".
            </span>
        </div>

        <div class="row">
            <span class="label"></span>
            <span class="field">
                <input class="context" type="submit" name="reconfig:method" value="Save settings">
            </span>
        </div>

    </form>

</div>

</body>
</html>

