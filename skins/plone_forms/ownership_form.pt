<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="plone">

<div metal:fill-slot="main">

    <h1 i18n:translate="heading_change_ownership">Change ownership</h1>

    <p i18n:translate="description_change_ownership">
    You can change the current objects ownership to
    another member easily from this form.
    </p>

    <form action="change_ownership"
          name="ownership_form"
          method="post"
          tal:attributes="action template/getId">

        <fieldset>
            <legend i18n:translate="legend_change_ownership">Change Ownership</legend>
    
            <div class="field">
                <label i18n:translate="label_new_owner">New owner</label>
                
                <span class="fieldRequired" title="Required"
                      i18n:attributes="title"
                      i18n:translate="label_required">(Required)</span>
        
                <div class="formHelp" i18n:translate="help_change_ownership">
                Changes the ownership of the current object.
                </div>
        
                <select name="userid">
                   <tal:block tal:repeat="uid mtool/listMemberIds">
                     <option value=""
                             tal:attributes="value uid;
                                             selected python:test(uid==putils.getOwnerId(here), 'selected', None);"
                             tal:content="uid">username</option>
                   </tal:block>
                </select>
            </div>
    
            <div class="field">
    
                <label i18n:translate="label_subobjects">Subobjects</label>
                
                <div class="formHelp" i18n:translate="help_subobjects">
                Changes all the contained objects if selected.
                </div>
    
                <div class="field">
                    <input type="checkbox"
                           name="subobjects"
                           />
                </div>
            </div>

            <input type="hidden" name="form.submitted" value="1" />
    
            <div class="formControls">
                    <input class="context"
                           type="submit"
                           name="save"
                           value="Save"
                           i18n:attributes="value"
                           />
            </div>
        </fieldset>
    </form>

</div>

</html>
