<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US"
      lang="en-US"
      metal:use-macro="here/main_template/macros/master">
	
<body>

<div metal:fill-slot="main" 
     tal:define="errors python:request.get('errors', {})">

    <h1>Edit Image</h1>
    
    <p>
    Using this form, you can enter details about the image, and upload 
    an image if required.
    </p> 
    
    <form class="group"
          action="image_edit" 
          name="edit_form" 
          method="post" 
          enctype="multipart/form-data"
          tal:attributes="action string:${here/getId}/image_edit">
    
        <span class="legend">Image Details</span>
        
        <div class="row" 
             tal:define="error_id errors/id | nothing;
                         id python:request.get('id', here.getId());
                         id python:test(here.isIDAutoGenerated(id), '', id)">

            <span class="label required">ID</span>
            <span class="field"
                  tal:attributes="class python:test(error_id, 'field error', 'field')" >

                <div tal:condition="error_id"
                      tal:replace="error_id" />

                <input type="text" 
                       name="field_id" 
                       value="#"
                       size="25" 
                       tal:attributes="value id" />
            </span>
            <span class="info">
            Enter the ID of the image. If you don't know what this means, 
            just leave it at the supplied value.
            </span>
        </div>
        
        <div class="row"
             tal:define="error_title errors/title|nothing;
                         Title request/title | here/Title;"> 
            <span class="label required">Title</span>
            <span class="field"
                  tal:attributes="class python:test(error_title, 'field error', 'field')" >

                <div tal:condition="error_title"
                      tal:replace="error_title" />

                <input type="text" 
                       name="field_title" 
                       value="#" 
                       tal:attributes="value Title" />

            </span>
            <span class="info">
            Enter the title of the image. 
            </span>
        </div>

        <div class="row">
            <span class="label">Description</span>
            <span class="field" tal:define="description request/description | here/Description">
                <textarea name="field_description:text" rows="10" cols="34"
              tal:content="description">Some descriptive text</textarea>
            </span>
            <span class="info">A short description of the item.</span>
        </div>
        

        <div class="row"
             tal:define="error_file errors/file|nothing;
                         file request/file | here/file | nothing;">
    
            <span class="label required">
            Image
            </span>
            
            <span class="field" 
                  tal:attributes="class python:test(error_file, 'field error', 'field')" >

                <div tal:condition="error_file"
                      tal:replace="error_file" />

                <input type="file" 
                       name="field_file" 
                       size="20" />

                <span tal:condition="python:test(here.size, 0, 1)">
                  <br /> (No file has been uploaded)
                </span>

            </span>
            
            <span class="info">
            Select the image to be added by clicking the "Browse" button.
            </span>
        
        </div>

        <div class="row">
        
            <span class="label"> &nbsp; </span>
            <span class="field"> <input class="context" type="submit" name="change" value="save" /> </span>       
            <span class="info"> &nbsp; </span>
        
        </div>
   
    </form>

</div>

</body>
</html>
