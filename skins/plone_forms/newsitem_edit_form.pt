<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US"
      metal:use-macro="here/content_template/macros/master">
<body>

<div metal:fill-slot="main" tal:define="errors python:request.get('errors', {})">

    <h1>Edit News item</h1>

    <p>
    A news item is a small piece of news that is published on the front
    page. Add the relevant details below, and press "Save".
    </p>

    <form class="group"
          name="edit_form" 
          action="newsitem_edit" 
          method="post"
          tal:attributes="action string:${here/getId}/newsitem_edit">

        <span class="legend">News Details</span>
        
        <div class="row" 
             tal:define="error_id errors/id | nothing;
                         id request/id | here/getId;"> 
            <span class="label required">ID</span>
            <span class="field"
                  tal:attributes="class python:test(error_id, 'field error', 'field')" >

                <div tal:condition="error_id"
                      tal:replace="error_id" />

                <input type="text" 
                       name="field_id" 
                       value="#"
                       size="25" 
                       tal:attributes="value id" />
            </span>
            <span class="info">
            Enter the ID of the news item. If you don't know what this means, 
            just leave it at the supplied value.
            </span>
        </div>
        
        <div class="row" 
             tal:define="error_title errors/title|nothing;
                         Title request/title | here/Title;">
            <span class="label required">Title</span>
            <span class="field"
                  tal:attributes="class python:test(error_title, 'field error', 'field')" >

                <div tal:condition="error_title"
                      tal:replace="error_title" />

                <input type="text" 
                       name="field_title" 
                       size="25" 
                       value="#"
                       tal:attributes="value Title" />
            </span>
            <span class="info"> 
            The title of the news item.
            </span>
        </div>

        
        <div class="row">
            <span class="label">
            Lead-in
            </span>
            <span class="field" tal:define="description request/description | here/description ">
                <textarea name="field_description:text" rows="10"
				          cols="65"
					      tal:content="description">description</textarea>
            </span>
            <span class="info">
            A short descriptive summary of the news. This will be what shows up on the news
            page together with the headline and a link to the full news item.
            </span>
        </div>
        
        <div class="row">
            <span class="label">
            Body
            </span>
            <span class="field" tal:define="text python:request.get('text', here.EditableBody)">
                <textarea name="text:text" rows="20" cols="65"
		                  tal:content="text">EditableBody</textarea>
            </span>
            <span class="info">
            This is the full body text of the news item.
            </span>
        </div>

        <div class="row">
            <span class="label"></span>
            <span class="field">
                <input class="context" type="submit" name="submit" value="Save" /> 
            </span>
        </div>       
         
    </form>

</div>
  
</body>
</html>
