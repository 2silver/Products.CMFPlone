<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US"
      lang="en-US"
      metal:use-macro="here/prefs_main_template/macros/master"
      i18n:domain="plone">

<tal:block metal:fill-slot="head_slot">
   <tal:block tal:define="dummy python:request.set('disable_border',1)" />
</tal:block>

<body>

<div metal:fill-slot="prefs_configlet_main"
     tal:define="errors options/state/getErrors;">

    <span tal:define="dummy python:request.response.setHeader('pragma','no-cache')" />

    <h1 i18n:translate="heading_my_preferences">My Preferences</h1>

    <p>
    Your personal settings.
    </p>

    <form action="personalize"
          method="post"
          enctype="multipart/form-data"
          tal:condition="member"
          tal:attributes="action template/getId">

        <fieldset>

            <legend i18n:translate="legend_member_details">Member Details</legend>
    
            <div class="field"
                 tal:define="error errors/fullname | nothing;
                             fullname python:request.get('fullname', member.getProperty('fullname', ''));"
                 tal:attributes="class python:test(error, 'field error', 'field')">
    
                <label for="fullname" i18n:translate="label_full_name">Full name</label>
    
                <div tal:content="error">Validation error output</div>
    
                <input type="text"
                       name="fullname"
                       size="25"
                       tabindex=""
                       value="member.fullname html_quote"
                       tal:attributes="value fullname;
                                       tabindex tabindex/next;"
                       />
    
            </div>
    
            <div class="field"
                 tal:define="error errors/email | nothing;
                             email python:request.get('email', member.getProperty('email',''));"
                 tal:attributes="class python:test(error, 'field error', 'field')">
    
                <label for="email" i18n:translate="label_email">E-mail</label>
    
                <span class="fieldRequired" title="Required">(Required)</span>
    
                <div tal:content="error">Validation error output</div>
    
                <input type="text"
                       name="email"
                       size="25"
                       tabindex=""
                       value="member.email html_quote"
                       tal:attributes="value email;
                                       tabindex tabindex/next;"
                       />
    
            </div>
    
            <div class="field"
                     tal:define="wysiwyg_editor python:request.get('wysiwyg_editor',
                                                member.getProperty('wysiwyg_editor',''))">
                <label for="wysiwyg_editor" i18n:translate="label_content_editor">Content editor</label>
    
                <div class="formHelp" i18n:translate="help_content_editor">
                Select the editor that you would like to use for editing
                content more easily. Content editors
                often have specific browser requirements.
                </div>
    
                <select name="wysiwyg_editor"
                        tabindex=""
                        tal:attributes="tabindex tabindex/next;">
                    <tal:block tal:repeat="editor site_properties/available_editors">
                    <option tal:condition="python:editor != 'None'"
                            value="None"
                            tal:attributes="value editor;
                                            selected python:test(editor==wysiwyg_editor, 'selected', None);"
                            tal:content="editor">
                    WYSIWYG-editor
                    </option>
                    <option tal:condition="python:editor == 'None'"
                            value="None"
                            tal:attributes="value editor;
                                            selected python:test(editor==wysiwyg_editor, 'selected', None);"
                            tal:content="editor"
                            i18n:translate="label_ordinary_content_editor">
                    Ordinary Form-based Editor (works in all browsers)
                    </option>
    
                    </tal:block>
                 </select>
             </div>
    
            <div class="field"
                 tal:define="listed python:request.get('listed', member.getProperty('listed',''));
                             tabindex tabindex/next;">
                
                <label for="listed" i18n:translate="label_listed_status">Listed status</label>
    
                <div class="formHelp" i18n:translate="help_listed_search">
                Select whether you want to show up in member searches done on this site.
                </div>
    
                <input type="radio"
                       class="noborder"
                       name="listed"
                       value="on"
                       id="cb_listed"
                       checked="checked"
                       tabindex=""
                       tal:attributes="tabindex tabindex;"
                       tal:condition="listed"
                       />
    
                <input type="radio"
                       class="noborder"
                       name="listed"
                       value="on"
                       id="cb_listed"
                       tabindex=""
                       tal:attributes="tabindex tabindex;"
                       tal:condition="not: listed"
                       />
    
                <label for="cb_listed" i18n:translate="label_member_listed">Listed</label>
    
                <br />
    
                <input type="radio"
                       class="noborder"
                       name="listed"
                       value=""
                       id="cb_unlisted"
                       tabindex=""
                       tal:attributes="tabindex tabindex;"
                       tal:condition="listed"
                       />
    
                <input type="radio"
                       class="noborder"
                       name="listed"
                       value=""
                       id="cb_unlisted"
                       checked="checked"
                       tabindex=""
                       tal:attributes="tabindex tabindex;"
                       tal:condition="not: listed "
                       />
    
                <label for="cb_unlisted" i18n:translate="label_member_unlisted">Unlisted</label>
            </div>
    
            <div class="field"
           	     tal:define="visible_ids python:request.get('visible_ids', member.getProperty('visible_ids',''));
                     tabindex tabindex/next;">
                <label for="visible_ids" i18n:translate="label_edit_short_names">Editing of Short Names</label>
    
                <div class="formHelp" i18n:translate="help_display_names">
                Select whether you want Short Names (also known as IDs) to be
                visible and editable when editing contents. If you choose not
                to display Names, they will be generated automatically.
                </div>
    
                <input type="radio"
                       class="noborder"
                       name="visible_ids"
                       value="on"
                       id="cb_visible_ids"
                       checked="checked"
                       tabindex=""
                       tal:attributes="tabindex tabindex;"
                       tal:condition="visible_ids"
                       />
    
                <input type="radio"
                       class="noborder"
                       name="visible_ids"
                       value="on"
                       id="cb_visible_ids"
                       tabindex=""
                       tal:attributes="tabindex tabindex;"
                       tal:condition="not: visible_ids"
                       />
    
                <label for="cb_visible_ids" i18n:translate="yes">Yes</label>
    
                <br />
    
                <input type="radio"
                       class="noborder"
                       name="visible_ids"
                       value=""
                       id="cb_invisibleids"
                       tabindex=""
                       tal:attributes="tabindex tabindex;"
                       tal:condition="visible_ids"
                       />
    
                <input type="radio"
                       class="noborder"
                       name="visible_ids"
                       value=""
                       id="cb_invisible_ids"
                       checked="checked"
                       tabindex=""
                       tal:attributes="tabindex tabindex;"
                       tal:condition="not: visible_ids"
                       />
    
                <label for="cb_invisible_ids" i18n:translate="no">No</label>
            </div>
    
            <div class="field"
                    tal:condition="here/portal_skins/allow_any"
                    tal:define="skinvar python:request.get(here.portal_skins.getRequestVarname(), '');
                    skindefault here/portal_skins/getDefaultSkin;
                    skincurrent python:test(skinvar, skinvar, skindefault);">
    
                <label for="portal_skin" i18n:translate="label_look">Look</label>
                
                <div i18n:translate="help_look"
                     class="formHelp">
                Appearance of the site.
                </div>
    
                <select name="portal_skin"
                        tabindex=""
                        tal:attributes="tabindex tabindex/next;"
                        >
                <option value="#"
                        i18n:translate=""
                        tal:repeat="skin container/portal_skins/getSkinSelections"
                        tal:attributes="value skin;
                                        selected python:test(skincurrent==skin, 'selected', None);"
                        tal:content="skin"
                        >dummy skin</option>
                </select>
            </div>
    
            <div class="field"
                 tal:define="portrait here/portal_membership/getPersonalPortrait;">
    
                <label for="portrait" i18n:translate="label_portrait">Portrait</label>
    
                <div class="formHelp" i18n:translate="help_portrait">
                To add a new portrait, click the "Browse" button and select
                a picture of yourself. Recommended size is 75 pixels wide, 100 pixels tall.
                </div>
    
                <img src=""
                     height="100"
                     width="75"
                     style="border: 1px solid black"
                     tal:condition="portrait"
                     tal:attributes="src portrait/absolute_url"
                     />
    
                <input type="file"
                       name="portrait"
                       size="20"
                       tabindex=""
                       tal:attributes="tabindex tabindex/next;"
                       />

                <br />
                
                <input class="destructive"
                    tabindex=""
                    type="submit"
                    value="Delete Portrait"
                    name="form.button.PortraitDelete"
                    i18n:attributes="value"
                    tal:attributes="tabindex tabindex/next;"
                    />
            </div>
    
            <div class="formControls">
                <input class="context"
                       tabindex=""
                       type="submit"
                       value="Save"
                       name="form.button.Save"
                       i18n:attributes="value"
                       tal:attributes="tabindex tabindex/next;"
                       />
                <input class="standalone"
                       tabindex=""
                       type="submit"
                       value="Cancel"
                       name="form.button.Cancel"
                       i18n:attributes="value"
                       tal:attributes="tabindex tabindex/next;"
                       />
            </div>
    
            <input type="hidden" name="form.submitted" value="1" />

        </fieldset>
    </form>

</div>

</body>
</html>

