<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US"
      lang="en-US"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="plone">

<tal:block metal:fill-slot="head_slot">
   <tal:block tal:define="dummy python:request.set('disable_border',1)" />
</tal:block>

<body>

   <div metal:fill-slot="main"
      tal:define="controlPanel python:modules['Products.CMFCore.utils'].getToolByName(here, 'portal_configuration');
                    groups controlPanel/getGroups;
                    getIconFor nocall:putils/getIconFor
                    ">

    <h1>Plone Setup</h1>
    
    <div id="description">
    Configuration area for Plone and add-on Products.
    </div>
    
    <tal:block tal:repeat="g groups">
        <h2 tal:content="g/title"> Plone Configlet Group Title </h2>
        <p tal:define="configlets python:controlPanel.enumConfiglets(group=g['id'])">
            
            <a href="" tal:repeat = "configl configlets" tal:attributes="href configl/url " >
            <img tal:attributes="src python:getIconFor('controlpanel',configl['id']);alt configl/description"  tal:on-error="string:" />
            <span tal:content="configl/name"    />
            </a>

            <tal:noprefs tal:condition="not: configlets">
            No Preference Panels available.
            </tal:noprefs>

        </p>
    </tal:block>
    </div>
</body>
</html>
