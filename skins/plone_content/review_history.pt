<span class="reviewHistory" 
      metal:define-macro="review_history" 
      i18n:domain="plone"
      tal:define="history here/getWorkflowHistory;">
    <tal:history tal:condition="history">
      <dl id="history" class="collapsible collapsedOnLoad">
        <dt class="collapsibleHeader" i18n:translate="label_history">History</dt>
        <dd class="collapsibleContent">
          <dl>
            <tal:history_data tal:repeat="event history">
            <dt tal:condition="event/action">
                <span i18n:translate="label_history_entry">
                    <span tal:content="event/action" i18n:name="action" i18n:translate="">action</span> by
                    <a href="" i18n:name="author"
                       tal:attributes="href string:${portal_url}/author/${event/actor}"
                       tal:content="event/actor">Actor</a>
                </span>
                <div tal:content="python:here.toLocalizedTime(event['time'],long_format=1)" />
                <div tal:condition="event/effective_date|nothing">
                    (<span i18n:translate="label_publishing_effective" tal:omit-tag="">effective</span>: 
                    <span tal:replace="python:here.toLocalizedTime(event['effective_date'],long_format=1)"></span>)
                </div>
            </dt>
            <dd tal:condition="event/comments">
                <span tal:replace="event/comments"> some comments </span>
            </dd>
            </tal:history_data>
          </dl>
        </dd>
      </dl>
    </tal:history>
</span>
