zope-cmfplone (2.0.3-1) unstable; urgency=low

  * New upstream release

  * Login portlet wasn't using the 'label' tag, corrected.

  * Added id="portlet-related" in the Related portlet (was missing),
    and renamed 'portlet-recent-items' to 'portlet-recent' to make
    the name consistent with the other portlets.
    [limi]

  * Hardened any send mail sending utilities and readying CMF 1.4.4.
    [andym]

  * Fixed a small bug in plone_javascripts.js that prevents the highlight
    of the search term in simple searchs.
    [azy]

 -- Christian Heimes <heimes@faho.rwth-aachen.de>  Fri, 21 May 2004 06:29:43 +0200

zope-cmfplone (2.0.2-1) unstable; urgency=low

  * New upstream release

  * Added the 'listingNext' and 'listingPrevious' class for the batch 
    navigator. The old span.next/previous will still work, but are 
    deprecated. Please update any batch listings to the new format.

  * Added a email address validator to the Plone tool and validate the email
    addresses for the send to feature, fix for http://plone.org/collector/2975
    [tiran]

  * Some templates were broken with Zope 2.6. Fixed by adding a
    surrounding metal:block with i18n:domain='plone' around colophon
    and footer.
    [dreamcatcher]

  * Moving definitions (webdav-locking) from edit-templates to
    global_defines, where they belong.
    [limi]

  * Added missing definition of filterOut.
    [ajung]

  * Removed unnecessary hook in FactoryTool that is handled by Archetypes
    itself now.
    [dtremea]

  * Default position of the "Recent" portlet is now on the left.
    [limi]

  * Added a new variable 'current_page_url' to 'global_defines'. Since it's
    pretty much impossible to get the correct URL to the current page once
    you're inside CMF, the base tag and Zope and a VHM, I added this
    convenience variable. For those who are curious, here's how it looks:
    'current_page_url request/VIRTUAL_URL|string:${request/SERVER_URL}${request/PATH_TRANSLATED}'
    Easy, eh? Updated the Plone templates to use this variable instead. Use
    this if you need a variable to use with HTML anchors, it will give you
    the actual URL that is currently being displayed in your browser.
    [limi]

  * Default text on member pages are now disabled, since it just pollutes the
    search results. You can insert the default text in 'homePageText.pt' like
    before, the only difference is that it's disabled by default, and uses
    Plone's built-in mechanism to show relevant help text if you're the owner
    of the document instead.
    [limi]

  * Added scoring details + i18n information in the search results. Thanks
    to Andrew Veitch for the suggestion.
    [limi]

  * Renamed METAL macro "list-item" to "listitem" in news.pt and folder_listing.pt
    to fix Zope 2.6 compatibility.
    [limi]

  * Commented out the javascript that auto-focuses on the first field in a form.
    There are too many places that causes a lot of trouble by moving focus away from
    a field in which the user is actually typing.
    [elvix]

 -- Christian Heimes <heimes@faho.rwth-aachen.de>  Fri, 21 May 2004 06:29:41 +0200

zope-cmfplone (2.0.1-1) unstable; urgency=low

  * New upstream release

  * Backported fix for http://plone.org/collector/2183 from HEAD.
    _verifyObjectPaste() should deny pasting if the content type is not
    allowed in the target container.
    [stefan]

  * Improvement to Customization policy:
    In a customization policy class you can now provide an optional method
    'getPloneGenerator',
    where you can return a different PloneGenerator than the default one
    Affected files: Portal.py, CustomizationPolicy.py,
    interfaces/CustomizationPolicy.py
    [zwork]

  * Fixed http://plone.org/collector/2973. Try to avoid brain.getObject() to
    speed up plone.
    [tiran]

  * Fixed http://plone.org/collector/2795. Replaced aq_explicit by aq_inner
    in batchedFolderContents.py
    [tiran]

  * http://plone.org/collector/472.  empty discussions
    Discussion now uses CMFFormController and subject/body are required fields now
    [mrtopf]

  * Portal.py/SkinsTool.py: Removed monkey patch that renamed the skin request var to
    plone_skin and moved request_varname to our SkinsTool
    [tiran]

  * Fixed http://plone.org/collector/2583. Disable submit button when item is
    locked and add a locked icon next to the disabled submit button.
    [tiran]

  * http://plone.org/collector/2826. searchterm-highlighting now functions
    correctly, it highlights text in the fuill content-area, but only
    highlights the parts it is supposed to highlight.
    [elvix]

  * http://plone.org/collector/2691 External-link-detector javascript
    is now case-insensitive
    [elvix]

  * http://plone.org/collector/3001. Fallback handling to avoid
    javascript-error-messages in IE5
    [elvix]

  * Fixed http://plone.org/collector/2859.  plonifyActions accepts javascript
    urls
    [tiran]

  * Fixed http://plone.org/collector/2948. Auto generated ids are now lower
    case and the number is more random.
    [tiran]

  * Fixed http://plone.org/collector/2990. Nested groups don't break the
    prefs_group_members template any more.
    [tiran]

  * Fixed http://plone.org/collector/3005 by catching non existing home folder.
    [tiran]

  * Fixed http://plone.org/collector/2963. Allow access to
    Products.ZCTextIndex.ParseTree.ParseError and catch it
    in the queryCatalog script
    [tiran]

  * Fixed http://plone.org/collector/2862. Added a listMetaTags script to
    skins/plone_scripts to add automagically generated meta tags in the
    <header>
    [tiran]

  * Fixed http://plone.org/collector/2821. The user doesn't show up as
    a member of that group after adding because the template was returned in
    the same transaction. Now the add/delete script is using a redirect.
    [tiran]

  * Fixed http://plone.org/collector/2876.  Folder rename does not reindex
    title. Added a explict reindex if only the title has been changed.
    [tiran]

  * Fixed http://plone.org/collector/2892 by using global_defines in the
    calendar_popup template.
    [tiran]

  * Fixed https://plone.org/collector/2749. 'groups' wasn't
    initialized as an instance variable, so any changes to it would
    vanish on restart.
    [dreamcatcher]

  * Fixed https://plone.org/collector/2671. default_page as a string
    property would not work. Fixed this and added tests for basic
    behavior. More tests are needed IMHO.
    [dreamcatcher]

  * Fixes for http://plone.org/collector/2914.  Although I could
    not reproduce.  We now have a unit test showing that this
    behavior should not regress. Some logic in PloneTool was changed.
    [runyaga]

  * Fixed http://plone.org/collector/2814. 'Document' was being
    checked against a list of FactoryTypeInformation, which would
    never work. Changed to check against the list of portal_types
    generated by <FTI>.getId()
    [dreamcatcher]

  * Fixed https://plone.org/collector/2907. 'get_size' can return
    long. Also, improved the script a bit to be more correct with
    regard to sizes, include GB, use 'kB' instead of 'K' (which
    stands for Kelvin), return '0 kb' if size is null or 0, and add
    tests for all of this.
    [dreamcatcher]

  * Fixed http://plone.org/collector/2998. The types tool has a getTypeInfo
    method, but with different signature.
    [stefan]

  * If toolicon can't be found, it may be because a tool is
    inheriting from a Plone tool, so the icon path (which defaults
    to relative to CMFPlone's dir) is invalid. We fallback to
    resolving the CMFPlone dir and join the path.
    [dreamcatcher]

  * added a PloneBaseTool that all other tools inherit
    from. Currently this does absolutely nothing, just a placeholder.
    [tiran]

  * changed the registration of tools to provide different images in the ZMI
    [tesdal,limi]

  * validate_document_edit assumed the Content-Type header is always
    present. This is not the case.
    [stefan]

  * Fixed http://plone.org/collector/2980. Handle dates between
    PLONE_CEILING and CMF_CEILING.
    [tesdal]

  * Added two classes to allow list without markers:
    'ul.visualNoMarker' and 'ol.visualNoMarker'.
    [limi]

  * Added Full Screen view for images.
    [limi]

  * Implemented 'management_page_charset' as ComputedAttribute returning
    the value of portal_properties/site_properties/default_charset.
    Also see http://plone.org/collector/2778.
    This means Unicode characters are shown correctly in the ZMI too.
    [stefan]

  * Added years range properties in site_properties:
    [dtremea]

    * calendar_starting_year: (default: 1999), the fixed minimum year
      displayed on calendar widgets

    * calendar_future_years_available: (default: 5), how many years
      (from current year) are displayed on calendar widgets

  * Added a 'portlet_prefs' that displays the different prefs panels
    available once you're inside the prefs area. This uses the portlet
    slots introduced below.
    [limi]

  * Added 'portlets_one_slot' and 'portlets_two_slot' to make it
    possible to fill the portlets areas with content. This way, you
    don't have to know what kind of layout you are in.
    [limi]

  * Plone now supports translation of keywords and other metadata.
    There is a separate i18n:domain for this - 'plone-metadata'.
    Anything added into a (for example) 'plone-metadata-fr.po' file
    with the 'plone-metadata' domain will
    be parsed on the metadata_edit_form in French, and replaced with the
    translated strings from the po-file. Please note that this usually
    requires adding new metadata in a default language to avoid
    a mess when translating. Plone does nothing to enforce this at the
    moment. Currently supported fields are Keywords (aka. Subject) and
    Copyright (aka. Rights). The 'search_form' was also updated.
    [limi]

  * Added a define-macro "list-item" to news.pt and folder_listing.pt, so
    they can be reused in other templates. You have to define a repeat
    statement outside it similar to the template in
    'plone_templates/news.pt'. The macro itself renders one item.
    [limi]

  * Added icons for left/leftmost/right/rightmost. Removed unused icons.
    Fixed alt-representations of images.
    [limi]

  * Fixed bare 'except:' statements in Plone so we don't swallow
    ZODB ConflictErrors. Mostly by adding 'except ConflictError: raise'.
    [stefan]

  * Inserted a metal definition that enables the folder_listing to be
    used from other templates. [limi]
    Example::

    <div metal:use-macro="here/folder_listing/macros/listing">
    The folder listing of the current folder
    </div>

 -- Christian Heimes <heimes@faho.rwth-aachen.de>  Fri, 21 May 2004 06:29:38 +0200

zope-cmfplone (2.0.0.final) unstable; urgency=low

  * New upstream release 

 -- Christian Heimes <heimes@faho.rwth-aachen.de>  Sun, 21 Mar 2004 17:34:49 +0100

zope-cmfplone (2.0.0rc5+CVS20040131-1) unstable; urgency=low

  * New upstream release candidate + CVS fixes

 -- Christian Heimes <heimes@faho.rwth-aachen.de>  Sat, 31 Jan 2004 20:27:37 +0100

zope-cmfplone (2.0.0rc4-1) unstable; urgency=low

  * New upstream release

 -- Christian Heimes <heimes@faho.rwth-aachen.de>  Mon, 26 Jan 2004 16:51:12 +0100

zope-cmfplone (2.0.0rc3+CVS20040123-1) unstable; urgency=low

  * Initial Release.

 -- Christian Heimes <heimes@faho.rwth-aachen.de>  Fri, 23 Jan 2004 23:53:51 +0100
