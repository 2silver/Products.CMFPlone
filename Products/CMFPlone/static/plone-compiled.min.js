/*

 Patterns @VERSION@ jquery-ext - various jQuery extensions

 Copyright 2011 Humberto Serme?o

 Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>
 Build: `lodash underscore exports="amd,commonjs,global,node" -o ./dist/lodash.underscore.js`
 Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 Available under MIT license <http://lodash.com/license>
*/
(function(d){define("bootstrap-dropdown",["jquery"],function(){return function(){+function(d){function e(a){a&&3===a.which||(d(".dropdown-backdrop").remove(),d('[data-toggle="dropdown"]').each(function(){var c=f(d(this)),b={relatedTarget:this};c.hasClass("open")&&(c.trigger(a=d.Event("hide.bs.dropdown",b)),a.isDefaultPrevented()||c.removeClass("open").trigger("hidden.bs.dropdown",b))}))}function f(a){var c=a.attr("data-target");c||(c=(c=a.attr("href"))&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,
""));return(c=c&&d(c))&&c.length?c:a.parent()}var a=function(a){d(a).on("click.bs.dropdown",this.toggle)};a.VERSION="3.2.0";a.prototype.toggle=function(a){var c=d(this);if(!c.is(".disabled, :disabled")){var b=f(c);a=b.hasClass("open");e();if(!a){if("ontouchstart"in document.documentElement&&!b.closest(".navbar-nav").length)d('<div class="dropdown-backdrop"/>').insertAfter(d(this)).on("click",e);var l={relatedTarget:this};b.trigger(a=d.Event("show.bs.dropdown",l));if(a.isDefaultPrevented())return;
c.trigger("focus");b.toggleClass("open").trigger("shown.bs.dropdown",l)}return!1}};a.prototype.keydown=function(a){if(/(38|40|27)/.test(a.keyCode)){var c=d(this);a.preventDefault();a.stopPropagation();if(!c.is(".disabled, :disabled")){var b=f(c),e=b.hasClass("open");if(!e||e&&27==a.keyCode)return 27==a.which&&b.find('[data-toggle="dropdown"]').trigger("focus"),c.trigger("click");c=b.find('[role="menu"] li:not(.divider):visible a, [role="listbox"] li:not(.divider):visible a');c.length&&(b=c.index(c.filter(":focus")),
38==a.keyCode&&0<b&&b--,40==a.keyCode&&b<c.length-1&&b++,~b||(b=0),c.eq(b).trigger("focus"))}}};var b=d.fn.dropdown;d.fn.dropdown=function(b){return this.each(function(){var c=d(this),k=c.data("bs.dropdown");k||c.data("bs.dropdown",k=new a(this));"string"==typeof b&&k[b].call(c)})};d.fn.dropdown.Constructor=a;d.fn.dropdown.noConflict=function(){d.fn.dropdown=b;return this};d(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",
'[data-toggle="dropdown"]',a.prototype.toggle).on("keydown.bs.dropdown.data-api",'[data-toggle="dropdown"], [role="menu"], [role="listbox"]',a.prototype.keydown)}(jQuery)}.apply(d,arguments)})})(this);
(function(d){define("bootstrap-collapse",["jquery"],function(){return function(){+function(d){function e(a){return this.each(function(){var g=d(this),c=g.data("bs.collapse"),k=d.extend({},f.DEFAULTS,g.data(),"object"==typeof a&&a);!c&&k.toggle&&"show"==a&&(a=!a);c||g.data("bs.collapse",c=new f(this,k));if("string"==typeof a)c[a]()})}var f=function(a,g){this.$element=d(a);this.options=d.extend({},f.DEFAULTS,g);this.transitioning=null;this.options.parent&&(this.$parent=d(this.options.parent));this.options.toggle&&
this.toggle()};f.VERSION="3.2.0";f.DEFAULTS={toggle:!0};f.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"};f.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var a=d.Event("show.bs.collapse");this.$element.trigger(a);if(!a.isDefaultPrevented()){if((a=this.$parent&&this.$parent.find("> .panel > .in"))&&a.length){var g=a.data("bs.collapse");if(g&&g.transitioning)return;e.call(a,"hide");g||a.data("bs.collapse",null)}var c=this.dimension();
this.$element.removeClass("collapse").addClass("collapsing")[c](0);this.transitioning=1;a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[c]("");this.transitioning=0;this.$element.trigger("shown.bs.collapse")};if(!d.support.transition)return a.call(this);g=d.camelCase(["scroll",c].join("-"));this.$element.one("bsTransitionEnd",d.proxy(a,this)).emulateTransitionEnd(350)[c](this.$element[0][g])}}};f.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var a=
d.Event("hide.bs.collapse");this.$element.trigger(a);if(!a.isDefaultPrevented()){a=this.dimension();this.$element[a](this.$element[a]())[0].offsetHeight;this.$element.addClass("collapsing").removeClass("collapse").removeClass("in");this.transitioning=1;var g=function(){this.transitioning=0;this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};if(!d.support.transition)return g.call(this);this.$element[a](0).one("bsTransitionEnd",d.proxy(g,this)).emulateTransitionEnd(350)}}};
f.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var a=d.fn.collapse;d.fn.collapse=e;d.fn.collapse.Constructor=f;d.fn.collapse.noConflict=function(){d.fn.collapse=a;return this};d(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(a){var g,c=d(this);a=c.attr("data-target")||a.preventDefault()||(g=c.attr("href"))&&g.replace(/.*(?=#[^\s]+$)/,"");g=d(a);var k=(a=g.data("bs.collapse"))?"toggle":c.data(),f=c.attr("data-parent"),n=f&&d(f);a&&a.transitioning||
(n&&n.find('[data-toggle="collapse"][data-parent="'+f+'"]').not(c).addClass("collapsed"),c[g.hasClass("in")?"addClass":"removeClass"]("collapsed"));e.call(g,k)})}(jQuery);return window.jQuery.fn.collapse.Constructor}.apply(d,arguments)})})(this);
(function(d){define("bootstrap-tooltip",["jquery"],function(){return function(){+function(d){var e=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null;this.init("tooltip",a,b)};e.VERSION="3.2.0";e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}};
e.prototype.init=function(a,b,g){this.enabled=!0;this.type=a;this.$element=d(b);this.options=this.getOptions(g);this.$viewport=this.options.viewport&&d(this.options.viewport.selector||this.options.viewport);a=this.options.trigger.split(" ");for(b=a.length;b--;)if(g=a[b],"click"==g)this.$element.on("click."+this.type,this.options.selector,d.proxy(this.toggle,this));else if("manual"!=g){var c="hover"==g?"mouseleave":"focusout";this.$element.on(("hover"==g?"mouseenter":"focusin")+"."+this.type,this.options.selector,
d.proxy(this.enter,this));this.$element.on(c+"."+this.type,this.options.selector,d.proxy(this.leave,this))}this.options.selector?this._options=d.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};e.prototype.getDefaults=function(){return e.DEFAULTS};e.prototype.getOptions=function(a){a=d.extend({},this.getDefaults(),this.$element.data(),a);a.delay&&"number"==typeof a.delay&&(a.delay={show:a.delay,hide:a.delay});return a};e.prototype.getDelegateOptions=function(){var a={},b=this.getDefaults();
this._options&&d.each(this._options,function(d,c){b[d]!=c&&(a[d]=c)});return a};e.prototype.enter=function(a){var b=a instanceof this.constructor?a:d(a.currentTarget).data("bs."+this.type);b||(b=new this.constructor(a.currentTarget,this.getDelegateOptions()),d(a.currentTarget).data("bs."+this.type,b));clearTimeout(b.timeout);b.hoverState="in";if(!b.options.delay||!b.options.delay.show)return b.show();b.timeout=setTimeout(function(){"in"==b.hoverState&&b.show()},b.options.delay.show)};e.prototype.leave=
function(a){var b=a instanceof this.constructor?a:d(a.currentTarget).data("bs."+this.type);b||(b=new this.constructor(a.currentTarget,this.getDelegateOptions()),d(a.currentTarget).data("bs."+this.type,b));clearTimeout(b.timeout);b.hoverState="out";if(!b.options.delay||!b.options.delay.hide)return b.hide();b.timeout=setTimeout(function(){"out"==b.hoverState&&b.hide()},b.options.delay.hide)};e.prototype.show=function(){var a=d.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(a);
var b=d.contains(document.documentElement,this.$element[0]);if(!a.isDefaultPrevented()&&b){var g=this,a=this.tip(),b=this.getUID(this.type);this.setContent();a.attr("id",b);this.$element.attr("aria-describedby",b);this.options.animation&&a.addClass("fade");var b="function"==typeof this.options.placement?this.options.placement.call(this,a[0],this.$element[0]):this.options.placement,c=/\s?auto?\s?/i,k=c.test(b);k&&(b=b.replace(c,"")||"top");a.detach().css({top:0,left:0,display:"block"}).addClass(b).data("bs."+
this.type,this);this.options.container?a.appendTo(this.options.container):a.insertAfter(this.$element);var c=this.getPosition(),e=a[0].offsetWidth,f=a[0].offsetHeight;if(k){var k=b,p=this.$element.parent(),p=this.getPosition(p),b="bottom"==b&&c.top+c.height+f-p.scroll>p.height?"top":"top"==b&&0>c.top-p.scroll-f?"bottom":"right"==b&&c.right+e>p.width?"left":"left"==b&&c.left-e<p.left?"right":b;a.removeClass(k).addClass(b)}c=this.getCalculatedOffset(b,c,e,f);this.applyPlacement(c,b);b=function(){g.$element.trigger("shown.bs."+
g.type);g.hoverState=null};d.support.transition&&this.$tip.hasClass("fade")?a.one("bsTransitionEnd",b).emulateTransitionEnd(150):b()}}};e.prototype.applyPlacement=function(a,b){var g=this.tip(),c=g[0].offsetWidth,e=g[0].offsetHeight,f=parseInt(g.css("margin-top"),10),n=parseInt(g.css("margin-left"),10);isNaN(f)&&(f=0);isNaN(n)&&(n=0);a.top+=f;a.left+=n;d.offset.setOffset(g[0],d.extend({using:function(a){g.css({top:Math.round(a.top),left:Math.round(a.left)})}},a),0);g.addClass("in");var n=g[0].offsetWidth,
p=g[0].offsetHeight;"top"==b&&p!=e&&(a.top=a.top+e-p);f=this.getViewportAdjustedDelta(b,a,n,p);f.left?a.left+=f.left:a.top+=f.top;c=f.left?2*f.left-c+n:2*f.top-e+p;e=f.left?"left":"top";f=f.left?"offsetWidth":"offsetHeight";g.offset(a);this.replaceArrow(c,g[0][f],e)};e.prototype.replaceArrow=function(a,b,d){this.arrow().css(d,a?50*(1-a/b)+"%":"")};e.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b);a.removeClass("fade in top bottom left right")};
e.prototype.hide=function(){function a(){"in"!=b.hoverState&&g.detach();b.$element.trigger("hidden.bs."+b.type)}var b=this,g=this.tip(),c=d.Event("hide.bs."+this.type);this.$element.removeAttr("aria-describedby");this.$element.trigger(c);if(!c.isDefaultPrevented())return g.removeClass("in"),d.support.transition&&this.$tip.hasClass("fade")?g.one("bsTransitionEnd",a).emulateTransitionEnd(150):a(),this.hoverState=null,this};e.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=
typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")};e.prototype.hasContent=function(){return this.getTitle()};e.prototype.getPosition=function(a){a=a||this.$element;var b=a[0],g="BODY"==b.tagName;return d.extend({},"function"==typeof b.getBoundingClientRect?b.getBoundingClientRect():null,{scroll:g?document.documentElement.scrollTop||document.body.scrollTop:a.scrollTop(),width:g?d(window).width():a.outerWidth(),height:g?d(window).height():a.outerHeight()},
g?{top:0,left:0}:a.offset())};e.prototype.getCalculatedOffset=function(a,b,d,c){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-d/2}:"top"==a?{top:b.top-c,left:b.left+b.width/2-d/2}:"left"==a?{top:b.top+b.height/2-c/2,left:b.left-d}:{top:b.top+b.height/2-c/2,left:b.left+b.width}};e.prototype.getViewportAdjustedDelta=function(a,b,d,c){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,h=this.getPosition(this.$viewport);/right|left/.test(a)?
(d=b.top-f-h.scroll,b=b.top+f-h.scroll+c,d<h.top?e.top=h.top-d:b>h.top+h.height&&(e.top=h.top+h.height-b)):(c=b.left-f,b=b.left+f+d,c<h.left?e.left=h.left-c:b>h.width&&(e.left=h.left+h.width-b));return e};e.prototype.getTitle=function(){var a=this.$element,b=this.options;return a.attr("data-original-title")||("function"==typeof b.title?b.title.call(a[0]):b.title)};e.prototype.getUID=function(a){do a+=~~(1E6*Math.random());while(document.getElementById(a));return a};e.prototype.tip=function(){return this.$tip=
this.$tip||d(this.options.template)};e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};e.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.options=this.$element=null)};e.prototype.enable=function(){this.enabled=!0};e.prototype.disable=function(){this.enabled=!1};e.prototype.toggleEnabled=function(){this.enabled=!this.enabled};e.prototype.toggle=function(a){var b=this;a&&(b=d(a.currentTarget).data("bs."+this.type),b||(b=new this.constructor(a.currentTarget,
this.getDelegateOptions()),d(a.currentTarget).data("bs."+this.type,b)));b.tip().hasClass("in")?b.leave(b):b.enter(b)};e.prototype.destroy=function(){clearTimeout(this.timeout);this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var f=d.fn.tooltip;d.fn.tooltip=function(a){return this.each(function(){var b=d(this),g=b.data("bs.tooltip"),c="object"==typeof a&&a;if(g||"destroy"!=a)if(g||b.data("bs.tooltip",g=new e(this,c)),"string"==typeof a)g[a]()})};d.fn.tooltip.Constructor=e;d.fn.tooltip.noConflict=
function(){d.fn.tooltip=f;return this}}(jQuery)}.apply(d,arguments)})})(this);
define("pat-utils",["jquery"],function(d){function h(a){var b=typeof a;return"function"===b||"object"===b&&!!a}var e=function(a,b,g){this.each(function(){var c;c=d(this);c=a.init(c,g);if(b){if(void 0===c[b])return d.error("Method "+b+" does not exist on jQuery."+a.name),!1;if("_"===b.charAt(0))return d.error("Method "+b+" is private on jQuery."+a.name),!1;c[b].apply(c,[g])}});return this},f={none:{hide:"hide",show:"show"},fade:{hide:"fadeOut",show:"fadeIn"},slide:{hide:"slideUp",show:"slideDown"}};
return{jqueryPlugin:function(a){return function(b,g){if(0===this.length)return this;"object"===typeof b&&(g=b,b=void 0);if("function"===typeof a)return e.call(this,a,b,g);var c;a:{c=b;var f=g;if(c)if(a[c]){c=a[c].apply(this,[this].concat([f]));break a}else d.error("Method "+c+" does not exist on jQuery."+a.name);else a.init.apply(this,[this].concat([f]));c=this}return c}},debounce:function(a,b){var d;return function(){var c=this,e=arguments;clearTimeout(d);d=setTimeout(function(){d=null;a.apply(c,
e)},b)}},escapeRegExp:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isObject:h,extend:function(a){if(!h(a))return a;for(var b,d,c=1,e=arguments.length;c<e;c++)for(d in b=arguments[c],b)hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},rebaseURL:function(a,b){return-1!==b.indexOf("://")||"/"===b[0]?b:a.slice(0,a.lastIndexOf("/")+1)+b},findLabel:function(a){for(var b=a.parentNode;b&&11!==b.nodeType;b=b.parentNode)if("LABEL"===b.tagName)return b;var g;a.id&&(g=d("label[for="+
a.id+"]"));g&&0===g.length&&a.form&&(g=d("label[for="+a.name+"]",a.form));return g&&g.length?g[0]:null},elementInViewport:function(a){a=a.getBoundingClientRect();var b=document.documentElement,d=window.innerWidth||b.clientWidth,b=window.innerHeight||b.clientHeight;return 0>a.right||0>a.bottom||a.left>d||a.top>b?!1:!0},removeWildcardClass:function(a,b){if(-1===b.indexOf("*"))a.removeClass(b);else{var g=b.replace(/[\-\[\]{}()+?.,\\\^$|#\s]/g,"\\$&"),g=g.replace(/[*]/g,".*"),g=new RegExp("^"+g+"$");
a.filter("[class]").each(function(){for(var a=d(this),b=a.attr("class").split(/\s+/),e=[],f=0;f<b.length;f++)g.test(b[f])||e.push(b[f]);e.length?a.attr("class",e.join(" ")):a.removeAttr("class")})}},hideOrShow:function(a,b,d,c){var e="css"===d.transition||"none"===d.transition?null:d.effect.duration;a.removeClass("visible hidden in-progress");var h=function(){a.removeClass("in-progress").addClass(b?"visible":"hidden").trigger("pat-update",{pattern:c,transition:"complete"})};if(e){var n=f[d.transition];
a.addClass("in-progress").trigger("pat-update",{pattern:c,transition:"start"});a[b?n.show:n.hide]({duration:e,easing:d.effect.easing,complete:h})}else{if("css"!==d.transition)a[b?"show":"hide"]();h()}},addURLQueryParameter:function(a,b,d){var c=new RegExp("(\\?|\\&)"+b+"=.*?(?=(&|$))"),e=a.toString().split("#");a=e[0];var e=e[1],f=/\?.+$/,h=a,h=c.test(a)?a.replace(c,"$1"+b+"="+d):f.test(a)?a+"&"+b+"="+d:a+"?"+b+"="+d;e&&(h+="#"+e);return h}}});
define("pat-jquery-ext",["jquery"],function(d){var h={init:function(e){var f={time:3,initialTime:8,exceptionAreas:[]};return this.each(function(){var a=d(this);a.data("timeout")||(e&&d.extend(f,e),a.data("timeout",{lastEvent:new Date,trueTime:f.time,time:f.initialTime,untouched:!0,inExceptionArea:!1}),a.bind("mouseover.timeout",h.mouseMoved),a.bind("mouseenter.timeout",h.mouseMoved),d(f.exceptionAreas).each(function(){a.find(this).live("mouseover.timeout",{parent:a},h.enteredException).live("mouseleave.timeout",
{parent:a},h.leftException)}),0<f.initialTime?a.timeout("startTimer"):a.addClass("timeout"))})},enteredException:function(d){var f=d.data.parent.data("timeout");f.inExceptionArea=!0;d.data.parent.data("timeout",f);d.data.parent.trigger("mouseover")},leftException:function(d){var f=d.data.parent.data("timeout");f.inExceptionArea=!1;d.data.parent.data("timeout",f)},destroy:function(){return this.each(function(){var e=d(this),f=e.data("timeout");d(window).unbind(".timeout");f.timeout.remove();e.removeData("timeout")})},
mouseMoved:function(){var e=d(this),f=e.data("timeout");e.hasClass("timeout")?(e.removeClass("timeout"),e.timeout("startTimer")):f.untouched&&(f.untouched=!1,f.time=f.trueTime);f.lastEvent=new Date;e.data("timeout",f)},startTimer:function(){var e=d(this),f=e.data("timeout"),a=function(){var b=e.data("timeout");b&&b.lastEvent&&(b.inExceptionArea?setTimeout(a,Math.floor(1E3*b.time)):(b=Math.floor(1E3*b.time)-(new Date-b.lastEvent),0<b?setTimeout(a,b+100):e.addClass("timeout")))};setTimeout(a,Math.floor(1E3*
f.time))}};d.fn.timeout=function(e){if(h[e])return h[e].apply(this,Array.prototype.slice.call(arguments,1));if("object"!==typeof e&&e)d.error("Method "+e+" does not exist on jQuery.timeout");else return h.init.apply(this,arguments)};d.extend(d.expr[":"],{scrollable:function(e){return"scroll"===d(e).css("overflow")||"scroll"===d(e).css("overflowX")||"scroll"===d(e).css("overflowY")||e.clientHeight<e.scrollHeight&&(-1!==d.inArray(d(e).css("overflowY"),["scroll","auto"])||-1!==d.inArray(d(e).css("overflow"),
["scroll","auto"]))?!0:e.clientWidth<e.scrollWidth&&(-1!==d.inArray(d(e).css("overflowX"),["scroll","auto"])||-1!==d.inArray(d(e).css("overflow"),["scroll","auto"]))}});d.fn.makeVisibleInScroll=function(e){var f=null;"string"===typeof e?f=d("#"+e):e&&(f=d(e));return this.each(function(){var a=d(this),b;f?b=f:(b=a.parents(":scrollable"),b=0<b.length?d(b[0]):d(window));var e=a.position().top,c=a.height()+e,k=b.scrollTop(),h=b.height()+k;e<k?b.scrollTop(e):c>h-b.height()/2&&b.scrollTop(e-(b.height()-
a.height())/2)})};d.fn.setPositionAbsolute=function(e,f,a){return this.each(function(){var b=d(this),g=d(this).width(),c=e.offset(),k=e.width(),h=e.height();b.css({"z-index":1,position:"absolute",marginLeft:0,marginTop:0,left:c.left+k-g+a+"px",top:c.top+h+f+"px",width:g});b.remove().appendTo("body").show()})};d.fn.positionAncestor=function(e){var f=0,a=0;this.each(function(){var b=d(this).closest(e);if(b.length&&"static"!==b.css("position")){var g=d(this),c=g.offset().left-parseInt(g.css("marginLeft"),
10),g=g.offset().top-parseInt(g.css("marginTop"),10),k=b.offset().left+parseInt(b.css("borderLeftWidth"),10),b=b.offset().top+parseInt(b.css("borderTopWidth"),10);f=c-k;a=g-b;return!1}});return{left:f,top:a}};String.prototype.startsWith=function(d){return null!==this.match("^"+d)};String.prototype.endsWith=function(d){return null!==this.match(d+"$")};d.simplePlaceholder={placeholder_class:null,hide_placeholder:function(){var e=d(this);e.val()===e.attr("placeholder")&&e.val("").removeClass(d.simplePlaceholder.placeholder_class)},
show_placeholder:function(){var e=d(this);""===e.val()&&e.val(e.attr("placeholder")).addClass(d.simplePlaceholder.placeholder_class)},prevent_placeholder_submit:function(){d(this).find(".simple-placeholder").each(function(){var e=d(this);e.val()===e.attr("placeholder")&&e.val("")});return!0}};d.fn.simplePlaceholder=function(e){if(void 0===document.createElement("input").placeholder){var f={placeholder_class:"placeholding"};e&&d.extend(f,e);d.simplePlaceholder.placeholder_class=f.placeholder_class;
this.each(function(){var a=d(this);a.focus(d.simplePlaceholder.hide_placeholder);a.blur(d.simplePlaceholder.show_placeholder);""===a.val()&&(a.val(a.attr("placeholder")),a.addClass(d.simplePlaceholder.placeholder_class));a.addClass("simple-placeholder");d(this.form).submit(d.simplePlaceholder.prevent_placeholder_submit)})}return this};d.fn.findInclusive=function(d){return this.find("*").addBack().filter(d)};d.fn.slideIn=function(d,f,a){return this.animate({width:"show"},d,f,a)};d.fn.slideOut=function(d,
f,a){return this.animate({width:"hide"},d,f,a)};d.expr[":"].Contains=function(e,f,a){return 0<=d(e).text().toUpperCase().indexOf(a[3].toUpperCase())};d.fn.scopedFind=function(e){return e.startsWith("#")?d(e):this.find(e)}});
define("pat-compat",[],function(){Array.prototype.every||(Array.prototype.every=function(d,h){if(null===this)throw new TypeError;var e=Object(this),f=e.length>>>0;if("function"!==typeof d)throw new TypeError;for(var a=0;a<f;a++)if(a in e&&!d.call(h,e[a],a,e))return!1;return!0});Array.prototype.filter||(Array.prototype.filter=function(d,h){if(null===this)throw new TypeError;var e=Object(this),f=e.length>>>0;if("function"!==typeof d)throw new TypeError;for(var a=[],b=0;b<f;b++)if(b in e){var g=e[b];
d.call(h,g,b,e)&&a.push(g)}return a});Array.prototype.forEach||(Array.prototype.forEach=function(d,h){var e,f;if(null===this)throw new TypeError(" this is null or not defined");var a=Object(this),b=a.length>>>0;if("[object Function]"!=={}.toString.call(d))throw new TypeError(d+" is not a function");h&&(e=h);for(f=0;f<b;){var g;f in a&&(g=a[f],d.call(e,g,f,a));f++}});Array.prototype.indexOf||(Array.prototype.indexOf=function(d){if(null===this)throw new TypeError;var h=Object(this),e=h.length>>>0;if(0===
e)return-1;var f=0;0<arguments.length&&(f=Number(arguments[1]),f!==f?f=0:0!==f&&Infinity!==f&&-Infinity!==f&&(f=(0<f||-1)*Math.floor(Math.abs(f))));if(f>=e)return-1;for(f=0<=f?f:Math.max(e-Math.abs(f),0);f<e;f++)if(f in h&&h[f]===d)return f;return-1});Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(d){if(null===this)throw new TypeError;var h=Object(this),e=h.length>>>0;if(0===e)return-1;var f=e;1<arguments.length&&(f=Number(arguments[1]),f!==f?f=0:0!==f&&f!==1/0&&f!==-(1/0)&&(f=
(0<f||-1)*Math.floor(Math.abs(f))));for(e=0<=f?Math.min(f,e-1):e-Math.abs(f);0<=e;e--)if(e in h&&h[e]===d)return e;return-1});Array.prototype.map||(Array.prototype.map=function(d,h){var e,f,a;if(null===this)throw new TypeError(" this is null or not defined");var b=Object(this),g=b.length>>>0;if("[object Function]"!=={}.toString.call(d))throw new TypeError(d+" is not a function");h&&(e=h);f=Array(g);for(a=0;a<g;){var c;a in b&&(c=b[a],c=d.call(e,c,a,b),f[a]=c);a++}return f});Array.prototype.reduce||
(Array.prototype.reduce=function(d){if(null===this||void 0===this)throw new TypeError("Object is null or undefined");var h=0,e=this.length>>0,f;if("function"!==typeof d)throw new TypeError("First argument is not callable");if(2>arguments.length){if(0===e)throw new TypeError("Array length is 0 and no second argument");f=this[0];h=1}else f=arguments[1];for(;h<e;)h in this&&(f=d.call(void 0,f,this[h],h,this)),++h;return f});Array.prototype.reduceRight||(Array.prototype.reduceRight=function(d){if(null===
this)throw new TypeError;var h=Object(this),e=h.length>>>0;if("function"!==typeof d)throw new TypeError;if(0===e&&1===arguments.length)throw new TypeError;var e=e-1,f;if(2<=arguments.length)f=arguments[1];else{do{if(e in this){f=this[e--];break}if(0>--e)throw new TypeError;}while(1)}for(;0<=e;)e in h&&(f=d.call(void 0,f,h[e],e,h)),e--;return f});Array.prototype.some||(Array.prototype.some=function(d,h){if(null===this)throw new TypeError;var e=Object(this),f=e.length>>>0;if("function"!==typeof d)throw new TypeError;
for(var a=0;a<f;a++)if(a in e&&d.call(h,e[a],a,e))return!0;return!1});Array.isArray||(Array.isArray=function(d){return"[object Array]"===Object.prototype.toString.call(d)});String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});Function.prototype.bind||(Function.prototype.bind=function(d){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var h=Array.prototype.slice.call(arguments,1),e=this,
f=function(){},a=function(){return e.apply(this instanceof f&&d?this:d,h.concat(Array.prototype.slice.call(arguments)))};f.prototype=this.prototype;a.prototype=new f;return a});Object.keys||(Object.keys=function(){var d=Object.prototype.hasOwnProperty,h=!{toString:null}.propertyIsEnumerable("toString"),e="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),f=e.length;return function(a){if("object"!==typeof a&&"function"!==typeof a||null===a)throw new TypeError("Object.keys called on non-object");
var b=[],g;for(g in a)d.call(a,g)&&b.push(g);if(h)for(g=0;g<f;g++)d.call(a,e[g])&&b.push(e[g]);return b}}())});(function(d){"undefined"==typeof d.fn.each2&&d.extend(d.fn,{each2:function(h){for(var e=d([0]),f=-1,a=this.length;++f<a&&(e.context=e[0]=this[f])&&!1!==h.call(e[0],f,e););return this}})})(jQuery);
(function(d,h){function e(a){var c=d(document.createTextNode(""));a.before(c);c.before(a);c.remove()}function f(a){return a.replace(/[^\u0000-\u007E]/g,function(a){return K[a]||a})}function a(a,c){for(var b=0,d=c.length;b<d;b+=1)if(g(a,c[b]))return b;return-1}function b(){var a=d("<div class='select2-measure-scrollbar'></div>");a.appendTo("body");var c={width:a.width()-a[0].clientWidth,height:a.height()-a[0].clientHeight};a.remove();return c}function g(a,c){return a===c?!0:a===h||c===h||null===a||
null===c?!1:a.constructor===String?a+""===c+"":c.constructor===String?c+""===a+"":!1}function c(a,c){var b,e,f;if(null===a||1>a.length)return[];b=a.split(c);e=0;for(f=b.length;e<f;e+=1)b[e]=d.trim(b[e]);return b}function k(a){return a.outerWidth(!1)-a.width()}function l(a){a.on("keydown",function(){d.data(a,"keyup-change-value")===h&&d.data(a,"keyup-change-value",a.val())});a.on("keyup",function(){var c=d.data(a,"keyup-change-value");c!==h&&a.val()!==c&&(d.removeData(a,"keyup-change-value"),a.trigger("keyup-change"))})}
function n(a){a.on("mousemove",function(a){var c=A;c!==h&&c.x===a.pageX&&c.y===a.pageY||d(a.target).trigger("mousemove-filtered",a)})}function p(a,c,b){b=b||h;var d;return function(){var e=arguments;window.clearTimeout(d);d=window.setTimeout(function(){c.apply(b,e)},a)}}function m(c,b){var d=p(c,function(a){b.trigger("scroll-debounced",a)});b.on("scroll",function(c){0<=a(c.target,b.get())&&d(c)})}function u(a){a[0]!==document.activeElement&&window.setTimeout(function(){var c=a[0],b=a.val().length;
a.focus();(0<c.offsetWidth||0<c.offsetHeight)&&c===document.activeElement&&(c.setSelectionRange?c.setSelectionRange(b,b):c.createTextRange&&(c=c.createTextRange(),c.collapse(!1),c.select()))},0)}function t(a){a.preventDefault();a.stopPropagation()}function w(a,c,b){var e,f=[],g;(e=d.trim(a.attr("class")))&&d((""+e).split(/\s+/)).each2(function(){0===this.indexOf("select2-")&&f.push(this)});if(e=d.trim(c.attr("class")))e=""+e,d(e.split(/\s+/)).each2(function(){0!==this.indexOf("select2-")&&(g=b(this))&&
f.push(g)});a.attr("class",f.join(" "))}function v(a,c,b,d){var e=f(a.toUpperCase()).indexOf(f(c.toUpperCase()));c=c.length;0>e?b.push(d(a)):(b.push(d(a.substring(0,e))),b.push("<span class='select2-match'>"),b.push(d(a.substring(e,e+c))),b.push("</span>"),b.push(d(a.substring(e+c,a.length))))}function q(a){var c={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(a).replace(/[&<>"'\/\\]/g,function(a){return c[a]})}function D(a){var c,b=null,e=a.quietMillis||
100,f=a.url,g=this;return function(k){window.clearTimeout(c);c=window.setTimeout(function(){var c=a.data,e=f,r=a.transport||d.fn.select2.ajaxDefaults.transport,n=d.extend({},d.fn.select2.ajaxDefaults.params,{type:a.type||"GET",cache:a.cache||!1,jsonpCallback:a.jsonpCallback||h,dataType:a.dataType||"json"}),c=c?c.call(g,k.term,k.page,k.context):null,e="function"===typeof e?e.call(g,k.term,k.page,k.context):e;b&&"function"===typeof b.abort&&b.abort();a.params&&(d.isFunction(a.params)?d.extend(n,a.params.call(g)):
d.extend(n,a.params));d.extend(n,{url:e,dataType:a.dataType,data:c,success:function(c){c=a.results(c,k.page,k);k.callback(c)},error:function(a,c,b){k.callback({hasError:!0,jqXHR:a,textStatus:c,errorThrown:b})}});b=r.call(g,n)},e)}}function I(a){var c=a,b,e,f=function(a){return""+a.text};d.isArray(c)&&(e=c,c={results:e});!1===d.isFunction(c)&&(e=c,c=function(){return e});a=c();a.text&&(f=a.text,d.isFunction(f)||(b=a.text,f=function(a){return a[b]}));return function(a){var b=a.term,e={results:[]},g;
""===b?a.callback(c()):(g=function(c,e){var k,da;c=c[0];if(c.children){k={};for(da in c)c.hasOwnProperty(da)&&(k[da]=c[da]);k.children=[];d(c.children).each2(function(a,c){g(c,k.children)});(k.children.length||a.matcher(b,f(k),c))&&e.push(k)}else a.matcher(b,f(c),c)&&e.push(c)},d(c().results).each2(function(a,c){g(c,e.results)}),a.callback(e))}}function O(a){var c=d.isFunction(a);return function(b){var e=b.term,f={results:[]},g=c?a(b):a;d.isArray(g)&&(d(g).each(function(){var a=this.text!==h,c=a?
this.text:this;(""===e||b.matcher(e,c))&&f.results.push(a?this:{id:this,text:this})}),b.callback(f))}}function F(a,c){if(d.isFunction(a))return!0;if(!a)return!1;if("string"===typeof a)return!0;throw Error(c+" must be a string, function, or falsy value");}function B(a,c){if(d.isFunction(a)){var b=Array.prototype.slice.call(arguments,2);return a.apply(c,b)}return a}function H(a){var c=0;d.each(a,function(a,b){b.children?c+=H(b.children):c++});return c}function T(a,c,b,d){var e=a,f=!1,k,r,n,l;if(!d.createSearchChoice||
!d.tokenSeparators||1>d.tokenSeparators.length)return h;for(;;){f=-1;r=0;for(n=d.tokenSeparators.length;r<n&&!(l=d.tokenSeparators[r],f=a.indexOf(l),0<=f);r++);if(0>f)break;k=a.substring(0,f);a=a.substring(f+l.length);if(0<k.length&&(k=d.createSearchChoice.call(this,k,c),k!==h&&null!==k&&d.id(k)!==h&&null!==d.id(k))){f=!1;r=0;for(n=c.length;r<n;r++)if(g(d.id(k),d.id(c[r]))){f=!0;break}f||b(k)}}if(e!==a)return a}function V(){var a=this;d.each(arguments,function(c,b){a[b].remove();a[b]=null})}function W(a,
c){var b=function(){};b.prototype=new a;b.prototype.constructor=b;b.prototype.parent=a.prototype;b.prototype=d.extend(b.prototype,c);return b}if(window.Select2===h){var x,E,X,P,r,z,A={x:0,y:0},y,ba;x={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(a){a=a.which?a.which:a;switch(a){case x.LEFT:case x.RIGHT:case x.UP:case x.DOWN:return!0}return!1},isControl:function(a){switch(a.which){case x.SHIFT:case x.CTRL:case x.ALT:return!0}return a.metaKey?
!0:!1},isFunctionKey:function(a){a=a.which?a.which:a;return 112<=a&&123>=a}};var K={"\u24b6":"A","\uff21":"A","\u00c0":"A","\u00c1":"A","\u00c2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\u00c3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\u00c4":"A","\u01de":"A","\u1ea2":"A","\u00c5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A",
"\ua732":"AA","\u00c6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u00c7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D",
"\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\u00c8":"E","\u00c9":"E","\u00ca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\u00cb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F",
"\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\u00cc":"I","\u00cd":"I","\u00ce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\u00cf":"I",
"\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L",
"\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\u00d1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\u00d2":"O","\u00d3":"O","\u00d4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O",
"\u00d5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\u00d6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\u00d8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P",
"\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S",
"\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\u00d9":"U","\u00da":"U","\u00db":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\u00dc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U",
"\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\u00dd":"Y","\u0176":"Y",
"\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\u00e0":"a","\u00e1":"a","\u00e2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\u00e3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a",
"\u0227":"a","\u01e1":"a","\u00e4":"a","\u01df":"a","\u1ea3":"a","\u00e5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\u00e6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c",
"\u010b":"c","\u010d":"c","\u00e7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\u00e8":"e","\u00e9":"e","\u00ea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\u00eb":"e",
"\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h",
"\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\u00ec":"i","\u00ed":"i","\u00ee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\u00ef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k",
"\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\u00f1":"n","\u1e45":"n",
"\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\u00f2":"o","\u00f3":"o","\u00f4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\u00f5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\u00f6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o",
"\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\u00f8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r",
"\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\u00df":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t",
"\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\u00f9":"u","\u00fa":"u","\u00fb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\u00fc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v",
"\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\u00fd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\u00ff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z",
"\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03c9":"\u03c9","\u03c2":"\u03c3"};y=d(document);r=function(){var a=
1;return function(){return a++}}();E=W(Object,{bind:function(a){var c=this;return function(){a.apply(c,arguments)}},init:function(a){var c,e;this.opts=a=this.prepareOpts(a);this.id=a.id;a.element.data("select2")!==h&&null!==a.element.data("select2")&&a.element.data("select2").destroy();this.container=this.createContainer();this.liveRegion=d("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body);this.containerId="s2id_"+(a.element.attr("id")||"autogen"+
r());this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1");this.container.attr("id",this.containerId);this.container.attr("title",a.element.attr("title"));this.body=d("body");w(this.container,this.opts.element,this.opts.adaptContainerCssClass);this.container.attr("style",a.element.attr("style"));this.container.css(B(a.containerCss,this.opts.element));this.container.addClass(B(a.containerCssClass,this.opts.element));this.elementTabIndex=
this.opts.element.attr("tabindex");this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",t);this.container.data("select2",this);this.dropdown=this.container.find(".select2-drop");w(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass);this.dropdown.addClass(B(a.dropdownCssClass,this.opts.element));this.dropdown.data("select2",this);this.dropdown.on("click",t);this.results=c=this.container.find(".select2-results");this.search=e=this.container.find("input.select2-input");
this.resultsPage=this.queryCount=0;this.context=null;this.initContainer();this.container.on("click",t);n(this.results);this.dropdown.on("mousemove-filtered",".select2-results",this.bind(this.highlightUnderEvent));this.dropdown.on("touchstart touchmove touchend",".select2-results",this.bind(function(a){this._touchEvent=!0;this.highlightUnderEvent(a)}));this.dropdown.on("touchmove",".select2-results",this.bind(this.touchMoved));this.dropdown.on("touchstart touchend",".select2-results",this.bind(this.clearTouchMoved));
this.dropdown.on("click",this.bind(function(a){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())}));m(80,this.results);this.dropdown.on("scroll-debounced",".select2-results",this.bind(this.loadMoreIfNeeded));d(this.container).on("change",".select2-input",function(a){a.stopPropagation()});d(this.dropdown).on("change",".select2-input",function(a){a.stopPropagation()});d.fn.mousewheel&&c.mousewheel(function(a,b,d,e){b=c.scrollTop();0<e&&0>=b-e?(c.scrollTop(0),t(a)):0>e&&c.get(0).scrollHeight-
c.scrollTop()+e<=c.height()&&(c.scrollTop(c.get(0).scrollHeight-c.height()),t(a))});l(e);e.on("keyup-change input paste",this.bind(this.updateResults));e.on("focus",function(){e.addClass("select2-focused")});e.on("blur",function(){e.removeClass("select2-focused")});this.dropdown.on("mouseup",".select2-results",this.bind(function(a){0<d(a.target).closest(".select2-result-selectable").length&&(this.highlightUnderEvent(a),this.selectHighlighted(a))}));this.dropdown.on("click mouseup mousedown touchstart touchend focusin",
function(a){a.stopPropagation()});this.nextSearchTerm=h;d.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource());null!==a.maximumInputLength&&this.search.attr("maxlength",a.maximumInputLength);var f=a.element.prop("disabled");f===h&&(f=!1);this.enable(!f);f=a.element.prop("readonly");f===h&&(f=!1);this.readonly(f);ba=ba||b();this.autofocus=a.element.prop("autofocus");a.element.prop("autofocus",!1);this.autofocus&&this.focus();this.search.attr("placeholder",a.searchInputPlaceholder)},
destroy:function(){var a=this.opts.element,c=a.data("select2"),b=this;this.close();a.length&&a[0].detachEvent&&a.each(function(){this.detachEvent("onpropertychange",b._sync)});this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null);this._sync=null;c!==h&&(c.container.remove(),c.liveRegion.remove(),c.dropdown.remove(),a.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?a.attr({tabindex:this.elementTabIndex}):
a.removeAttr("tabindex"),a.show());V.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(a){if(a.is("option"))return{id:a.prop("value"),text:a.text(),element:a.get(),css:a.attr("class"),disabled:a.prop("disabled"),locked:g(a.attr("locked"),"locked")||g(a.data("locked"),!0)};if(a.is("optgroup"))return{text:a.attr("label"),children:[],element:a.get(),css:a.attr("class")}},prepareOpts:function(a){var b,e,f,k=this;b=a.element;"select"===b.get(0).tagName.toLowerCase()&&
(this.select=e=a.element);e&&d.each("id multiple ajax query createSearchChoice initSelection data tags".split(" "),function(){if(this in a)throw Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.");});a=d.extend({},{populateResults:function(c,b,e){var f,g=this.opts.id,n=this.liveRegion;f=function(c,b,l){var z,aa,p,C,m,y,A;c=a.sortResults(c,b,e);var ea=[];z=0;for(aa=c.length;z<aa;z+=1)p=c[z],m=!0===p.disabled,C=!m&&g(p)!==h,y=p.children&&0<p.children.length,A=
d("<li></li>"),A.addClass("select2-results-dept-"+l),A.addClass("select2-result"),A.addClass(C?"select2-result-selectable":"select2-result-unselectable"),m&&A.addClass("select2-disabled"),y&&A.addClass("select2-result-with-children"),A.addClass(k.opts.formatResultCssClass(p)),A.attr("role","presentation"),C=d(document.createElement("div")),C.addClass("select2-result-label"),C.attr("id","select2-result-label-"+r()),C.attr("role","option"),m=a.formatResult(p,C,e,k.opts.escapeMarkup),m!==h&&(C.html(m),
A.append(C)),y&&(y=d("<ul></ul>"),y.addClass("select2-result-sub"),f(p.children,y,l+1),A.append(y)),A.data("select2-data",p),ea.push(A[0]);b.append(ea);n.text(a.formatMatches(c.length))};f(b,c,0)}},d.fn.select2.defaults,a);"function"!==typeof a.id&&(f=a.id,a.id=function(a){return a[f]});if(d.isArray(a.element.data("select2Tags"))){if("tags"in a)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+a.element.attr("id");a.tags=a.element.data("select2Tags")}e?(a.query=
this.bind(function(a){var c={results:[],more:!1},d=a.term,e,f,g;g=function(c,b){var e;c.is("option")?a.matcher(d,c.text(),c)&&b.push(k.optionToData(c)):c.is("optgroup")&&(e=k.optionToData(c),c.children().each2(function(a,c){g(c,e.children)}),0<e.children.length&&b.push(e))};e=b.children();this.getPlaceholder()!==h&&0<e.length&&(f=this.getPlaceholderOption())&&(e=e.not(f));e.each2(function(a,b){g(b,c.results)});a.callback(c)}),a.id=function(a){return a.id}):"query"in a||("ajax"in a?((e=a.element.data("ajax-url"))&&
0<e.length&&(a.ajax.url=e),a.query=D.call(a.element,a.ajax)):"data"in a?a.query=I(a.data):"tags"in a&&(a.query=O(a.tags),a.createSearchChoice===h&&(a.createSearchChoice=function(a){return{id:d.trim(a),text:d.trim(a)}}),a.initSelection===h&&(a.initSelection=function(b,e){var f=[];d(c(b.val(),a.separator)).each(function(){var c={id:this,text:this},b=a.tags;d.isFunction(b)&&(b=b());d(b).each(function(){if(g(this.id,c.id))return c=this,!1});f.push(c)});e(f)})));if("function"!==typeof a.query)throw"query function not defined for Select2 "+
a.element.attr("id");if("top"===a.createSearchChoicePosition)a.createSearchChoicePosition=function(a,c){a.unshift(c)};else if("bottom"===a.createSearchChoicePosition)a.createSearchChoicePosition=function(a,c){a.push(c)};else if("function"!==typeof a.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return a},monitorSource:function(){var a=this.opts.element,c,b=this;a.on("change.select2",this.bind(function(a){!0!==this.opts.element.data("select2-change-triggered")&&
this.initSelection()}));this._sync=this.bind(function(){var c=a.prop("disabled");c===h&&(c=!1);this.enable(!c);c=a.prop("readonly");c===h&&(c=!1);this.readonly(c);w(this.container,this.opts.element,this.opts.adaptContainerCssClass);this.container.addClass(B(this.opts.containerCssClass,this.opts.element));w(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass);this.dropdown.addClass(B(this.opts.dropdownCssClass,this.opts.element))});a.length&&a[0].attachEvent&&a.each(function(){this.attachEvent("onpropertychange",
b._sync)});c=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;c!==h&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new c(function(a){d.each(a,b._sync)}),this.propertyObserver.observe(a.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(a){a=d.Event("select2-selecting",{val:this.id(a),object:a,choice:a});this.opts.element.trigger(a);return!a.isDefaultPrevented()},triggerChange:function(a){a=a||{};a=
d.extend({},a,{type:"change",val:this.val()});this.opts.element.data("select2-change-triggered",!0);this.opts.element.trigger(a);this.opts.element.data("select2-change-triggered",!1);this.opts.element.click();this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return!0===this.enabledInterface},enableInterface:function(){var a=this._enabled&&!this._readonly;if(a===this.enabledInterface)return!1;this.container.toggleClass("select2-container-disabled",!a);this.close();this.enabledInterface=
a;return!0},enable:function(a){a===h&&(a=!0);this._enabled!==a&&(this._enabled=a,this.opts.element.prop("disabled",!a),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(a){a===h&&(a=!1);this._readonly!==a&&(this._readonly=a,this.opts.element.prop("readonly",a),this.enableInterface())},opened:function(){return this.container?this.container.hasClass("select2-dropdown-open"):!1},positionDropdown:function(){var a=this.dropdown,c=this.container.offset(),b=this.container.outerHeight(!1),
e=this.container.outerWidth(!1),f=a.outerHeight(!1),g=d(window),k=g.width(),h=g.height(),r=g.scrollLeft()+k,h=g.scrollTop()+h,b=c.top+b,n=c.left,l=b+f<=h,z=c.top-f>=g.scrollTop(),p=a.outerWidth(!1),m=n+p<=r,A;a.hasClass("select2-drop-above")?(h=!0,!z&&l&&(A=!0,h=!1)):(h=!1,!l&&z&&(h=A=!0));A&&(a.hide(),c=this.container.offset(),b=this.container.outerHeight(!1),e=this.container.outerWidth(!1),f=a.outerHeight(!1),r=g.scrollLeft()+k,g.scrollTop(),b=c.top+b,n=c.left,p=a.outerWidth(!1),m=n+p<=r,a.show(),
this.focusSearch());this.opts.dropdownAutoWidth?(f=d(".select2-results",a)[0],a.addClass("select2-drop-auto-width"),a.css("width",""),p=a.outerWidth(!1)+(f.scrollHeight===f.clientHeight?0:ba.width),p>e?e=p:p=e,f=a.outerHeight(!1),m=n+p<=r):this.container.removeClass("select2-drop-auto-width");"static"!==this.body.css("position")&&(r=this.body.offset(),b-=r.top,n-=r.left);m||(n=c.left+this.container.outerWidth(!1)-p);e={left:n,width:e};h?(e.top=c.top-f,e.bottom="auto",this.container.addClass("select2-drop-above"),
a.addClass("select2-drop-above")):(e.top=b,e.bottom="auto",this.container.removeClass("select2-drop-above"),a.removeClass("select2-drop-above"));e=d.extend(e,B(this.opts.dropdownCss,this.opts.element));a.css(e)},shouldOpen:function(){var a;if(this.opened()||!1===this._enabled||!0===this._readonly)return!1;a=d.Event("select2-opening");this.opts.element.trigger(a);return!a.isDefaultPrevented()},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above");this.dropdown.removeClass("select2-drop-above")},
open:function(){if(!this.shouldOpen())return!1;this.opening();y.on("mousemove.select2Event",function(a){A.x=a.pageX;A.y=a.pageY});return!0},opening:function(){var a=this.containerEventName,c="scroll."+a,b="resize."+a,f="orientationchange."+a,g;this.container.addClass("select2-dropdown-open").addClass("select2-container-active");this.clearDropdownAlignmentPreference();this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body);g=d("#select2-drop-mask");0==g.length&&
(g=d(document.createElement("div")),g.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),g.hide(),g.appendTo(this.body),g.on("mousedown touchstart click",function(a){e(g);var c=d("#select2-drop");0<c.length&&(c=c.data("select2"),c.opts.selectOnBlur&&c.selectHighlighted({noFocus:!0}),c.close(),a.preventDefault(),a.stopPropagation())}));this.dropdown.prev()[0]!==g[0]&&this.dropdown.before(g);d("#select2-drop").removeAttr("id");this.dropdown.attr("id","select2-drop");g.show();this.positionDropdown();
this.dropdown.show();this.positionDropdown();this.dropdown.addClass("select2-drop-active");var k=this;this.container.parents().add(window).each(function(){d(this).on(b+" "+c+" "+f,function(a){k.opened()&&k.positionDropdown()})})},close:function(){if(this.opened()){var a=this.containerEventName,c="scroll."+a,b="resize."+a,e="orientationchange."+a;this.container.parents().add(window).each(function(){d(this).off(c).off(b).off(e)});this.clearDropdownAlignmentPreference();d("#select2-drop-mask").hide();
this.dropdown.removeAttr("id");this.dropdown.hide();this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active");this.results.empty();y.off("mousemove.select2Event");this.clearSearch();this.search.removeClass("select2-active");this.opts.element.trigger(d.Event("select2-close"))}},externalSearch:function(a){this.open();this.search.val(a);this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return B(this.opts.maximumSelectionSize,this.opts.element)},
ensureHighlightVisible:function(){var a=this.results,c,b,e,f,g;b=this.highlight();0>b||(0==b?a.scrollTop(0):(c=this.findHighlightableChoices().find(".select2-result-label"),e=d(c[b]),g=(e.offset()||{}).top||0,f=g+e.outerHeight(!0),b===c.length-1&&(c=a.find("li.select2-more-results"),0<c.length&&(f=c.offset().top+c.outerHeight(!0))),c=a.offset().top+a.outerHeight(!0),f>c&&a.scrollTop(a.scrollTop()+(f-c)),f=g-a.offset().top,0>f&&"none"!=e.css("display")&&a.scrollTop(a.scrollTop()+f)))},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},
moveHighlight:function(a){for(var c=this.findHighlightableChoices(),b=this.highlight();-1<b&&b<c.length;){var b=b+a,e=d(c[b]);if(e.hasClass("select2-result-selectable")&&!e.hasClass("select2-disabled")&&!e.hasClass("select2-selected")){this.highlight(b);break}}},highlight:function(c){var b=this.findHighlightableChoices();if(0===arguments.length)return a(b.filter(".select2-highlighted")[0],b.get());c>=b.length&&(c=b.length-1);0>c&&(c=0);this.removeHighlight();b=d(b[c]);b.addClass("select2-highlighted");
this.search.attr("aria-activedescendant",b.find(".select2-result-label").attr("id"));this.ensureHighlightVisible();this.liveRegion.text(b.text());(b=b.data("select2-data"))&&this.opts.element.trigger({type:"select2-highlight",val:this.id(b),choice:b})},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},
highlightUnderEvent:function(a){a=d(a.target).closest(".select2-result-selectable");if(0<a.length&&!a.is(".select2-highlighted")){var c=this.findHighlightableChoices();this.highlight(c.index(a))}else 0==a.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var a=this.results,c=a.find("li.select2-more-results"),b,d=this.resultsPage+1,e=this,f=this.search.val(),g=this.context;0!==c.length&&(b=c.offset().top-a.offset().top-a.height(),b<=this.opts.loadMorePadding&&(c.addClass("select2-active"),
this.opts.query({element:this.opts.element,term:f,page:d,context:g,matcher:this.opts.matcher,callback:this.bind(function(b){e.opened()&&(e.opts.populateResults.call(this,a,b.results,{term:f,page:d,context:g}),e.postprocessResults(b,!1,!1),!0===b.more?(c.detach().appendTo(a).text(B(e.opts.formatLoadMore,e.opts.element,d+1)),window.setTimeout(function(){e.loadMoreIfNeeded()},10)):c.remove(),e.positionDropdown(),e.resultsPage=d,e.context=b.context,this.opts.element.trigger({type:"select2-loaded",items:b}))})})))},
tokenize:function(){},updateResults:function(a){function c(){e.removeClass("select2-active");n.positionDropdown();f.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?n.liveRegion.text(f.text()):n.liveRegion.text(n.opts.formatMatches(f.find(".select2-result-selectable").length))}function b(a){f.html(a);c()}var e=this.search,f=this.results,k=this.opts,r,n=this;r=e.val();var l=d.data(this.container,"select2-last-term"),z;if(!0===a||!l||!g(r,l))if(d.data(this.container,"select2-last-term",
r),!0===a||!1!==this.showSearchInput&&this.opened()){z=++this.queryCount;l=this.getMaximumSelectionSize();if(1<=l&&(r=this.data(),d.isArray(r)&&r.length>=l&&F(k.formatSelectionTooBig,"formatSelectionTooBig"))){b("<li class='select2-selection-limit'>"+B(k.formatSelectionTooBig,k.element,l)+"</li>");return}e.val().length<k.minimumInputLength?(F(k.formatInputTooShort,"formatInputTooShort")?b("<li class='select2-no-results'>"+B(k.formatInputTooShort,k.element,e.val(),k.minimumInputLength)+"</li>"):b(""),
a&&this.showSearch&&this.showSearch(!0)):k.maximumInputLength&&e.val().length>k.maximumInputLength?F(k.formatInputTooLong,"formatInputTooLong")?b("<li class='select2-no-results'>"+B(k.formatInputTooLong,k.element,e.val(),k.maximumInputLength)+"</li>"):b(""):(k.formatSearching&&0===this.findHighlightableChoices().length&&b("<li class='select2-searching'>"+B(k.formatSearching,k.element)+"</li>"),e.addClass("select2-active"),this.removeHighlight(),r=this.tokenize(),r!=h&&null!=r&&e.val(r),this.resultsPage=
1,k.query({element:k.element,term:e.val(),page:this.resultsPage,context:null,matcher:k.matcher,callback:this.bind(function(r){var l;z==this.queryCount&&(this.opened()?r.hasError!==h&&F(k.formatAjaxError,"formatAjaxError")?b("<li class='select2-ajax-error'>"+B(k.formatAjaxError,k.element,r.jqXHR,r.textStatus,r.errorThrown)+"</li>"):(this.context=r.context===h?null:r.context,this.opts.createSearchChoice&&""!==e.val()&&(l=this.opts.createSearchChoice.call(n,e.val(),r.results),l!==h&&null!==l&&n.id(l)!==
h&&null!==n.id(l)&&0===d(r.results).filter(function(){return g(n.id(this),n.id(l))}).length&&this.opts.createSearchChoicePosition(r.results,l)),0===r.results.length&&F(k.formatNoMatches,"formatNoMatches")?b("<li class='select2-no-results'>"+B(k.formatNoMatches,k.element,e.val())+"</li>"):(f.empty(),n.opts.populateResults.call(this,f,r.results,{term:e.val(),page:this.resultsPage,context:null}),!0===r.more&&F(k.formatLoadMore,"formatLoadMore")&&(f.append("<li class='select2-more-results'>"+k.escapeMarkup(B(k.formatLoadMore,
k.element,this.resultsPage))+"</li>"),window.setTimeout(function(){n.loadMoreIfNeeded()},10)),this.postprocessResults(r,a),c(),this.opts.element.trigger({type:"select2-loaded",items:r}))):this.search.removeClass("select2-active"))})}))}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0});this.close();this.container.removeClass("select2-container-active");this.search[0]===document.activeElement&&this.search.blur();this.clearSearch();this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},
focusSearch:function(){u(this.search)},selectHighlighted:function(a){if(this._touchMoved)this.clearTouchMoved();else{var c=this.highlight(),b=this.results.find(".select2-highlighted").closest(".select2-result").data("select2-data");b?(this.highlight(c),this.onSelect(b,a)):a&&a.noFocus&&this.close()}},getPlaceholder:function(){var a;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((a=this.getPlaceholderOption())!==
h?a.text():h)},getPlaceholderOption:function(){if(this.select){var a=this.select.children("option").first();if(this.opts.placeholderOption!==h)return"first"===this.opts.placeholderOption&&a||"function"===typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===d.trim(a.text())&&""===a.val())return a}},initContainerWidth:function(){var a=function(){var a,c,b,e;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?
"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){a=this.opts.element.attr("style");if(a!==h)for(a=a.split(";"),b=0,e=a.length;b<e;b+=1)if(c=a[b].replace(/\s/g,""),c=c.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==c&&1<=c.length)return c[1];return"resolve"===this.opts.width?(a=this.opts.element.css("width"),0<a.indexOf("%")?a:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return d.isFunction(this.opts.width)?
this.opts.width():this.opts.width}.call(this);null!==a&&this.container.css("width",a)}});X=W(E,{createContainer:function(){return d(document.createElement("div")).attr({"class":"select2-container"}).html("<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span></a><label for='' class='select2-offscreen'></label><input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' /><div class='select2-drop select2-display-none'>   <div class='select2-search'>       <label for='' class='select2-offscreen'></label>       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'       aria-autocomplete='list' />   </div>   <ul class='select2-results' role='listbox'>   </ul></div>")},
enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var a,c;0<=this.opts.minimumResultsForSearch&&this.showSearch(!0);this.parent.opening.apply(this,arguments);!1!==this.showSearchInput&&this.search.val(this.focusser.val());this.opts.shouldFocusInput(this)&&(this.search.focus(),a=this.search.get(0),a.createTextRange?(a=a.createTextRange(),a.collapse(!1),a.select()):a.setSelectionRange&&(c=this.search.val().length,
a.setSelectionRange(c,c)));""===this.search.val()&&this.nextSearchTerm!=h&&(this.search.val(this.nextSearchTerm),this.search.select());this.focusser.prop("disabled",!0).val("");this.updateResults(!0);this.opts.element.trigger(d.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&
this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments);this.focusser.prop("disabled",!1);this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){d("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id"));this.parent.destroy.apply(this,arguments);V.call(this,"selection","focusser")},initContainer:function(){var a,c=this.container,b=this.dropdown,
f=r();0>this.opts.minimumResultsForSearch?this.showSearch(!1):this.showSearch(!0);this.selection=a=c.find(".select2-choice");this.focusser=c.find(".select2-focusser");a.find(".select2-chosen").attr("id","select2-chosen-"+f);this.focusser.attr("aria-labelledby","select2-chosen-"+f);this.results.attr("id","select2-results-"+f);this.search.attr("aria-owns","select2-results-"+f);this.focusser.attr("id","s2id_autogen"+f);c=d("label[for='"+this.opts.element.attr("id")+"']");this.focusser.prev().text(c.text()).attr("for",
this.focusser.attr("id"));f=this.opts.element.attr("title");this.opts.element.attr("title",f||c.text());this.focusser.attr("tabindex",this.elementTabIndex);this.search.attr("id",this.focusser.attr("id")+"_search");this.search.prev().text(d("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id"));this.search.on("keydown",this.bind(function(a){if(this.isInterfaceEnabled()&&229!=a.keyCode)if(a.which===x.PAGE_UP||a.which===x.PAGE_DOWN)t(a);else switch(a.which){case x.UP:case x.DOWN:this.moveHighlight(a.which===
x.UP?-1:1);t(a);break;case x.ENTER:this.selectHighlighted();t(a);break;case x.TAB:this.selectHighlighted({noFocus:!0});break;case x.ESC:this.cancel(a),t(a)}}));this.search.on("blur",this.bind(function(a){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.search.focus()}),0)}));this.focusser.on("keydown",this.bind(function(a){if(this.isInterfaceEnabled()&&a.which!==x.TAB&&!x.isControl(a)&&!x.isFunctionKey(a)&&a.which!==x.ESC)if(!1===this.opts.openOnEnter&&
a.which===x.ENTER)t(a);else if(a.which==x.DOWN||a.which==x.UP||a.which==x.ENTER&&this.opts.openOnEnter)a.altKey||a.ctrlKey||a.shiftKey||a.metaKey||(this.open(),t(a));else if(a.which==x.DELETE||a.which==x.BACKSPACE)this.opts.allowClear&&this.clear(),t(a)}));l(this.focusser);this.focusser.on("keyup-change input",this.bind(function(a){0<=this.opts.minimumResultsForSearch&&(a.stopPropagation(),this.opened()||this.open())}));a.on("mousedown touchstart","abbr",this.bind(function(a){this.isInterfaceEnabled()&&
(this.clear(),a.preventDefault(),a.stopImmediatePropagation(),this.close(),this.selection.focus())}));a.on("mousedown touchstart",this.bind(function(c){e(a);this.container.hasClass("select2-container-active")||this.opts.element.trigger(d.Event("select2-focus"));this.opened()?this.close():this.isInterfaceEnabled()&&this.open();t(c)}));b.on("mousedown touchstart",this.bind(function(){this.opts.shouldFocusInput(this)&&this.search.focus()}));a.on("focus",this.bind(function(a){t(a)}));this.focusser.on("focus",
this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(d.Event("select2-focus"));this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(d.Event("select2-blur")))}));this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(d.Event("select2-focus"));this.container.addClass("select2-container-active")}));
this.initContainerWidth();this.opts.element.addClass("select2-offscreen");this.setPlaceholder()},clear:function(a){var c=this.selection.data("select2-data");if(c){var b=d.Event("select2-clearing");this.opts.element.trigger(b);b.isDefaultPrevented()||(b=this.getPlaceholderOption(),this.opts.element.val(b?b.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),!1!==a&&(this.opts.element.trigger({type:"select2-removed",val:this.id(c),
choice:c}),this.triggerChange({removed:c})))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var a=this;this.opts.initSelection.call(null,this.opts.element,function(c){c!==h&&null!==c&&(a.updateSelection(c),a.close(),a.setPlaceholder(),a.nextSearchTerm=a.opts.nextSearchTerm(c,a.search.val()))})}},isPlaceholderOptionSelected:function(){var a;return this.getPlaceholder()===h?!1:(a=this.getPlaceholderOption())!==h&&a.prop("selected")||
""===this.opts.element.val()||this.opts.element.val()===h||null===this.opts.element.val()},prepareOpts:function(){var a=this.parent.prepareOpts.apply(this,arguments),c=this;"select"===a.element.get(0).tagName.toLowerCase()?a.initSelection=function(a,b){var d=a.find("option").filter(function(){return this.selected&&!this.disabled});b(c.optionToData(d))}:"data"in a&&(a.initSelection=a.initSelection||function(c,b){var e=c.val(),f=null;a.query({matcher:function(c,b,d){(c=g(e,a.id(d)))&&(f=d);return c},
callback:d.isFunction(b)?function(){b(f)}:d.noop})});return a},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===h?h:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var a=this.getPlaceholder();!this.isPlaceholderOptionSelected()||a===h||this.select&&this.getPlaceholderOption()===h||(this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(a)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear"))},
postprocessResults:function(a,c,b){var d=0,e=this;this.findHighlightableChoices().each2(function(a,c){if(g(e.id(c.data("select2-data")),e.opts.element.val()))return d=a,!1});!1!==b&&(!0===c&&0<=d?this.highlight(d):this.highlight(0));!0===c&&(c=this.opts.minimumResultsForSearch,0<=c&&this.showSearch(H(a.results)>=c))},showSearch:function(a){this.showSearchInput!==a&&(this.showSearchInput=a,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!a),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",
!a),d(this.dropdown,this.container).toggleClass("select2-with-searchbox",a))},onSelect:function(a,c){if(this.triggerSelect(a)){var b=this.opts.element.val(),d=this.data();this.opts.element.val(this.id(a));this.updateSelection(a);this.opts.element.trigger({type:"select2-selected",val:this.id(a),choice:a});this.nextSearchTerm=this.opts.nextSearchTerm(a,this.search.val());this.close();c&&c.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus();g(b,this.id(a))||this.triggerChange({added:a,
removed:d})}},updateSelection:function(a){var c=this.selection.find(".select2-chosen"),b;this.selection.data("select2-data",a);c.empty();null!==a&&(b=this.opts.formatSelection(a,c,this.opts.escapeMarkup));b!==h&&c.append(b);a=this.opts.formatSelectionCssClass(a,c);a!==h&&c.addClass(a);this.selection.removeClass("select2-default");this.opts.allowClear&&this.getPlaceholder()!==h&&this.container.addClass("select2-allowclear")},val:function(){var a,c=!1,b=null,d=this,e=this.data();if(0===arguments.length)return this.opts.element.val();
a=arguments[0];1<arguments.length&&(c=arguments[1]);if(this.select)this.select.val(a).find("option").filter(function(){return this.selected}).each2(function(a,c){b=d.optionToData(c);return!1}),this.updateSelection(b),this.setPlaceholder(),c&&this.triggerChange({added:b,removed:e});else if(a||0===a){if(this.opts.initSelection===h)throw Error("cannot call val() if initSelection() is not defined");this.opts.element.val(a);this.opts.initSelection(this.opts.element,function(a){d.opts.element.val(a?d.id(a):
"");d.updateSelection(a);d.setPlaceholder();c&&d.triggerChange({added:a,removed:e})})}else this.clear(c)},clearSearch:function(){this.search.val("");this.focusser.val("")},data:function(a){var c,b=!1;if(0===arguments.length)return c=this.selection.data("select2-data"),c==h&&(c=null),c;1<arguments.length&&(b=arguments[1]);a?(c=this.data(),this.opts.element.val(a?this.id(a):""),this.updateSelection(a),b&&this.triggerChange({added:a,removed:c})):this.clear(b)}});P=W(E,{createContainer:function(){return d(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html("<ul class='select2-choices'>  <li class='select2-search-field'>    <label for='' class='select2-offscreen'></label>    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>  </li></ul><div class='select2-drop select2-drop-multi select2-display-none'>   <ul class='select2-results'>   </ul></div>")},
prepareOpts:function(){var a=this.parent.prepareOpts.apply(this,arguments),b=this;"select"===a.element.get(0).tagName.toLowerCase()?a.initSelection=function(a,c){var d=[];a.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(a,c){d.push(b.optionToData(c))});c(d)}:"data"in a&&(a.initSelection=a.initSelection||function(b,e){var f=c(b.val(),a.separator),k=[];a.query({matcher:function(c,b,e){(c=d.grep(f,function(c){return g(c,a.id(e))}).length)&&k.push(e);return c},
callback:d.isFunction(e)?function(){for(var c=[],b=0;b<f.length;b++)for(var d=f[b],r=0;r<k.length;r++){var h=k[r];if(g(d,a.id(h))){c.push(h);k.splice(r,1);break}}e(c)}:d.noop})});return a},selectChoice:function(a){var c=this.container.find(".select2-search-choice-focus");c.length&&a&&a[0]==c[0]||(c.length&&this.opts.element.trigger("choice-deselected",c),c.removeClass("select2-search-choice-focus"),a&&a.length&&(this.close(),a.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",
a)))},destroy:function(){d("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id"));this.parent.destroy.apply(this,arguments);V.call(this,"searchContainer","selection")},initContainer:function(){var a;this.searchContainer=this.container.find(".select2-search-field");this.selection=a=this.container.find(".select2-choices");var c=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(a){c.search[0].focus();c.selectChoice(d(this))});this.search.attr("id",
"s2id_autogen"+r());this.search.prev().text(d("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id"));this.search.on("input paste",this.bind(function(){this.search.attr("placeholder")&&0==this.search.val().length||this.isInterfaceEnabled()&&(this.opened()||this.open())}));this.search.attr("tabindex",this.elementTabIndex);this.keydowns=0;this.search.on("keydown",this.bind(function(c){var b,e;if(this.isInterfaceEnabled()){++this.keydowns;var f=a.find(".select2-search-choice-focus"),
g=f.prev(".select2-search-choice:not(.select2-locked)"),k=f.next(".select2-search-choice:not(.select2-locked)");b=this.search;b=d(b)[0];var r=0;e=0;"selectionStart"in b?(r=b.selectionStart,e=b.selectionEnd-r):"selection"in document&&(b.focus(),r=document.selection.createRange(),e=document.selection.createRange().text.length,r.moveStart("character",-b.value.length),r=r.text.length-e);b=r;if(!f.length||c.which!=x.LEFT&&c.which!=x.RIGHT&&c.which!=x.BACKSPACE&&c.which!=x.DELETE&&c.which!=x.ENTER)if((c.which!==
x.BACKSPACE||1!=this.keydowns)&&c.which!=x.LEFT||0!=b||e){this.selectChoice(null);if(this.opened())switch(c.which){case x.UP:case x.DOWN:this.moveHighlight(c.which===x.UP?-1:1);t(c);return;case x.ENTER:this.selectHighlighted();t(c);return;case x.TAB:this.selectHighlighted({noFocus:!0});this.close();return;case x.ESC:this.cancel(c);t(c);return}c.which===x.TAB||x.isControl(c)||x.isFunctionKey(c)||c.which===x.BACKSPACE||c.which===x.ESC||c.which===x.ENTER&&(!1===this.opts.openOnEnter||c.altKey||c.ctrlKey||
c.shiftKey||c.metaKey)||(this.open(),c.which!==x.PAGE_UP&&c.which!==x.PAGE_DOWN||t(c),c.which===x.ENTER&&t(c))}else this.selectChoice(a.find(".select2-search-choice:not(.select2-locked)").last()),t(c);else e=f,c.which==x.LEFT&&g.length?e=g:c.which==x.RIGHT?e=k.length?k:null:c.which===x.BACKSPACE?this.unselect(f.first())&&(this.search.width(10),e=g.length?g:k):c.which==x.DELETE?this.unselect(f.first())&&(this.search.width(10),e=k.length?k:null):c.which==x.ENTER&&(e=null),this.selectChoice(e),t(c),
e&&e.length||this.open()}}));this.search.on("keyup",this.bind(function(a){this.keydowns=0;this.resizeSearch()}));this.search.on("blur",this.bind(function(a){this.container.removeClass("select2-container-active");this.search.removeClass("select2-focused");this.selectChoice(null);this.opened()||this.clearSearch();a.stopImmediatePropagation();this.opts.element.trigger(d.Event("select2-blur"))}));this.container.on("click",".select2-choices",this.bind(function(a){!this.isInterfaceEnabled()||0<d(a.target).closest(".select2-search-choice").length||
(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(d.Event("select2-focus")),this.open(),this.focusSearch(),a.preventDefault())}));this.container.on("focus",".select2-choices",this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(d.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),
this.clearPlaceholder())}));this.initContainerWidth();this.opts.element.addClass("select2-offscreen");this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch());if(this.select||""!==this.opts.element.val()){var a=this;this.opts.initSelection.call(null,this.opts.element,
function(c){c!==h&&null!==c&&(a.updateSelection(c),a.close(),a.clearSearch())})}},clearSearch:function(){var a=this.getPlaceholder(),c=this.getMaxSearchWidth();a!==h&&0===this.getVal().length&&!1===this.search.hasClass("select2-focused")?(this.search.val(a).addClass("select2-default"),this.search.width(0<c?c:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder();
this.resizeSearch();this.parent.opening.apply(this,arguments);this.focusSearch();""===this.search.val()&&this.nextSearchTerm!=h&&(this.search.val(this.nextSearchTerm),this.search.select());this.updateResults(!0);this.opts.shouldFocusInput(this)&&this.search.focus();this.opts.element.trigger(d.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close();this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},
updateSelection:function(c){var b=[],e=[],f=this;d(c).each(function(){0>a(f.id(this),b)&&(b.push(f.id(this)),e.push(this))});c=e;this.selection.find(".select2-search-choice").remove();d(c).each(function(){f.addSelectedChoice(this)});f.postprocessResults()},tokenize:function(){var a=this.search.val(),a=this.opts.tokenizer.call(this,a,this.data(),this.bind(this.onSelect),this.opts);null!=a&&a!=h&&(this.search.val(a),0<a.length&&this.open())},onSelect:function(a,c){this.triggerSelect(a)&&""!==a.text&&
(this.addSelectedChoice(a),this.opts.element.trigger({type:"selected",val:this.id(a),choice:a}),this.nextSearchTerm=this.opts.nextSearchTerm(a,this.search.val()),this.clearSearch(),this.updateResults(),!this.select&&this.opts.closeOnSelect||this.postprocessResults(a,!1,!0===this.opts.closeOnSelect),this.opts.closeOnSelect?(this.close(),this.search.width(10)):0<this.countSelectableResults()?(this.search.width(10),this.resizeSearch(),0<this.getMaximumSelectionSize()&&this.val().length>=this.getMaximumSelectionSize()?
this.updateResults(!0):this.nextSearchTerm!=h&&(this.search.val(this.nextSearchTerm),this.updateResults(),this.search.select()),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:a}),c&&c.noFocus||this.focusSearch())},cancel:function(){this.close();this.focusSearch()},addSelectedChoice:function(a){var c=!a.locked,b=d("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),e=d("<li class='select2-search-choice select2-locked'><div></div></li>"),
b=c?b:e,e=this.id(a),f=this.getVal(),g;g=this.opts.formatSelection(a,b.find("div"),this.opts.escapeMarkup);g!=h&&b.find("div").replaceWith("<div>"+g+"</div>");g=this.opts.formatSelectionCssClass(a,b.find("div"));g!=h&&b.addClass(g);if(c)b.find(".select2-search-choice-close").on("mousedown",t).on("click dblclick",this.bind(function(a){this.isInterfaceEnabled()&&(this.unselect(d(a.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),t(a),this.close(),
this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))}));b.data("select2-data",a);b.insertBefore(this.searchContainer);f.push(e);this.setVal(f)},unselect:function(c){var b=this.getVal(),e,f;c=c.closest(".select2-search-choice");if(0===c.length)throw"Invalid argument: "+c+". Must be .select2-search-choice";if(e=c.data("select2-data")){f=d.Event("select2-removing");f.val=this.id(e);
f.choice=e;this.opts.element.trigger(f);if(f.isDefaultPrevented())return!1;for(;0<=(f=a(this.id(e),b));)b.splice(f,1),this.setVal(b),this.select&&this.postprocessResults();c.remove();this.opts.element.trigger({type:"select2-removed",val:this.id(e),choice:e});this.triggerChange({removed:e});return!0}},postprocessResults:function(c,b,d){var e=this.getVal();b=this.results.find(".select2-result");var f=this.results.find(".select2-result-with-children"),g=this;b.each2(function(c,b){var d=g.id(b.data("select2-data"));
0<=a(d,e)&&(b.addClass("select2-selected"),b.find(".select2-result-selectable").addClass("select2-selected"))});f.each2(function(a,c){c.is(".select2-result-selectable")||0!==c.find(".select2-result-selectable:not(.select2-selected)").length||c.addClass("select2-selected")});-1==this.highlight()&&!1!==d&&g.highlight(0);!this.opts.createSearchChoice&&0< !b.filter(".select2-result:not(.select2-selected)").length&&(!c||c&&!c.more&&0===this.results.find(".select2-no-results").length)&&F(g.opts.formatNoMatches,
"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+B(g.opts.formatNoMatches,g.opts.element,g.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-k(this.search)},resizeSearch:function(){var a,c,b,e,f=k(this.search);a=this.search;z||(b=a[0].currentStyle||window.getComputedStyle(a[0],null),z=d(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:b.fontSize,fontFamily:b.fontFamily,fontStyle:b.fontStyle,
fontWeight:b.fontWeight,letterSpacing:b.letterSpacing,textTransform:b.textTransform,whiteSpace:"nowrap"}),z.attr("class","select2-sizer"),d("body").append(z));z.text(a.val());a=z.width()+10;c=this.search.offset().left;b=this.selection.width();e=this.selection.offset().left;c=b-(c-e)-f;c<a&&(c=b-f);40>c&&(c=b-f);0>=c&&(c=a);this.search.width(Math.floor(c))},getVal:function(){var a;if(this.select)return a=this.select.val(),null===a?[]:a;a=this.opts.element.val();return c(a,this.opts.separator)},setVal:function(c){var b;
this.select?this.select.val(c):(b=[],d(c).each(function(){0>a(this,b)&&b.push(this)}),this.opts.element.val(0===b.length?"":b.join(this.opts.separator)))},buildChangeDetails:function(a,c){c=c.slice(0);a=a.slice(0);for(var b=0;b<c.length;b++)for(var d=0;d<a.length;d++)g(this.opts.id(c[b]),this.opts.id(a[d]))&&(c.splice(b,1),0<b&&b--,a.splice(d,1),d--);return{added:c,removed:a}},val:function(a,c){var b,e=this;if(0===arguments.length)return this.getVal();b=this.data();b.length||(b=[]);if(a||0===a){this.setVal(a);
if(this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),c&&this.triggerChange(this.buildChangeDetails(b,this.data()));else{if(this.opts.initSelection===h)throw Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(a){var f=d.map(a,e.id);e.setVal(f);e.updateSelection(a);e.clearSearch();c&&e.triggerChange(e.buildChangeDetails(b,e.data()))})}this.clearSearch()}else this.opts.element.val(""),this.updateSelection([]),
this.clearSearch(),c&&this.triggerChange({added:this.data(),removed:b})},onSortStart:function(){if(this.select)throw Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0);this.searchContainer.hide()},onSortEnd:function(){var a=[],c=this;this.searchContainer.show();this.searchContainer.appendTo(this.searchContainer.parent());this.resizeSearch();this.selection.find(".select2-search-choice").each(function(){a.push(c.opts.id(d(this).data("select2-data")))});
this.setVal(a);this.triggerChange()},data:function(a,c){var b=this,e,f;if(0===arguments.length)return this.selection.children(".select2-search-choice").map(function(){return d(this).data("select2-data")}).get();f=this.data();a||(a=[]);e=d.map(a,function(a){return b.opts.id(a)});this.setVal(e);this.updateSelection(a);this.clearSearch();c&&this.triggerChange(this.buildChangeDetails(f,this.data()))}});d.fn.select2=function(){var c=Array.prototype.slice.call(arguments,0),b,e,f,g,k,r="val destroy opened open close focus isFocused container dropdown onSortStart onSortEnd enable disable readonly positionDropdown data search".split(" "),
n=["opened","isFocused","container","dropdown"],l=["val","data"],z={search:"externalSearch"};this.each(function(){if(0===c.length||"object"===typeof c[0])b=0===c.length?{}:d.extend({},c[0]),b.element=d(this),"select"===b.element.get(0).tagName.toLowerCase()?k=b.element.prop("multiple"):(k=b.multiple||!1,"tags"in b&&(b.multiple=k=!0)),e=k?new window.Select2["class"].multi:new window.Select2["class"].single,e.init(b);else if("string"===typeof c[0]){if(0>a(c[0],r))throw"Unknown method: "+c[0];g=h;e=
d(this).data("select2");if(e!==h&&(f=c[0],"container"===f?g=e.container:"dropdown"===f?g=e.dropdown:(z[f]&&(f=z[f]),g=e[f].apply(e,c.slice(1))),0<=a(c[0],n)||0<=a(c[0],l)&&1==c.length))return!1}else throw"Invalid arguments to select2 plugin: "+c;});return g===h?this:g};d.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(a,c,b,d){c=[];v(a.text,b.term,c,d);return c.join("")},
formatSelection:function(a,c,b){return a?b(a.text):h},sortResults:function(a,c,b){return a},formatResultCssClass:function(a){return a.css},formatSelectionCssClass:function(a,c){return h},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(a){return a==h?null:a.id},matcher:function(a,c){return 0<=f(""+c).toUpperCase().indexOf(f(""+a).toUpperCase())},separator:",",tokenSeparators:[],tokenizer:T,escapeMarkup:q,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(a){return a},
adaptDropdownCssClass:function(a){return null},nextSearchTerm:function(a,c){return h},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(a){return"ontouchstart"in window||0<navigator.msMaxTouchPoints?0>a.opts.minimumResultsForSearch?!1:!0:!0}};d.fn.select2.locales=[];d.fn.select2.locales.en={formatMatches:function(a){return 1===a?"One result is available, press enter to select it.":a+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},
formatAjaxError:function(a,c,b){return"Loading failed"},formatInputTooShort:function(a,c){var b=c-a.length;return"Please enter "+b+" or more character"+(1==b?"":"s")},formatInputTooLong:function(a,c){var b=a.length-c;return"Please delete "+b+" character"+(1==b?"":"s")},formatSelectionTooBig:function(a){return"You can only select "+a+" item"+(1==a?"":"s")},formatLoadMore:function(a){return"Loading more results\u2026"},formatSearching:function(){return"Searching\u2026"}};d.extend(d.fn.select2.defaults,
d.fn.select2.locales.en);d.fn.select2.ajaxDefaults={transport:d.ajax,params:{type:"GET",cache:!1,dataType:"json"}};window.Select2={query:{ajax:D,local:I,tags:O},util:{debounce:p,markMatch:v,escapeMarkup:q,stripDiacritics:f},"class":{"abstract":E,single:X,multi:P}}}})(jQuery);define("select2",function(){});
define("mockup-parser",["jquery"],function(d){return{getOptions:function e(f,a,b){b=b||{};0===f.length||d.nodeName(f[0],"body")||(b=e(f.parent(),a,b));var g={};if(0!==f.length&&(g=f.data("pat-"+a))&&"string"===typeof g){var c={};d.each(g.split(";"),function(a,b){b=b.split(":");b.reverse();var d=b.pop(),d=d.replace(/^\s+|\s+$/g,"");b.reverse();var e=b.join(":"),e=e.replace(/^\s+|\s+$/g,"");c[d]=e});g=c}return d.extend(!0,{},b,g)}}});
(function(d){define("jquery.event.drop",["jquery"],function(){return function(){(function(d){d.fn.drop=function(a,b,e){var c="string"==typeof a?a:"",f=d.isFunction(a)?a:d.isFunction(b)?b:null;0!==c.indexOf("drop")&&(c="drop"+c);e=(a==f?b:e)||{};return f?this.bind(c,e,f):this.trigger(c)};d.drop=function(a){a=a||{};f.multi=!0===a.multi?Infinity:!1===a.multi?1:isNaN(a.multi)?f.multi:a.multi;f.delay=a.delay||f.delay;f.tolerance=d.isFunction(a.tolerance)?a.tolerance:null===a.tolerance?null:f.tolerance;
f.mode=a.mode||f.mode||"intersect"};var e=d.event.special,f=d.event.special.drop={multi:1,delay:20,mode:"overlap",targets:[],datakey:"dropdata",noBubble:!0,add:function(a){d.data(this,f.datakey).related+=1},remove:function(){--d.data(this,f.datakey).related},setup:function(){d.data(this,f.datakey)||(d.data(this,f.datakey,{related:0,active:[],anyactive:0,winner:0,location:{}}),f.targets.push(this))},teardown:function(){if(!(d.data(this,f.datakey)||{}).related){d.removeData(this,f.datakey);var a=this;
f.targets=d.grep(f.targets,function(b){return b!==a})}},handler:function(a,b){var g;if(b)switch(a.type){case "mousedown":case "touchstart":g=d(f.targets);"string"==typeof b.drop&&(g=g.filter(b.drop));g.each(function(){var a=d.data(this,f.datakey);a.active=[];a.anyactive=0;a.winner=0});b.droppable=g;e.drag.hijack(a,"dropinit",b);break;case "mousemove":case "touchmove":f.event=a;f.timer||f.tolerate(b);break;case "mouseup":case "touchend":f.timer=clearTimeout(f.timer),b.propagates&&(e.drag.hijack(a,
"drop",b),e.drag.hijack(a,"dropend",b))}},locate:function(a,b){var e=d.data(a,f.datakey),c=d(a),k=c.offset()||{},l=c.outerHeight(),c=c.outerWidth(),k={elem:a,width:c,height:l,top:k.top,left:k.left,right:k.left+c,bottom:k.top+l};e&&(e.location=k,e.index=b,e.elem=a);return k},contains:function(a,b){return(b[0]||b.left)>=a.left&&(b[0]||b.right)<=a.right&&(b[1]||b.top)>=a.top&&(b[1]||b.bottom)<=a.bottom},modes:{intersect:function(a,b,d){return this.contains(d,[a.pageX,a.pageY])?1E9:this.modes.overlap.apply(this,
arguments)},overlap:function(a,b,d){return Math.max(0,Math.min(d.bottom,b.bottom)-Math.max(d.top,b.top))*Math.max(0,Math.min(d.right,b.right)-Math.max(d.left,b.left))},fit:function(a,b,d){return this.contains(d,b)?1:0},middle:function(a,b,d){return this.contains(d,[b.left+.5*b.width,b.top+.5*b.height])?1:0}},sort:function(a,b){return b.winner-a.winner||a.index-b.index},tolerate:function(a){var b,g,c,k,l,n,p=0,m,u=a.interactions.length,t=[f.event.pageX,f.event.pageY],w=f.tolerance||f.modes[f.mode];
do if(m=a.interactions[p]){if(!m)return;m.drop=[];l=[];n=m.droppable.length;w&&(c=f.locate(m.proxy));b=0;do if(g=m.droppable[b])if(k=d.data(g,f.datakey),g=k.location)k.winner=w?w.call(f,f.event,c,g):f.contains(g,t)?1:0,l.push(k);while(++b<n);l.sort(f.sort);b=0;do if(k=l[b])k.winner&&m.drop.length<f.multi?(k.active[p]||k.anyactive||(!1!==e.drag.hijack(f.event,"dropstart",a,p,k.elem)[0]?(k.active[p]=1,k.anyactive+=1):k.winner=0),k.winner&&m.drop.push(k.elem)):k.active[p]&&1==k.anyactive&&(e.drag.hijack(f.event,
"dropend",a,p,k.elem),k.active[p]=0,--k.anyactive);while(++b<n)}while(++p<u);f.last&&t[0]==f.last.pageX&&t[1]==f.last.pageY?delete f.timer:f.timer=setTimeout(function(){f.tolerate(a)},f.delay);f.last=f.event}};e.dropinit=e.dropstart=e.dropend=f})(jQuery);return $.drop}.apply(d,arguments)})})(this);
(function(d){define("jquery.event.drag",["jquery"],function(){return function(){(function(d){d.fn.drag=function(a,b,e){var f="string"==typeof a?a:"",g=d.isFunction(a)?a:d.isFunction(b)?b:null;0!==f.indexOf("drag")&&(f="drag"+f);e=(a==g?b:e)||{};return g?this.bind(f,e,g):this.trigger(f)};var e=d.event,f=e.special,a=f.drag={defaults:{which:1,distance:0,not:":input",handle:null,relative:!1,drop:!0,click:!1},datakey:"dragdata",noBubble:!0,add:function(c){var b=d.data(this,a.datakey),e=c.data||{};b.related+=
1;d.each(a.defaults,function(a,c){void 0!==e[a]&&(b[a]=e[a])})},remove:function(){--d.data(this,a.datakey).related},setup:function(){if(!d.data(this,a.datakey)){var c=d.extend({related:0},a.defaults);d.data(this,a.datakey,c);e.add(this,"touchstart mousedown",a.init,c);this.attachEvent&&this.attachEvent("ondragstart",a.dontstart)}},teardown:function(){(d.data(this,a.datakey)||{}).related||(d.removeData(this,a.datakey),e.remove(this,"touchstart mousedown",a.init),a.textselect(!0),this.detachEvent&&
this.detachEvent("ondragstart",a.dontstart))},init:function(c){if(!a.touched){var b=c.data,g;if(!(0!=c.which&&0<b.which&&c.which!=b.which||d(c.target).is(b.not)||b.handle&&!d(c.target).closest(b.handle,c.currentTarget).length)&&(a.touched="touchstart"==c.type?this:null,b.propagates=1,b.mousedown=this,b.interactions=[a.interaction(this,b)],b.target=c.target,b.pageX=c.pageX,b.pageY=c.pageY,b.dragging=null,g=a.hijack(c,"draginit",b),b.propagates&&((g=a.flatten(g))&&g.length&&(b.interactions=[],d.each(g,
function(){b.interactions.push(a.interaction(this,b))})),b.propagates=b.interactions.length,!1!==b.drop&&f.drop&&f.drop.handler(c,b),a.textselect(!1),a.touched?e.add(a.touched,"touchmove touchend",a.handler,b):e.add(document,"mousemove mouseup",a.handler,b),!a.touched||b.live)))return!1}},interaction:function(c,b){var e=d(c)[b.relative?"position":"offset"]()||{top:0,left:0};return{drag:c,callback:new a.callback,droppable:[],offset:e}},handler:function(c){var b=c.data;switch(c.type){case !b.dragging&&
"touchmove":c.preventDefault();case !b.dragging&&"mousemove":if(Math.pow(c.pageX-b.pageX,2)+Math.pow(c.pageY-b.pageY,2)<Math.pow(b.distance,2))break;c.target=b.target;a.hijack(c,"dragstart",b);b.propagates&&(b.dragging=!0);case "touchmove":c.preventDefault();case "mousemove":if(b.dragging){a.hijack(c,"drag",b);if(b.propagates){!1!==b.drop&&f.drop&&f.drop.handler(c,b);break}c.type="mouseup"}default:a.touched?e.remove(a.touched,"touchmove touchend",a.handler):e.remove(document,"mousemove mouseup",a.handler),
b.dragging&&(!1!==b.drop&&f.drop&&f.drop.handler(c,b),a.hijack(c,"dragend",b)),a.textselect(!0),!1===b.click&&b.dragging&&d.data(b.mousedown,"suppress.click",(new Date).getTime()+5),b.dragging=a.touched=!1}},hijack:function(c,b,f,g,p){if(f){var m=c.originalEvent,u=c.type,t=b.indexOf("drop")?"drag":"drop",w,v=g||0,q,D;g=isNaN(g)?f.interactions.length:g;c.type=b;c.originalEvent=null;f.results=[];do!(q=f.interactions[v])||"dragend"!==b&&q.cancelled||(D=a.properties(c,f,q),q.results=[],d(p||q[t]||f.droppable).each(function(g,
n){D.target=n;c.isPropagationStopped=function(){return!1};w=n?e.dispatch.call(n,c,D):null;!1===w?("drag"==t&&(q.cancelled=!0,--f.propagates),"drop"==b&&(q[t][g]=null)):"dropinit"==b&&q.droppable.push(a.element(w)||n);"dragstart"==b&&(q.proxy=d(a.element(w)||q.drag)[0]);q.results.push(w);delete c.result;if("dropinit"!==b)return w}),f.results[v]=a.flatten(q.results),"dropinit"==b&&(q.droppable=a.flatten(q.droppable)),"dragstart"!=b||q.cancelled||D.update());while(++v<g);c.type=u;c.originalEvent=m;return a.flatten(f.results)}},
properties:function(c,b,d){var e=d.callback;e.drag=d.drag;e.proxy=d.proxy||d.drag;e.startX=b.pageX;e.startY=b.pageY;e.deltaX=c.pageX-b.pageX;e.deltaY=c.pageY-b.pageY;e.originalX=d.offset.left;e.originalY=d.offset.top;e.offsetX=e.originalX+e.deltaX;e.offsetY=e.originalY+e.deltaY;e.drop=a.flatten((d.drop||[]).slice());e.available=a.flatten((d.droppable||[]).slice());return e},element:function(a){if(a&&(a.jquery||1==a.nodeType))return a},flatten:function(c){return d.map(c,function(c){return c&&c.jquery?
d.makeArray(c):c&&c.length?a.flatten(c):c})},textselect:function(c){d(document)[c?"unbind":"bind"]("selectstart",a.dontstart).css("MozUserSelect",c?"":"none");document.unselectable=c?"off":"on"},dontstart:function(){return!1},callback:function(){}};a.callback.prototype={update:function(){f.drop&&this.available.length&&d.each(this.available,function(a){f.drop.locate(this,a)})}};var b=e.dispatch;e.dispatch=function(a){if(0<d.data(this,"suppress."+a.type)-(new Date).getTime())d.removeData(this,"suppress."+
a.type);else return b.apply(this,arguments)};var g=e.fixHooks.touchstart=e.fixHooks.touchmove=e.fixHooks.touchend=e.fixHooks.touchcancel={props:"clientX clientY pageX pageY screenX screenY".split(" "),filter:function(a,b){if(b){var e=b.touches&&b.touches[0]||b.changedTouches&&b.changedTouches[0]||null;e&&d.each(g.props,function(b,d){a[d]=e[d]})}return a}};f.draginit=f.dragstart=f.dragend=a})(jQuery)}.apply(d,arguments)})})(this);
(function(d){"function"===typeof define&&define.amd?define("picker",["jquery"],d):this.Picker=d(jQuery)})(function(d){function h(a,b,g,c){function k(){return h._.node("div",h._.node("div",h._.node("div",h._.node("div",q.component.nodes(u.open),w.box),w.wrap),w.frame),w.holder)}function l(){v.data(b,q).addClass(w.input).val(v.data("value")?q.get("select",t.format):a.value).on("focus."+u.id+" click."+u.id,m);if(!t.editable)v.on("keydown."+u.id,function(a){var c=a.keyCode,b=/^(8|46)$/.test(c);if(27==
c)return q.close(),!1;if(32==c||b||!u.open&&q.component.key[c])a.preventDefault(),a.stopPropagation(),b?q.clear().close():q.open()});e(a,{haspopup:!0,expanded:!1,readonly:!1,owns:a.id+"_root"+(q._hidden?" "+q._hidden.id:"")})}function n(){q.$root.on({focusin:function(a){q.$root.removeClass(w.focused);e(q.$root[0],"selected",!1);a.stopPropagation()},"mousedown click":function(c){var b=c.target;b!=q.$root.children()[0]&&(c.stopPropagation(),"mousedown"!=c.type||d(b).is(":input")||"OPTION"==b.nodeName||
(c.preventDefault(),a.focus()))}}).on("click","[data-pick], [data-nav], [data-clear]",function(){var c=d(this),b=c.data(),c=c.hasClass(w.navDisabled)||c.hasClass(w.disabled),e=document.activeElement,e=e&&(e.type||e.href)&&e;(c||e&&!d.contains(q.$root[0],e))&&a.focus();b.nav&&!c?q.set("highlight",q.component.item.highlight,{nav:b.nav}):h._.isInteger(b.pick)&&!c?q.set("select",b.pick).close(!0):b.clear&&q.clear().close(!0)});e(q.$root[0],"hidden",!0)}function p(){var c=["string"==typeof t.hiddenPrefix?
t.hiddenPrefix:"","string"==typeof t.hiddenSuffix?t.hiddenSuffix:"_submit"];q._hidden=d('<input type=hidden name="'+c[0]+a.name+c[1]+'"id="'+c[0]+a.id+c[1]+'"'+(v.data("value")||a.value?' value="'+q.get("select",t.formatSubmit)+'"':"")+">")[0];v.on("change."+u.id,function(){q._hidden.value=a.value?q.get("select",t.formatSubmit):""}).after(q._hidden)}function m(a){a.stopPropagation();"focus"==a.type&&(q.$root.addClass(w.focused),e(q.$root[0],"selected",!0));q.open()}if(!a)return h;var u={id:a.id||
"P"+Math.abs(~~(Math.random()*new Date))},t=g?d.extend(!0,{},g.defaults,c):c||{},w=d.extend({},h.klasses(),t.klass),v=d(a);c=function(){return this.start()};var q=c.prototype={constructor:c,$node:v,start:function(){if(u&&u.start)return q;u.methods={};u.start=!0;u.open=!1;u.type=a.type;a.autofocus=a==document.activeElement;a.type="text";a.readOnly=!t.editable;a.id=a.id||u.id;q.component=new g(q,t);q.$root=d(h._.node("div",k(),w.picker,'id="'+a.id+'_root"'));n();t.formatSubmit&&p();l();t.container?
d(t.container).append(q.$root):v.after(q.$root);q.on({start:q.component.onStart,render:q.component.onRender,stop:q.component.onStop,open:q.component.onOpen,close:q.component.onClose,set:q.component.onSet}).on({start:t.onStart,render:t.onRender,stop:t.onStop,open:t.onOpen,close:t.onClose,set:t.onSet});a.autofocus&&q.open();return q.trigger("start").trigger("render")},render:function(a){a?q.$root.html(k()):q.$root.find("."+w.box).html(q.component.nodes(u.open));return q.trigger("render")},stop:function(){if(!u.start)return q;
q.close();q._hidden&&q._hidden.parentNode.removeChild(q._hidden);q.$root.remove();v.removeClass(w.input).removeData(b);setTimeout(function(){v.off("."+u.id)},0);a.type=u.type;a.readOnly=!1;q.trigger("stop");u.methods={};u.start=!1;return q},open:function(c){if(u.open)return q;v.addClass(w.active);e(a,"expanded",!0);q.$root.addClass(w.opened);e(q.$root[0],"hidden",!1);!1!==c&&(u.open=!0,v.trigger("focus"),f.on("click."+u.id+" focusin."+u.id,function(c){var b=c.target;b!=a&&b!=document&&3!=c.which&&
q.close(b===q.$root.children()[0])}).on("keydown."+u.id,function(c){var b=c.keyCode,e=q.component.key[b],f=c.target;27==b?q.close(!0):f!=a||!e&&13!=b?d.contains(q.$root[0],f)&&13==b&&(c.preventDefault(),f.click()):(c.preventDefault(),e?h._.trigger(q.component.key.go,q,[h._.trigger(e)]):q.$root.find("."+w.highlighted).hasClass(w.disabled)||q.set("select",q.component.item.highlight).close())}));return q.trigger("open")},close:function(c){c&&(v.off("focus."+u.id).trigger("focus"),setTimeout(function(){v.on("focus."+
u.id,m)},0));v.removeClass(w.active);e(a,"expanded",!1);q.$root.removeClass(w.opened+" "+w.focused);e(q.$root[0],"hidden",!0);e(q.$root[0],"selected",!1);if(!u.open)return q;u.open=!1;f.off("."+u.id);return q.trigger("close")},clear:function(){return q.set("clear")},set:function(a,c,b){var e,f=d.isPlainObject(a),g=f?a:{};b=f&&d.isPlainObject(c)?c:b||{};if(a){f||(g[a]=c);for(e in g)a=g[e],e in q.component.item&&q.component.set(e,a,b),"select"!=e&&"clear"!=e||v.val("clear"==e?"":q.get(e,t.format)).trigger("change");
q.render()}return b.muted?q:q.trigger("set",g)},get:function(c,b){c=c||"value";if(null!=u[c])return u[c];if("value"==c)return a.value;if(c in q.component.item)return"string"==typeof b?h._.trigger(q.component.formats.toString,q.component,[b,q.component.get(c)]):q.component.get(c)},on:function(a,c){var b,e,f=(e=d.isPlainObject(a))?a:{};if(a)for(b in e||(f[a]=c),f)e=f[b],u.methods[b]=u.methods[b]||[],u.methods[b].push(e);return q},off:function(){var a,c,b=arguments;a=0;for(namesCount=b.length;a<namesCount;a+=
1)c=b[a],c in u.methods&&delete u.methods[c];return q},trigger:function(a,c){var b=u.methods[a];b&&b.map(function(a){h._.trigger(a,q,[c])});return q}};return new c}function e(a,b,e){if(d.isPlainObject(b))for(var c in b)a.setAttribute(("role"==c?"":"aria-")+c,b[c]);else a.setAttribute(("role"==b?"":"aria-")+b,e)}var f=d(document);h.klasses=function(a){a=a||"picker";return{picker:a,opened:a+"--opened",focused:a+"--focused",input:a+"__input",active:a+"__input--active",holder:a+"__holder",frame:a+"__frame",
wrap:a+"__wrap",box:a+"__box"}};h._={group:function(a){for(var b,d="",c=h._.trigger(a.min,a);c<=h._.trigger(a.max,a,[c]);c+=a.i)b=h._.trigger(a.item,a,[c]),d+=h._.node(a.node,b[0],b[1],b[2]);return d},node:function(a,b,e,c){if(!b)return"";b=d.isArray(b)?b.join(""):b;return"<"+a+(e?' class="'+e+'"':"")+(c?" "+c:"")+">"+b+"</"+a+">"},lead:function(a){return(10>a?"0":"")+a},trigger:function(a,b,d){return"function"==typeof a?a.apply(b,d||[]):a},digits:function(a){return/\d/.test(a[1])?2:1},isDate:function(a){return-1<
{}.toString.call(a).indexOf("Date")&&this.isInteger(a.getDate())},isInteger:function(a){return-1<{}.toString.call(a).indexOf("Number")&&0===a%1},ariaAttr:function(a,b){d.isPlainObject(a)||(a={attribute:b});b="";for(var e in a){var c=("role"==e?"":"aria-")+e;b+=null==a[e]?"":c+'="'+a[e]+'"'}return b}};h.extend=function(a,b){d.fn[a]=function(e,c){var f=this.data(a);return"picker"==e?f:f&&"string"==typeof e?(h._.trigger(f[e],f,[c]),this):this.each(function(){d(this).data(a)||new h(this,a,b,e)})};d.fn[a].defaults=
b.defaults};return h});
(function(d){"function"===typeof define&&define.amd?define("jquery.cookie",["jquery"],d):"object"===typeof exports?d(require("jquery")):d(jQuery)})(function(d){function h(b){b=a.json?JSON.stringify(b):String(b);return a.raw?b:encodeURIComponent(b)}function e(b,e){var c;if(a.raw)c=b;else a:{var k=b;0===k.indexOf('"')&&(k=k.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{k=decodeURIComponent(k.replace(f," "));c=a.json?JSON.parse(k):k;break a}catch(h){}c=void 0}return d.isFunction(e)?e(c):
c}var f=/\+/g,a=d.cookie=function(b,f,c){if(void 0!==f&&!d.isFunction(f)){c=d.extend({},a.defaults,c);if("number"===typeof c.expires){var k=c.expires,l=c.expires=new Date;l.setTime(+l+864E5*k)}return document.cookie=[a.raw?b:encodeURIComponent(b),"=",h(f),c.expires?"; expires="+c.expires.toUTCString():"",c.path?"; path="+c.path:"",c.domain?"; domain="+c.domain:"",c.secure?"; secure":""].join("")}c=b?void 0:{};for(var k=document.cookie?document.cookie.split("; "):[],l=0,n=k.length;l<n;l++){var p=k[l].split("="),
m;m=p.shift();m=a.raw?m:decodeURIComponent(m);p=p.join("=");if(b&&b===m){c=e(p,f);break}b||void 0===(p=e(p))||(c[m]=p)}return c};a.defaults={};d.removeCookie=function(a,e){if(void 0===d.cookie(a))return!1;d.cookie(a,"",d.extend({},e,{expires:-1}));return!d.cookie(a)}});
define("mockup-utils",["jquery"],function(d){var h=function(d){void 0===d&&(d="id");return d+Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return{generateId:h,parseBodyTag:function(e){return d(/<body[^>]*>((.|[\n\r])*)<\/body>/im.exec(e)[0].replace("<body","<div").replace("</body>","</div>")).eq(0).html()},setId:function(d,f){void 0===f&&(f="id");var a=d.attr("id"),a=void 0===a?h(f):a.replace(/\./g,"-");d.attr("id",a);return a},bool:function(e){"string"===typeof e&&(e=d.trim(e).toLowerCase());
return-1!==["true",!0,1].indexOf(e)},QueryHelper:function(e){var f=this;f.options=d.extend({},{pattern:null,vocabularyUrl:null,searchParam:"SearchableText",attributes:["UID","Title","Description","getURL","Type"],batchSize:10,baseCriteria:[],pathDepth:1},e);f.pattern=f.options.pattern;if(void 0===f.pattern||null===f.pattern)f.pattern={browsing:!1,basePath:"/"};f.options.url&&!f.options.vocabularyUrl?f.options.vocabularyUrl=f.options.url:f.pattern.vocabularyUrl&&(f.options.vocabularyUrl=f.pattern.vocabularyUrl);
f.valid=void 0!==f.options.vocabularyUrl&&null!==f.options.vocabularyUrl?!0:!1;f.getCurrentPath=function(){var a=f.pattern,b;b=f.currentPath?f.currentPath:a.currentPath;"function"===typeof b&&(b=b());b||(b=a.basePath?a.basePath:a.options.basePath?a.options.basePath:"/");return b};f.getCriterias=function(a,b){void 0===b&&(b={});b=d.extend({},{useBaseCriteria:!0,additionalCriterias:[]},b);var e=[];b.useBaseCriteria&&(e=f.options.baseCriteria.slice(0));a&&e.push({i:f.options.searchParam,o:"plone.app.querystring.operation.string.contains",
v:a+"*"});f.pattern.browsing&&e.push({i:"path",o:"plone.app.querystring.operation.string.path",v:f.getCurrentPath()+"::"+f.options.pathDepth});return e=e.concat(b.additionalCriterias)};f.getBatch=function(a){a||(a=1);return{page:a,size:f.options.batchSize}};f.selectAjax=function(){return{url:f.options.vocabularyUrl,dataType:"JSON",quietMillis:100,data:function(a,b){return f.getQueryData(a,b)},results:function(a,b){return{results:a.results,more:10*b<a.total}}}};f.getUrl=function(){var a=f.options.vocabularyUrl,
a=-1===a.indexOf("?")?a+"?":a+"&";return a+d.param(f.getQueryData())};f.getQueryData=function(a,b){var d={query:JSON.stringify({criteria:f.getCriterias(a)}),attributes:JSON.stringify(f.options.attributes)};b&&(d.batch=JSON.stringify(f.getBatch(b)));return d};f.search=function(a,b,e,c,k){void 0===k&&(k=!0);var h=[];k&&(h=f.options.baseCriteria.slice(0));h.push({i:a,o:b,v:e});a={query:JSON.stringify({criteria:h}),attributes:JSON.stringify(f.options.attributes)};d.ajax({url:f.options.vocabularyUrl,dataType:"JSON",
data:a,success:c})};return f},Loading:function(e){var f=this;f.className="mockup-loader-icon";e||(e={});f.options=d.extend({},{backdrop:null,zIndex:10005},e);f.$el=d("."+f.className);0===f.$el.length&&(f.$el=d('<div><span class="glyphicon glyphicon-refresh" /></div>'),f.$el.addClass(f.className).hide().appendTo("body"));f.show=function(a){f.$el.show();var b=f.options.zIndex;"function"===typeof b&&(b=b());f.$el.css("zIndex",b);void 0===a&&(a=!0);f.options.backdrop&&(f.options.backdrop.closeOnClick=
a,f.options.backdrop.closeOnEsc=a,f.options.backdrop.init(),f.options.backdrop.show())};f.hide=function(){f.$el.hide()};return f},getAuthenticator:function(){return d('input[name="_authenticator"]').val()}}});
(function(){function d(a,c,b){b=(b||0)-1;for(var d=a?a.length:0;++b<d;)if(a[b]===c)return b;return-1}function h(a,c){for(var b=a.criteria,d=c.criteria,e=-1,f=b.length;++e<f;){var g=b[e],k=d[e];if(g!==k){if(g>k||"undefined"==typeof g)return 1;if(g<k||"undefined"==typeof k)return-1}}return a.index-c.index}function e(a){return"\\"+Na[a]}function f(a,c,b){c||(c=0);"undefined"==typeof b&&(b=a?a.length:0);var d=-1;b=b-c||0;for(var e=Array(0>b?0:b);++d<b;)e[d]=a[c+d];return e}function a(c){return c instanceof
a?c:new b(c)}function b(a,c){this.__chain__=!!c;this.__wrapped__=a}function g(a){function b(){if(e){var a=f(e);ia.apply(a,arguments)}if(this instanceof b){var k=c(d.prototype),a=d.apply(k,a||arguments);return E(a)?a:k}return d.apply(g,a||arguments)}var d=a[0],e=a[2],g=a[4];return b}function c(a,c){return E(a)?ja(a):{}}function k(a,c,b){if("function"!=typeof a)return sa;if("undefined"==typeof c||!("prototype"in a))return a;switch(b){case 1:return function(b){return a.call(c,b)};case 2:return function(b,
d){return a.call(c,b,d)};case 3:return function(b,d,e){return a.call(c,b,d,e)};case 4:return function(b,d,e,f){return a.call(c,b,d,e,f)}}return Ea(a,c)}function l(a){function b(){var a=n?r:this;if(g){var J=f(g);ia.apply(J,arguments)}if(k||p)if(J||(J=f(arguments)),k&&ia.apply(J,k),p&&J.length<h)return e|=16,l([d,m?e:e&-4,J,null,r,h]);J||(J=arguments);z&&(d=a[A]);return this instanceof b?(a=c(d.prototype),J=d.apply(a,J),E(J)?J:a):d.apply(a,J)}var d=a[0],e=a[1],g=a[2],k=a[3],r=a[4],h=a[5],n=e&1,z=e&
2,p=e&4,m=e&8,A=d;return b}function n(a,c){for(var b=-1,d=D(),e=a?a.length:0,f=[];++b<e;){var g=a[b];0>d(c,g)&&f.push(g)}return f}function p(a,c,b,d){d=(d||0)-1;for(var e=a?a.length:0,f=[];++d<e;){var g=a[d];if(g&&"object"==typeof g&&"number"==typeof g.length&&(ca(g)||F(g))){c||(g=p(g,c,b));var k=-1,r=g.length,h=f.length;for(f.length+=r;++k<r;)f[h++]=g[k]}else b||f.push(g)}return f}function m(c,b,d,e){if(c===b)return 0!==c||1/c==1/b;if(!(c!==c||c&&L[typeof c]||b&&L[typeof b]))return!1;if(null==c||
null==b)return c===b;var f=M.call(c),g=M.call(b);if(f!=g)return!1;switch(f){case "[object Boolean]":case "[object Date]":return+c==+b;case "[object Number]":return c!=+c?b!=+b:0==c?1/c==1/b:c==+b;case "[object RegExp]":case "[object String]":return c==String(b)}g="[object Array]"==f;if(!g){var k=c instanceof a,r=b instanceof a;if(k||r)return m(k?c.__wrapped__:c,r?b.__wrapped__:b,d,e);if("[object Object]"!=f)return!1;f=c.constructor;k=b.constructor;if(f!=k&&!(x(f)&&f instanceof f&&x(k)&&k instanceof
k)&&"constructor"in c&&"constructor"in b)return!1}d||(d=[]);e||(e=[]);for(f=d.length;f--;)if(d[f]==c)return e[f]==b;var h=!0,n=0;d.push(c);e.push(b);if(g){if(n=b.length,h=n==c.length)for(;n--&&(h=m(c[n],b[n],d,e)););}else ka(b,function(a,b,f){if(N.call(f,b))return n++,!(h=N.call(c,b)&&m(c[b],a,d,e))&&Q}),h&&ka(c,function(a,c,b){if(N.call(b,c))return!(h=-1<--n)&&Q});d.pop();e.pop();return h}function u(a,c){return a+Ha(Ia()*(c-a+1))}function t(a,c,b){for(var d=-1,e=D(),f=a?a.length:0,g=[],k=b?[]:g;++d<
f;){var r=a[d],h=b?b(r,d,a):r;if(c?!d||k[k.length-1]!==h:0>e(k,h))b&&k.push(h),g.push(r)}return g}function w(a){return function(c,b,d){var e={};b=G(b,d,3);d=-1;var f=c?c.length:0;if("number"==typeof f)for(;++d<f;){var g=c[d];a(e,g,b(g,d,c),c)}else R(c,function(c,d,f){a(e,c,b(c,d,f),f)});return e}}function v(a,c,b,d,e,f){var k=c&16,r=c&32;if(!(c&2||x(a)))throw new TypeError;k&&!b.length&&(c&=-17,b=!1);r&&!d.length&&(c&=-33,d=!1);return(1==c||17===c?g:l)([a,c,b,d,e,f])}function q(a){return ta[a]}function D(){var c=
(c=a.indexOf)===Ba?d:c;return c}function I(a){return"function"==typeof a&&Oa.test(a)}function O(a){return Ja[a]}function F(a){return a&&"object"==typeof a&&"number"==typeof a.length&&"[object Arguments]"==M.call(a)||!1}function B(a){if(!a)return a;for(var c=1,b=arguments.length;c<b;c++){var d=arguments[c];if(d)for(var e in d)a[e]=d[e]}return a}function H(a){if(!a)return a;for(var c=1,b=arguments.length;c<b;c++){var d=arguments[c];if(d)for(var e in d)"undefined"==typeof a[e]&&(a[e]=d[e])}return a}
function T(a){var c=[];ka(a,function(a,b){x(a)&&c.push(b)});return c.sort()}function V(a){for(var c=-1,b=U(a),d=b.length,e={};++c<d;){var f=b[c];e[a[f]]=f}return e}function W(a){if(!a)return!0;if(ca(a)||P(a))return!a.length;for(var c in a)if(N.call(a,c))return!1;return!0}function x(a){return"function"==typeof a}function E(a){return!(!a||!L[typeof a])}function X(a){return"number"==typeof a||a&&"object"==typeof a&&"[object Number]"==M.call(a)||!1}function P(a){return"string"==typeof a||a&&"object"==
typeof a&&"[object String]"==M.call(a)||!1}function r(a){for(var c=-1,b=U(a),d=b.length,e=Array(d);++c<d;)e[c]=a[b[c]];return e}function z(a,c){var b=D(),d=a?a.length:0,e=!1;d&&"number"==typeof d?e=-1<b(a,c):R(a,function(a){return(e=a===c)&&Q});return e}function A(a,c,b){var d=!0;c=G(c,b,3);b=-1;var e=a?a.length:0;if("number"==typeof e)for(;++b<e&&(d=!!c(a[b],b,a)););else R(a,function(a,b,e){return!(d=!!c(a,b,e))&&Q});return d}function y(a,c,b){var d=[];c=G(c,b,3);b=-1;var e=a?a.length:0;if("number"==
typeof e)for(;++b<e;){var f=a[b];c(f,b,a)&&d.push(f)}else R(a,function(a,b,e){c(a,b,e)&&d.push(a)});return d}function ba(a,c,b){c=G(c,b,3);b=-1;var d=a?a.length:0;if("number"==typeof d)for(;++b<d;){var e=a[b];if(c(e,b,a))return e}else{var f;R(a,function(a,b,d){if(c(a,b,d))return f=a,Q});return f}}function K(a,c,b){var d=-1,e=a?a.length:0;c=c&&"undefined"==typeof b?c:k(c,b,3);if("number"==typeof e)for(;++d<e&&c(a[d],d,a)!==Q;);else R(a,c)}function da(a,c){var b=a?a.length:0;if("number"==typeof b)for(;b--&&
!1!==c(a[b],b,a););else{var d=U(a),b=d.length;R(a,function(a,e,f){e=d?d[--b]:--b;return!1===c(f[e],e,f)&&Q})}}function aa(a,c,b){var d=-1,e=a?a.length:0;c=G(c,b,3);if("number"==typeof e)for(var f=Array(e);++d<e;)f[d]=c(a[d],d,a);else f=[],R(a,function(a,b,e){f[++d]=c(a,b,e)});return f}function C(a,c,b){var d=-Infinity,e=d;"function"!=typeof c&&b&&b[c]===a&&(c=null);var f=-1,g=a?a.length:0;if(null==c&&"number"==typeof g)for(;++f<g;)b=a[f],b>e&&(e=b);else c=G(c,b,3),K(a,function(a,b,f){b=c(a,b,f);b>
d&&(d=b,e=a)});return e}function ea(a,c,b,d){if(!a)return b;var e=3>arguments.length;c=G(c,d,4);var f=-1,g=a.length;if("number"==typeof g)for(e&&(b=a[++f]);++f<g;)b=c(b,a[f],f,a);else R(a,function(a,d,f){b=e?(e=!1,a):c(b,a,d,f)});return b}function ya(a,c,b,d){var e=3>arguments.length;c=G(c,d,4);da(a,function(a,d,f){b=e?(e=!1,a):c(b,a,d,f)});return b}function za(a){var c=-1,b=a?a.length:0,d=Array("number"==typeof b?b:0);K(a,function(a){var b=u(0,++c);d[c]=d[b];d[b]=a});return d}function Aa(a,c,b){var d;
c=G(c,b,3);b=-1;var e=a?a.length:0;if("number"==typeof e)for(;++b<e&&!(d=c(a[b],b,a)););else R(a,function(a,b,e){return(d=c(a,b,e))&&Q});return!!d}function ha(a,c,b){return b&&W(c)?Y:(b?ba:y)(a,c)}function qa(a,c,b){var d=0,e=a?a.length:0;if("number"!=typeof c&&null!=c){var g=-1;for(c=G(c,b,3);++g<e&&c(a[g],g,a);)d++}else if(d=c,null==d||b)return a?a[0]:Y;return f(a,0,la(S(0,d),e))}function Ba(a,c,b){if("number"==typeof b){var e=a?a.length:0;b=0>b?S(0,e+b):b||0}else if(b)return b=Ca(a,c),a[b]===c?
b:-1;return d(a,c,b)}function ra(a,c,b){if("number"!=typeof c&&null!=c){var d=0,e=-1,g=a?a.length:0;for(c=G(c,b,3);++e<g&&c(a[e],e,a);)d++}else d=null==c||b?1:S(0,c);return f(a,d)}function Ca(a,c,b,d){var e=0,f=a?a.length:e;b=b?G(b,d,1):sa;for(c=b(c);e<f;)d=e+f>>>1,b(a[d])<c?e=d+1:f=d;return e}function Da(a,c,b,d){"boolean"!=typeof c&&null!=c&&(d=b,b="function"!=typeof c&&d&&d[c]===a?null:c,c=!1);null!=b&&(b=G(b,d,3));return t(a,c,b)}function Ea(a,c){return 2<arguments.length?v(a,17,f(arguments,2),
null,c):v(a,1,null,null,c)}function Fa(a,c,b){var d,e,f,g,k,r,h,n=0,l=!1,z=!0;if(!x(a))throw new TypeError;c=S(0,c)||0;if(!0===b)var p=!0,z=!1;else E(b)&&(p=b.leading,l="maxWait"in b&&(S(c,b.maxWait)||0),z="trailing"in b?b.trailing:z);var m=function(){var b=c-(fa()-g);0>=b?(e&&clearTimeout(e),b=h,e=r=h=Y,b&&(n=fa(),f=a.apply(k,d),r||e||(d=k=null))):r=setTimeout(m,b)},A=function(){r&&clearTimeout(r);e=r=h=Y;if(z||l!==c)n=fa(),f=a.apply(k,d),r||e||(d=k=null)};return function(){d=arguments;g=fa();k=
this;h=z&&(r||!p);if(!1===l)var b=p&&!r;else{e||p||(n=g);var y=l-(g-n),q=0>=y;q?(e&&(e=clearTimeout(e)),n=g,f=a.apply(k,d)):e||(e=setTimeout(A,y))}q&&r?r=clearTimeout(r):r||c===l||(r=setTimeout(m,c));b&&(q=!0,f=a.apply(k,d));!q||r||e||(d=k=null);return f}}function G(a,c,b){var d=typeof a;if(null==a||"function"==d)return k(a,c,b);if("object"!=d)return La(a);var e=U(a);return function(c){for(var b=e.length,d=!1;b--&&(d=c[e[b]]===a[e[b]]););return d}}function sa(a){return a}function Ga(c){K(T(c),function(d){var e=
a[d]=c[d];a.prototype[d]=function(){var c=[this.__wrapped__];ia.apply(c,arguments);c=e.apply(a,c);return this.__chain__?new b(c,!0):c}})}function La(a){return function(c){return c[a]}}var Y,Ma=0,Q={},Pa=+new Date+"",ua=/($^)/,Qa=/['\n\r\t\u2028\u2029\\]/g,L={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},Na={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"},Z=L[typeof window]&&window||this,ma=L[typeof exports]&&exports&&!exports.nodeType&&exports,
na=L[typeof module]&&module&&!module.nodeType&&module,Ra=na&&na.exports===ma&&ma,ga=L[typeof global]&&global;!ga||ga.global!==ga&&ga.window!==ga||(Z=ga);var oa=[],va=Object.prototype,Sa=Z._,M=va.toString,Oa=RegExp("^"+String(M).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Ta=Math.ceil,Ha=Math.floor,N=va.hasOwnProperty,ia=oa.push,Ua=va.propertyIsEnumerable,ja=I(ja=Object.create)&&ja,wa=I(wa=Array.isArray)&&wa,Va=Z.isFinite,Wa=Z.isNaN,pa=I(pa=Object.keys)&&pa,S=
Math.max,la=Math.min,Ia=Math.random;b.prototype=a.prototype;var Ka;(function(){var a={0:1,length:1};Ka=(oa.splice.call(a,0,1),!a[0])})(1);a.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,variable:""};ja||(c=function(){function a(){}return function(c){if(E(c)){a.prototype=c;var b=new a;a.prototype=null}return b||Z.Object()}}());F(arguments)||(F=function(a){return a&&"object"==typeof a&&"number"==typeof a.length&&N.call(a,"callee")&&!Ua.call(a,
"callee")||!1});var ca=wa||function(a){return a&&"object"==typeof a&&"number"==typeof a.length&&"[object Array]"==M.call(a)||!1},Xa=function(a){var c,b=[];if(!a||!L[typeof a])return b;for(c in a)N.call(a,c)&&b.push(c);return b},U=pa?function(a){return E(a)?pa(a):[]}:Xa,ta={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"},Ja=V(ta),Ya=RegExp("("+U(Ja).join("|")+")","g"),Za=RegExp("["+U(ta).join("")+"]","g"),ka=function(a,c){var b;if(!a||!L[typeof a])return a;for(b in a)if(c(a[b],b,a)===
Q)break;return a},R=function(a,c){var b;if(!a||!L[typeof a])return a;for(b in a)if(N.call(a,b)&&c(a[b],b,a)===Q)break;return a};x(/x/)&&(x=function(a){return"function"==typeof a&&"[object Function]"==M.call(a)});var $a=w(function(a,c,b){N.call(a,b)?a[b]++:a[b]=1}),ab=w(function(a,c,b){(N.call(a,b)?a[b]:a[b]=[]).push(c)}),bb=w(function(a,c,b){a[b]=c}),xa=aa,fa=I(fa=Date.now)&&fa||function(){return(new Date).getTime()};a.after=function(a,c){if(!x(c))throw new TypeError;return function(){if(1>--a)return c.apply(this,
arguments)}};a.bind=Ea;a.bindAll=function(a){for(var c=1<arguments.length?p(arguments,!0,!1,1):T(a),b=-1,d=c.length;++b<d;){var e=c[b];a[e]=v(a[e],1,null,null,a)}return a};a.chain=function(a){a=new b(a);a.__chain__=!0;return a};a.compact=function(a){for(var c=-1,b=a?a.length:0,d=[];++c<b;){var e=a[c];e&&d.push(e)}return d};a.compose=function(){for(var a=arguments,c=a.length;c--;)if(!x(a[c]))throw new TypeError;return function(){for(var c=arguments,b=a.length;b--;)c=[a[b].apply(this,c)];return c[0]}};
a.countBy=$a;a.debounce=Fa;a.defaults=H;a.defer=function(a){if(!x(a))throw new TypeError;var c=f(arguments,1);return setTimeout(function(){a.apply(Y,c)},1)};a.delay=function(a,c){if(!x(a))throw new TypeError;var b=f(arguments,2);return setTimeout(function(){a.apply(Y,b)},c)};a.difference=function(a){return n(a,p(arguments,!0,!0,1))};a.filter=y;a.flatten=function(a,c){return p(a,c)};a.forEach=K;a.functions=T;a.groupBy=ab;a.indexBy=bb;a.initial=function(a,c,b){var d=0,e=a?a.length:0;if("number"!=typeof c&&
null!=c){var g=e;for(c=G(c,b,3);g--&&c(a[g],g,a);)d++}else d=null==c||b?1:c||d;return f(a,0,la(S(0,e-d),e))};a.intersection=function(){for(var a=[],c=-1,b=arguments.length;++c<b;){var d=arguments[c];(ca(d)||F(d))&&a.push(d)}var e=a[0],f=-1,g=D(),k=e?e.length:0,r=[];a:for(;++f<k;)if(d=e[f],0>g(r,d)){for(c=b;--c;)if(0>g(a[c],d))continue a;r.push(d)}return r};a.invert=V;a.invoke=function(a,c){var b=f(arguments,2),d=-1,e="function"==typeof c,g=a?a.length:0,k=Array("number"==typeof g?g:0);K(a,function(a){k[++d]=
(e?c:a[c]).apply(a,b)});return k};a.keys=U;a.map=aa;a.max=C;a.memoize=function(a,c){var b={};return function(){var d=c?c.apply(this,arguments):Pa+arguments[0];return N.call(b,d)?b[d]:b[d]=a.apply(this,arguments)}};a.min=function(a,c,b){var d=Infinity,e=d;"function"!=typeof c&&b&&b[c]===a&&(c=null);var f=-1,g=a?a.length:0;if(null==c&&"number"==typeof g)for(;++f<g;)b=a[f],b<e&&(e=b);else c=G(c,b,3),K(a,function(a,b,f){b=c(a,b,f);b<d&&(d=b,e=a)});return e};a.omit=function(a){var c=[];ka(a,function(a,
b){c.push(b)});for(var c=n(c,p(arguments,!0,!1,1)),b=-1,d=c.length,e={};++b<d;){var f=c[b];e[f]=a[f]}return e};a.once=function(a){var c,b;if(!x(a))throw new TypeError;return function(){if(c)return b;c=!0;b=a.apply(this,arguments);a=null;return b}};a.pairs=function(a){for(var c=-1,b=U(a),d=b.length,e=Array(d);++c<d;){var f=b[c];e[c]=[f,a[f]]}return e};a.partial=function(a){return v(a,16,f(arguments,1))};a.pick=function(a){for(var c=-1,b=p(arguments,!0,!1,1),d=b.length,e={};++c<d;){var f=b[c];f in a&&
(e[f]=a[f])}return e};a.pluck=xa;a.range=function(a,c,b){a=+a||0;b=+b||1;null==c&&(c=a,a=0);var d=-1;c=S(0,Ta((c-a)/b));for(var e=Array(c);++d<c;)e[d]=a,a+=b;return e};a.reject=function(a,c,b){c=G(c,b,3);return y(a,function(a,b,d){return!c(a,b,d)})};a.rest=ra;a.shuffle=za;a.sortBy=function(a,c,b){var d=-1,e=a?a.length:0,f=Array("number"==typeof e?e:0);c=G(c,b,3);K(a,function(a,b,e){f[++d]={criteria:[c(a,b,e)],index:d,value:a}});e=f.length;for(f.sort(h);e--;)f[e]=f[e].value;return f};a.tap=function(a,
c){c(a);return a};a.throttle=function(a,c,b){var d=!0,e=!0;if(!x(a))throw new TypeError;!1===b?d=!1:E(b)&&(d="leading"in b?b.leading:d,e="trailing"in b?b.trailing:e);b={};b.leading=d;b.maxWait=c;b.trailing=e;return Fa(a,c,b)};a.times=function(a,c,b){a=-1<(a=+a)?a:0;var d=-1,e=Array(a);for(c=k(c,b,1);++d<a;)e[d]=c(d);return e};a.toArray=function(a){return ca(a)?f(a):a&&"number"==typeof a.length?aa(a):r(a)};a.union=function(){return t(p(arguments,!0,!0))};a.uniq=Da;a.values=r;a.where=ha;a.without=function(a){return n(a,
f(arguments,1))};a.wrap=function(a,c){return v(c,16,[a])};a.zip=function(){for(var a=-1,c=C(xa(arguments,"length")),b=Array(0>c?0:c);++a<c;)b[a]=xa(arguments,a);return b};a.collect=aa;a.drop=ra;a.each=K;a.extend=B;a.methods=T;a.object=function(a,c){var b=-1,d=a?a.length:0,e={};for(c||!d||ca(a[0])||(c=[]);++b<d;){var f=a[b];c?e[f]=c[b]:f&&(e[f[0]]=f[1])}return e};a.select=y;a.tail=ra;a.unique=Da;a.clone=function(a){return E(a)?ca(a)?f(a):B({},a):a};a.contains=z;a.escape=function(a){return null==a?
"":String(a).replace(Za,q)};a.every=A;a.find=ba;a.has=function(a,c){return a?N.call(a,c):!1};a.identity=sa;a.indexOf=Ba;a.isArguments=F;a.isArray=ca;a.isBoolean=function(a){return!0===a||!1===a||a&&"object"==typeof a&&"[object Boolean]"==M.call(a)||!1};a.isDate=function(a){return a&&"object"==typeof a&&"[object Date]"==M.call(a)||!1};a.isElement=function(a){return a&&1===a.nodeType||!1};a.isEmpty=W;a.isEqual=function(a,c){return m(a,c)};a.isFinite=function(a){return Va(a)&&!Wa(parseFloat(a))};a.isFunction=
x;a.isNaN=function(a){return X(a)&&a!=+a};a.isNull=function(a){return null===a};a.isNumber=X;a.isObject=E;a.isRegExp=function(a){return a&&L[typeof a]&&"[object RegExp]"==M.call(a)||!1};a.isString=P;a.isUndefined=function(a){return"undefined"==typeof a};a.lastIndexOf=function(a,c,b){var d=a?a.length:0;for("number"==typeof b&&(d=(0>b?S(0,d+b):la(b,d-1))+1);d--;)if(a[d]===c)return d;return-1};a.mixin=Ga;a.noConflict=function(){Z._=Sa;return this};a.random=function(a,c){null==a&&null==c&&(c=1);a=+a||
0;null==c?(c=a,a=0):c=+c||0;return a+Ha(Ia()*(c-a+1))};a.reduce=ea;a.reduceRight=ya;a.result=function(a,c){if(a){var b=a[c];return x(b)?a[c]():b}};a.size=function(a){var c=a?a.length:0;return"number"==typeof c?c:U(a).length};a.some=Aa;a.sortedIndex=Ca;a.template=function(c,b,d){var f=a,g=f.templateSettings;c=String(c||"");d=H({},d,g);var k=0,r="__p += '",g=d.variable;c.replace(RegExp((d.escape||ua).source+"|"+(d.interpolate||ua).source+"|"+(d.evaluate||ua).source+"|$","g"),function(a,b,d,f,g){r+=
c.slice(k,g).replace(Qa,e);b&&(r+="' +\n_.escape("+b+") +\n'");f&&(r+="';\n"+f+";\n__p += '");d&&(r+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'");k=g+a.length;return a});r+="';\n";g||(g="obj",r="with ("+g+" || {}) {\n"+r+"\n}\n");r="function("+g+") {\nvar __t, __p = '', __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n"+r+"return __p\n}";try{var h=Function("_","return "+r)(f)}catch(n){throw n.source=r,n;}if(b)return h(b);h.source=r;return h};a.unescape=function(a){return null==
a?"":String(a).replace(Ya,O)};a.uniqueId=function(a){var c=++Ma+"";return a?a+c:c};a.all=A;a.any=Aa;a.detect=ba;a.findWhere=function(a,c){return ha(a,c,!0)};a.foldl=ea;a.foldr=ya;a.include=z;a.inject=ea;a.first=qa;a.last=function(a,c,b){var d=0,e=a?a.length:0;if("number"!=typeof c&&null!=c){var g=e;for(c=G(c,b,3);g--&&c(a[g],g,a);)d++}else if(d=c,null==d||b)return a?a[e-1]:Y;return f(a,S(0,e-d))};a.sample=function(a,c,b){a&&"number"!=typeof a.length&&(a=r(a));if(null==c||b)return a?a[u(0,a.length-
1)]:Y;a=za(a);a.length=la(S(0,c),a.length);return a};a.take=qa;a.head=qa;Ga(a);a.VERSION="2.4.1";a.prototype.chain=function(){this.__chain__=!0;return this};a.prototype.value=function(){return this.__wrapped__};K("pop push reverse shift sort splice unshift".split(" "),function(c){var b=oa[c];a.prototype[c]=function(){var a=this.__wrapped__;b.apply(a,arguments);Ka||0!==a.length||delete a[0];return this}});K(["concat","join","slice"],function(c){var d=oa[c];a.prototype[c]=function(){var a=d.apply(this.__wrapped__,
arguments);this.__chain__&&(a=new b(a),a.__chain__=!0);return a}});"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Z._=a,define("underscore",[],function(){return a})):ma&&na?Ra?(na.exports=a)._=a:ma._=a:Z._=a}).call(this);
(function(d){"function"===typeof define&&define.amd?define("jquery.form",["jquery"],d):d("undefined"!=typeof jQuery?jQuery:window.Zepto)})(function(d){function h(a){var b=a.data;a.isDefaultPrevented()||(a.preventDefault(),d(a.target).ajaxSubmit(b))}function e(a){var b=a.target,e=d(b);if(!e.is("[type=submit],[type=image]")){b=e.closest("[type=submit]");if(0===b.length)return;b=b[0]}var f=this;f.clk=b;"image"==b.type&&(void 0!==a.offsetX?(f.clk_x=a.offsetX,f.clk_y=a.offsetY):"function"==typeof d.fn.offset?
(e=e.offset(),f.clk_x=a.pageX-e.left,f.clk_y=a.pageY-e.top):(f.clk_x=a.pageX-b.offsetLeft,f.clk_y=a.pageY-b.offsetTop));setTimeout(function(){f.clk=f.clk_x=f.clk_y=null},100)}function f(){if(d.fn.ajaxSubmit.debug){var a="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(a):window.opera&&window.opera.postError&&window.opera.postError(a)}}var a,b;a=void 0!==d("<input type='file'/>").get(0).files;b=void 0!==window.FormData;var g=!!d.fn.prop;
d.fn.attr2=function(){if(!g)return this.attr.apply(this,arguments);var a=this.prop.apply(this,arguments);return a&&a.jquery||"string"===typeof a?a:this.attr.apply(this,arguments)};d.fn.ajaxSubmit=function(c){function e(a){a=d.param(a,c.traditional).split("&");var b=a.length,f=[],g,k;for(g=0;g<b;g++)a[g]=a[g].replace(/\+/g," "),k=a[g].split("="),f.push([decodeURIComponent(k[0]),decodeURIComponent(k[1])]);return f}function h(a){for(var b=new FormData,f=0;f<a.length;f++)b.append(a[f].name,a[f].value);
if(c.extraData)for(a=e(c.extraData),f=0;f<a.length;f++)a[f]&&b.append(a[f][0],a[f][1]);c.data=null;f=d.extend(!0,{},d.ajaxSettings,c,{contentType:!1,processData:!1,cache:!1,type:p||"POST"});c.uploadProgress&&(f.xhr=function(){var a=d.ajaxSettings.xhr();a.upload&&a.upload.addEventListener("progress",function(a){var b=0,d=a.loaded||a.position,e=a.total;a.lengthComputable&&(b=Math.ceil(d/e*100));c.uploadProgress(a,d,e,b)},!1);return a});f.data=null;var g=f.beforeSend;f.beforeSend=function(a,d){d.data=
c.formData?c.formData:b;g&&g.call(this,a,d)};return d.ajax(f)}function n(a){function b(a){var c=null;try{a.contentWindow&&(c=a.contentWindow.document)}catch(d){f("cannot get iframe.contentWindow document: "+d)}if(c)return c;try{c=a.contentDocument?a.contentDocument:a.document}catch(e){f("cannot get iframe.contentDocument: "+e),c=a.document}return c}function e(){function a(){try{var c=b(A).readyState;f("state = "+c);c&&"uninitialized"==c.toLowerCase()&&setTimeout(a,50)}catch(d){f("Server abort: ",
d," (",d.name,")"),k(2),t&&clearTimeout(t),t=void 0}}var c=u.attr2("target"),g=u.attr2("action");h.setAttribute("target",r);p&&!/post/i.test(p)||h.setAttribute("method","POST");g!=l.url&&h.setAttribute("action",l.url);l.skipEncodingOverride||p&&!/post/i.test(p)||u.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"});l.timeout&&(t=setTimeout(function(){q=!0;k(1)},l.timeout));var n=[];try{if(l.extraData)for(var m in l.extraData)l.extraData.hasOwnProperty(m)&&(d.isPlainObject(l.extraData[m])&&
l.extraData[m].hasOwnProperty("name")&&l.extraData[m].hasOwnProperty("value")?n.push(d('<input type="hidden" name="'+l.extraData[m].name+'">').val(l.extraData[m].value).appendTo(h)[0]):n.push(d('<input type="hidden" name="'+m+'">').val(l.extraData[m]).appendTo(h)[0]));l.iframeTarget||z.appendTo("body");A.attachEvent?A.attachEvent("onload",k):A.addEventListener("load",k,!1);setTimeout(a,15);try{h.submit()}catch(y){document.createElement("form").submit.apply(h)}}finally{h.setAttribute("action",g),c?
h.setAttribute("target",c):u.removeAttr("target"),d(n).remove()}}function k(a){if(!y.aborted&&!F)if(C=b(A),C||(f("cannot access response document"),a=2),1===a&&y)y.abort("timeout"),v.reject(y,"timeout");else if(2==a&&y)y.abort("server abort"),v.reject(y,"error","server abort");else if(C&&C.location.href!=l.iframeSrc||q){A.detachEvent?A.detachEvent("onload",k):A.removeEventListener("load",k,!1);a="success";var c;try{if(q)throw"timeout";var e="xml"==l.dataType||C.XMLDocument||d.isXMLDoc(C);f("isXml="+
e);if(!e&&window.opera&&(null===C.body||!C.body.innerHTML)&&--B){f("requeing onLoad callback, DOM not available");setTimeout(k,250);return}var g=C.body?C.body:C.documentElement;y.responseText=g?g.innerHTML:null;y.responseXML=C.XMLDocument?C.XMLDocument:C;e&&(l.dataType="xml");y.getResponseHeader=function(a){return{"content-type":l.dataType}[a.toLowerCase()]};g&&(y.status=Number(g.getAttribute("status"))||y.status,y.statusText=g.getAttribute("statusText")||y.statusText);var r=(l.dataType||"").toLowerCase(),
h=/(json|script|text)/.test(r);if(h||l.textarea){var n=C.getElementsByTagName("textarea")[0];if(n)y.responseText=n.value,y.status=Number(n.getAttribute("status"))||y.status,y.statusText=n.getAttribute("statusText")||y.statusText;else if(h){var p=C.getElementsByTagName("pre")[0],u=C.getElementsByTagName("body")[0];p?y.responseText=p.textContent?p.textContent:p.innerText:u&&(y.responseText=u.textContent?u.textContent:u.innerText)}}else"xml"==r&&!y.responseXML&&y.responseText&&(y.responseXML=I(y.responseText));
try{D=ha(y,r,l)}catch(w){a="parsererror",y.error=c=w||a}}catch(x){f("error caught: ",x),a="error",y.error=c=x||a}y.aborted&&(f("upload aborted"),a=null);y.status&&(a=200<=y.status&&300>y.status||304===y.status?"success":"error");"success"===a?(l.success&&l.success.call(l.context,D,"success",y),v.resolve(y.responseText,"success",y),m&&d.event.trigger("ajaxSuccess",[y,l])):a&&(void 0===c&&(c=y.statusText),l.error&&l.error.call(l.context,y,a,c),v.reject(y,"error",c),m&&d.event.trigger("ajaxError",[y,
l,c]));m&&d.event.trigger("ajaxComplete",[y,l]);m&&!--d.active&&d.event.trigger("ajaxStop");l.complete&&l.complete.call(l.context,y,a);F=!0;l.timeout&&clearTimeout(t);setTimeout(function(){l.iframeTarget?z.attr("src",l.iframeSrc):z.remove();y.responseXML=null},100)}}var h=u[0],n,l,m,r,z,A,y,q,t,v=d.Deferred();v.abort=function(a){y.abort(a)};if(a)for(n=0;n<w.length;n++)a=d(w[n]),g?a.prop("disabled",!1):a.removeAttr("disabled");l=d.extend(!0,{},d.ajaxSettings,c);l.context=l.context||l;r="jqFormIO"+
(new Date).getTime();l.iframeTarget?(z=d(l.iframeTarget),(n=z.attr2("name"))?r=n:z.attr2("name",r)):(z=d('<iframe name="'+r+'" src="'+l.iframeSrc+'" />'),z.css({position:"absolute",top:"-1000px",left:"-1000px"}));A=z[0];y={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(a){var c="timeout"===a?"timeout":"aborted";f("aborting upload... "+c);this.aborted=1;try{A.contentWindow.document.execCommand&&
A.contentWindow.document.execCommand("Stop")}catch(b){}z.attr("src",l.iframeSrc);y.error=c;l.error&&l.error.call(l.context,y,c,a);m&&d.event.trigger("ajaxError",[y,l,c]);l.complete&&l.complete.call(l.context,y,c)}};(m=l.global)&&0===d.active++&&d.event.trigger("ajaxStart");m&&d.event.trigger("ajaxSend",[y,l]);if(l.beforeSend&&!1===l.beforeSend.call(l.context,y,l))return l.global&&d.active--,v.reject(),v;if(y.aborted)return v.reject(),v;(a=h.clk)&&(n=a.name)&&!a.disabled&&(l.extraData=l.extraData||
{},l.extraData[n]=a.value,"image"==a.type&&(l.extraData[n+".x"]=h.clk_x,l.extraData[n+".y"]=h.clk_y));a=d("meta[name=csrf-token]").attr("content");(n=d("meta[name=csrf-param]").attr("content"))&&a&&(l.extraData=l.extraData||{},l.extraData[n]=a);l.forceSync?e():setTimeout(e,10);var D,C,B=50,F,I=d.parseXML||function(a,c){window.ActiveXObject?(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(a)):c=(new DOMParser).parseFromString(a,"text/xml");return c&&c.documentElement&&"parsererror"!=
c.documentElement.nodeName?c:null},O=d.parseJSON||function(a){return window.eval("("+a+")")},ha=function(a,c,b){var e=a.getResponseHeader("content-type")||"",f="xml"===c||!c&&0<=e.indexOf("xml");a=f?a.responseXML:a.responseText;f&&"parsererror"===a.documentElement.nodeName&&d.error&&d.error("parsererror");b&&b.dataFilter&&(a=b.dataFilter(a,c));"string"===typeof a&&("json"===c||!c&&0<=e.indexOf("json")?a=O(a):("script"===c||!c&&0<=e.indexOf("javascript"))&&d.globalEval(a));return a};return v}if(!this.length)return f("ajaxSubmit: skipping submit process - no element selected"),
this;var p,m,u=this;"function"==typeof c?c={success:c}:void 0===c&&(c={});p=c.type||this.attr2("method");m=c.url||this.attr2("action");(m=(m="string"===typeof m?d.trim(m):"")||window.location.href||"")&&(m=(m.match(/^([^#]+)/)||[])[1]);c=d.extend(!0,{url:m,success:d.ajaxSettings.success,type:p||d.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},c);m={};this.trigger("form-pre-serialize",[this,c,m]);if(m.veto)return f("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),
this;if(c.beforeSerialize&&!1===c.beforeSerialize(this,c))return f("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var t=c.traditional;void 0===t&&(t=d.ajaxSettings.traditional);var w=[],v,q=this.formToArray(c.semantic,w);c.data&&(c.extraData=c.data,v=d.param(c.data,t));if(c.beforeSubmit&&!1===c.beforeSubmit(q,this,c))return f("ajaxSubmit: submit aborted via beforeSubmit callback"),this;this.trigger("form-submit-validate",[q,this,c,m]);if(m.veto)return f("ajaxSubmit: submit vetoed via form-submit-validate trigger"),
this;m=d.param(q,t);v&&(m=m?m+"&"+v:v);"GET"==c.type.toUpperCase()?(c.url+=(0<=c.url.indexOf("?")?"&":"?")+m,c.data=null):c.data=m;var D=[];c.resetForm&&D.push(function(){u.resetForm()});c.clearForm&&D.push(function(){u.clearForm(c.includeHidden)});if(!c.dataType&&c.target){var I=c.success||function(){};D.push(function(a){var b=c.replaceTarget?"replaceWith":"html";d(c.target)[b](a).each(I,arguments)})}else c.success&&D.push(c.success);c.success=function(a,b,d){for(var e=c.context||this,f=0,g=D.length;f<
g;f++)D[f].apply(e,[a,b,d||u,u])};if(c.error){var O=c.error;c.error=function(a,b,d){O.apply(c.context||this,[a,b,d,u])}}if(c.complete){var F=c.complete;c.complete=function(a,b){F.apply(c.context||this,[a,b,u])}}v=0<d("input[type=file]:enabled",this).filter(function(){return""!==d(this).val()}).length;m="multipart/form-data"==u.attr("enctype")||"multipart/form-data"==u.attr("encoding");t=a&&b;f("fileAPI :"+t);var B;!1!==c.iframe&&(c.iframe||(v||m)&&!t)?c.closeKeepAlive?d.get(c.closeKeepAlive,function(){B=
n(q)}):B=n(q):B=(v||m)&&t?h(q):d.ajax(c);u.removeData("jqxhr").data("jqxhr",B);for(v=0;v<w.length;v++)w[v]=null;this.trigger("form-submit-notify",[this,c]);return this};d.fn.ajaxForm=function(a){a=a||{};a.delegation=a.delegation&&d.isFunction(d.fn.on);if(!a.delegation&&0===this.length){var b=this.selector,g=this.context;if(!d.isReady&&b)return f("DOM not ready, queuing ajaxForm"),d(function(){d(b,g).ajaxForm(a)}),this;f("terminating; zero elements found by selector"+(d.isReady?"":" (DOM not ready)"));
return this}return a.delegation?(d(document).off("submit.form-plugin",this.selector,h).off("click.form-plugin",this.selector,e).on("submit.form-plugin",this.selector,a,h).on("click.form-plugin",this.selector,a,e),this):this.ajaxFormUnbind().bind("submit.form-plugin",a,h).bind("click.form-plugin",a,e)};d.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};d.fn.formToArray=function(c,b){var e=[];if(0===this.length)return e;var f=this[0],g=c?f.getElementsByTagName("*"):
f.elements;if(!g)return e;var h,u,t,w,v,q;h=0;for(q=g.length;h<q;h++)if(v=g[h],(t=v.name)&&!v.disabled)if(c&&f.clk&&"image"==v.type)f.clk==v&&(e.push({name:t,value:d(v).val(),type:v.type}),e.push({name:t+".x",value:f.clk_x},{name:t+".y",value:f.clk_y}));else if((w=d.fieldValue(v,!0))&&w.constructor==Array)for(b&&b.push(v),u=0,v=w.length;u<v;u++)e.push({name:t,value:w[u]});else if(a&&"file"==v.type)if(b&&b.push(v),w=v.files,w.length)for(u=0;u<w.length;u++)e.push({name:t,value:w[u],type:v.type});else e.push({name:t,
value:"",type:v.type});else null!==w&&"undefined"!=typeof w&&(b&&b.push(v),e.push({name:t,value:w,type:v.type,required:v.required}));!c&&f.clk&&(g=d(f.clk),h=g[0],(t=h.name)&&!h.disabled&&"image"==h.type&&(e.push({name:t,value:g.val()}),e.push({name:t+".x",value:f.clk_x},{name:t+".y",value:f.clk_y})));return e};d.fn.formSerialize=function(a){return d.param(this.formToArray(a))};d.fn.fieldSerialize=function(a){var b=[];this.each(function(){var e=this.name;if(e){var f=d.fieldValue(this,a);if(f&&f.constructor==
Array)for(var g=0,h=f.length;g<h;g++)b.push({name:e,value:f[g]});else null!==f&&"undefined"!=typeof f&&b.push({name:this.name,value:f})}});return d.param(b)};d.fn.fieldValue=function(a){for(var b=[],e=0,f=this.length;e<f;e++){var g=d.fieldValue(this[e],a);null===g||"undefined"==typeof g||g.constructor==Array&&!g.length||(g.constructor==Array?d.merge(b,g):b.push(g))}return b};d.fieldValue=function(a,b){var e=a.name,f=a.type,g=a.tagName.toLowerCase();void 0===b&&(b=!0);if(b&&(!e||a.disabled||"reset"==
f||"button"==f||("checkbox"==f||"radio"==f)&&!a.checked||("submit"==f||"image"==f)&&a.form&&a.form.clk!=a||"select"==g&&-1==a.selectedIndex))return null;if("select"==g){var h=a.selectedIndex;if(0>h)return null;for(var e=[],g=a.options,u=(f="select-one"==f)?h+1:g.length,h=f?h:0;h<u;h++){var t=g[h];if(t.selected){var w=t.value;w||(w=t.attributes&&t.attributes.value&&!t.attributes.value.specified?t.text:t.value);if(f)return w;e.push(w)}}return e}return d(a).val()};d.fn.clearForm=function(a){return this.each(function(){d("input,select,textarea",
this).clearFields(a)})};d.fn.clearFields=d.fn.clearInputs=function(a){var b=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var e=this.type,f=this.tagName.toLowerCase();b.test(e)||"textarea"==f?this.value="":"checkbox"==e||"radio"==e?this.checked=!1:"select"==f?this.selectedIndex=-1:"file"==e?/MSIE/.test(navigator.userAgent)?d(this).replaceWith(d(this).clone(!0)):d(this).val(""):a&&(!0===a&&/hidden/.test(e)||"string"==typeof a&&
d(this).is(a))&&(this.value="")})};d.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})};d.fn.enable=function(a){void 0===a&&(a=!0);return this.each(function(){this.disabled=!a})};d.fn.selected=function(a){void 0===a&&(a=!0);return this.each(function(){var b=this.type;"checkbox"==b||"radio"==b?this.checked=a:"option"==this.tagName.toLowerCase()&&(b=d(this).parent("select"),a&&b[0]&&"select-one"==b[0].type&&
b.find("option").selected(!1),this.selected=a)})};d.fn.ajaxSubmit.debug=!1});
(function(){function d(){}function h(){}function e(a,c){this._loggers={};this.name=a||"";this._parent=c||null;c||(this._enabled=!0,this._level=g.WARN)}function f(a){b=a}Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var c=Array.prototype.slice.call(arguments,1),b=this,d=function(){},e=function(){return b.apply(this instanceof d&&a?this:a,c.concat(Array.prototype.slice.call(arguments)))};
d.prototype=this.prototype;e.prototype=new d;return e});var a,b,g={DEBUG:10,INFO:20,WARN:30,ERROR:40,FATAL:50};d.prototype={output:function(a,c,b){"undefined"!==typeof window.console&&"undefined"!==typeof console.log&&(a&&b.unshift(a+":"),a=b.join(" "),void 0===typeof console.info?console.log("["+(c<=g.DEBUG?"DEBUG":c<=g.INFO?"INFO":c<=g.WARN?"WARN":c<=g.ERROR?"ERROR":"FATAL")+"] "+a):c<=g.DEBUG?console.log("[DEBUG] "+a):c<=g.INFO?console.info(a):c<=g.WARN?console.warn(a):console.error(a))}};h.prototype=
{output:function(a,c,b){a&&b.unshift(a+":");c<=g.DEBUG?(b.unshift("[DEBUG]"),console.log.apply(console,b)):c<=g.INFO?console.info.apply(console,b):c<=g.WARN?console.warn.apply(console,b):console.error.apply(console,b)}};e.prototype={getLogger:function(a){a=a.split(".");for(var c=this,b=this.name?[this.name]:[];a.length;){var d=a.shift();b.push(d);d in c._loggers||(c._loggers[d]=new e(b.join("."),c));c=c._loggers[d]}return c},_getFlag:function(a){var c=this;for(a="_"+a;null!==c;){if(void 0!==c[a])return c[a];
c=c._parent}return null},setEnabled:function(a){this._enabled=!!a},isEnabled:function(){this._getFlag("enabled")},setLevel:function(a){"number"===typeof a?this._level=a:"string"===typeof a&&(a=a.toUpperCase(),a in g&&(this._level=g[a]))},getLevel:function(){return this._getFlag("level")},log:function(a,c){!c.length||!this._getFlag("enabled")||a<this._getFlag("level")||(c=Array.prototype.slice.call(c),b.output(this.name,a,c))},debug:function(){this.log(g.DEBUG,arguments)},info:function(){this.log(g.INFO,
arguments)},warn:function(){this.log(g.WARN,arguments)},error:function(){this.log(g.ERROR,arguments)},fatal:function(){this.log(g.FATAL,arguments)}};window.console&&window.console.log&&"function"===typeof window.console.log.apply?f(new h):f(new d);a=new e;for(var c=/loglevel(|-[^=]+)=([^&]+)/g,k;null!==(k=c.exec(window.location.search));)(""===k[1]?a:a.getLogger(k[1].slice(1))).setLevel(k[2].toUpperCase());var l={Level:g,getLogger:a.getLogger.bind(a),setEnabled:a.setEnabled.bind(a),isEnabled:a.isEnabled.bind(a),
setLevel:a.setLevel.bind(a),getLevel:a.getLevel.bind(a),debug:a.debug.bind(a),info:a.info.bind(a),warn:a.warn.bind(a),error:a.error.bind(a),fatal:a.fatal.bind(a),getWriter:function(){return b},setWriter:f};"function"===typeof define?define("logging",[],function(){return l}):window.logging=l})();define("pat-logger",["logging"],function(d){return d.getLogger("patterns")});
define("mockup-registry",["jquery","pat-logger","pat-utils","pat-compat","pat-jquery-ext"],function(d,h,e){for(var f=h.getLogger("registry"),a=/patterns-disable=([^&]+)/g,b=/patterns-dont-catch/g,g=!1,c={},k;null!==(k=a.exec(window.location.search));)c[k[1]]=!0,f.info("Pattern disabled via url config:",k[1]);for(;null!==(k=b.exec(window.location.search));)g=!0,f.info("I will not catch init exceptions");void 0===window.registry_settings&&(window.registry_settings={patterns:{},initialized:!1});var l=
{settings:window.registry_settings,patterns:window.registry_settings.patterns,init:function(){d(document).ready(function(){f.info("loaded: "+Object.keys(l.patterns).sort().join(", "));l.scan(document.body);l.settings.initialized=!0;f.info("finished initial scan.")})},scan:function(a,b,e){var k=d(a),t=[],w;b=b||Object.keys(l.patterns);b.forEach(function(a){if(c[a])f.debug("Skipping disabled pattern:",a);else{var b=l.patterns[a];if(b.transform)try{b.transform(k)}catch(d){if(g)throw d;f.error("Transform error for pattern"+
a,d)}b.trigger&&t.push(b.trigger)}});a=t.join(",");a=k.findInclusive(a);a=a.filter(function(){return 0===d(this).parents("pre").length});a=a.filter(":not(.cant-touch-this)");a.toArray().reduceRight(function(a,c){var b,f=d(c),k;for(k in l.patterns)if(b=l.patterns[k],b.init&&(w=h.getLogger("pat."+k),f.is(b.trigger)&&!f.hasClass("pattern-initialized"))){w.debug("Initialising:",f);try{b.init(f,null,e),w.debug("done.")}catch(n){if(g)throw n;w.error("Caught error:",n)}f.addClass("pattern-initialized")}},
null);d("body").addClass("patterns-loaded")},register:function(a,c){var b;c=c||a.name;if(!c)return f.error("Pattern lacks a name:",a),!1;if(l.patterns[c])return f.error("Already have a pattern called: "+c),!1;l.patterns[c]=a;a.jquery_plugin&&(b=("pat-"+c).replace(/-([a-zA-Z])/g,function(a,c){return c.toUpperCase()}),d.fn[b]=e.jqueryPlugin(a),d.fn[b.replace(/^pat/,"pattern")]=e.jqueryPlugin(a));f.debug("Registered pattern:",c,a);l.settings.initialized&&l.scan(document.body,[c]);return!0}};d(document).on("patterns-injected.patterns",
function(a,c,b){l.scan(a.target,null,{type:"injection",element:b});d(a.target).trigger("patterns-injected-scanned")});return l});
define("mockup-patterns-base",["jquery","mockup-registry","mockup-parser","pat-logger"],function(d,h,e,f){var a=f.getLogger("Mockup Base"),b=function(a,b,d){d=this.prototype.name;var g=f.getLogger("pat."+d),p=a.data("pattern-"+d);if(void 0===p&&h.patterns[d]){try{p=new h.patterns[d](a,e.getOptions(a,d,b))}catch(m){g.error('Failed while initializing "'+d+'" pattern.')}a.data("pattern-"+d,p)}return p},g=function(a,b){this.$el=a;this.options=d.extend(!0,{},this.defaults||{},b||{});this.init();this.emit("init")};
g.prototype={constructor:g,on:function(a,b){this.$el.on(a+"."+this.name+".patterns",b)},emit:function(a,b){void 0===b&&(b=[]);this.$el.trigger(a+"."+this.name+".patterns",b)}};g.extend=function(c){var e=this,f;if(!c)throw Error("Pattern configuration properties required when calling Base.extend");f=c.hasOwnProperty("constructor")?c.constructor:function(){e.apply(this,arguments)};f.extend=g.extend;f.init=b;f.jquery_plugin=!0;f.trigger=c.trigger;var n=function(){this.constructor=f};n.prototype=e.prototype;
f.prototype=new n;d.extend(!0,f.prototype,c);f.__super__=e.prototype;c.name?c.trigger?h.register(f,c.name):a.warn("The mockup pattern '"+c.name+"' does not have a trigger attribute, it will not be registered."):a.warn("This mockup pattern without a name attribute will not be registered!");return f};return g});
define("mockup-patterns-select2",["jquery","mockup-patterns-base","select2","jquery.event.drag","jquery.event.drop"],function(d,h){return h.extend({name:"select2",trigger:".pat-select2",defaults:{separator:","},initializeValues:function(){var e=this;e.options.initialValues&&(e.options.id=function(d){return d.id},e.options.initSelection=function(f,a){var b=[],g=f.val(),c=e.options.initialValues;"string"===typeof e.options.initialValues&&""!==e.options.initialValues&&("{"===e.options.initialValues[0]?
c=JSON.parse(e.options.initialValues):(c={},d(e.options.initialValues.split(e.options.separator)).each(function(){var a=this.split(":"),b=d.trim(a[0]),a=d.trim(a[1]);c[b]=a})));d(g.split(e.options.separator)).each(function(){var a=this;c[this]&&(a=c[this]);b.push({id:this,text:a})});a(b)})},initializeTags:function(){this.options.tags&&"string"===typeof this.options.tags&&("["===this.options.tags.substr(0,1)?this.options.tags=JSON.parse(this.options.tags):this.options.tags=this.options.tags.split(this.options.separator));
this.options.tags&&!this.options.allowNewItems&&(this.options.data=d.map(this.options.tags,function(d,f){return{id:d,text:d}}),this.options.multiple=!0,delete this.options.tags)},initializeOrdering:function(){var e=this;if(e.options.orderable){var f=function(a,b){return a?a.text:void 0};e.options.formatSelection&&(f=e.options.formatSelection);e.options.formatSelection=function(a,b){b.parents("li").drag("start",function(a,c){d(this).addClass("select2-choice-dragging");e.$el.select2("onSortStart");
d.drop({tolerance:function(a,c,b){d.data(b.elem,"drop+reorder",a.pageY>b.top+b.height/2?"insertAfter":"insertBefore");return this.contains(b,[a.pageX,a.pageY])}});return d(this).clone().addClass("dragging").css({opacity:.75,position:"absolute"}).appendTo(document.body)}).drag(function(a,c){d(c.proxy).css({top:c.offsetY,left:c.offsetX});var b=c.drop[0],e=d.data(b||{},"drop+reorder");!b||b==c.current&&e==c.method||(d(this)[e](b),c.current=b,c.method=e,c.update())}).drag("end",function(a,c){d(this).removeClass("select2-choice-dragging");
e.$el.select2("onSortEnd");d(c.proxy).remove()}).drop("init",function(a,c){return this==c.drag?!1:!0});return f(a,b)}}},initializeSelect2:function(){this.$el.select2(this.options);this.$select2=this.$el.parent().find(".select2-container");this.$el.parent().off("close.modal.patterns");this.options.orderable&&this.$select2.addClass("select2-orderable")},init:function(){var e=this;e.options.allowNewItems=e.options.hasOwnProperty("allowNewItems")?JSON.parse(e.options.allowNewItems):!0;if(e.options.ajax||
e.options.vocabularyUrl){e.options.vocabularyUrl&&(e.options.multiple=void 0===e.options.multiple?!0:e.options.multiple,e.options.ajax=e.options.ajax||{},e.options.ajax.url=e.options.vocabularyUrl,e.options.initSelection=function(a,b){var f=[],g=a.val();d(g.split(e.options.separator)).each(function(){f.push({id:this,text:this})});b(f)});var f="";e.options.ajax=d.extend({quietMillis:300,data:function(a,b){f=a;return{query:a,page_limit:10,page:b}},results:function(a,b){var g=a.results;if(e.options.vocabularyUrl){var h=
[];d.each(a.results,function(a,c){h.push(c.id)});var g=[],p=""===f||0<=d.inArray(f,h);e.options.allowNewItems&&!p&&g.push({id:f,text:f});(p||e.options.allowNewItems)&&d.each(a.results,function(a,c){g.push(c)})}return{results:g}}},e.options.ajax)}else if(e.options.multiple&&e.$el.is("select")){var a=e.$el.val()||[],b=d.map(e.$el.find("option"),function(a){return{text:d(a).html(),id:a.value}}),g=d('<input type="hidden" />');g.val(a.join(e.options.separator));g.attr("class",e.$el.attr("class"));g.attr("name",
e.$el.attr("name"));g.attr("id",e.$el.attr("id"));e.$orig=e.$el;e.$el.replaceWith(g);e.$el=g;e.options.data=b}e.initializeValues();e.initializeTags();e.initializeOrdering();e.initializeSelect2()}})});
define("plone-patterns-toolbar",["jquery","mockup-patterns-base","mockup-registry","mockup-utils","jquery.cookie"],function(d,h,e,f){return h.extend({name:"toolbar",trigger:".pat-toolbar",init:function(){var a=this;if("768">d(window).width())d("#edit-zone").css("right","-120px"),d("#edit-zone .plone-toolbar-logo").click(function(){d(this).hasClass("open")?(d("#edit-zone").css("right","-120px"),d("html").css("margin-left","0"),d("html").css("margin-right","0"),d(this).removeClass("open"),d("#edit-zone nav li").removeClass("active")):
(d("#edit-zone").css("right","0"),d(this).addClass("open"),d("html").css("margin-left","-120px"),d("html").css("margin-right","120px"))}),d("#edit-zone nav li").has("a .plone-toolbar-caret").click(function(a){a.preventDefault();a.stopPropagation();d(this).hasClass("active")?(d("#edit-zone").css("right","0"),d("html").css("margin-left","-120px"),d("html").css("margin-right","120px"),d("#edit-zone nav li").removeClass("active")):(d("#edit-zone nav li").removeClass("active"),d(this).addClass("active"),
d("#edit-zone").css("right","180px"),d("html").css("margin-left","-300px"),d("html").css("margin-right","300px"))});else{var b=d.cookie("plone-toolbar");window.plonetoolbar_state=b;d("#edit-zone").attr("class",b);d("#edit-zone .plone-toolbar-logo").on("click",function(){window.plonetoolbar_state?-1!=window.plonetoolbar_state.indexOf("expanded")?(d("#edit-zone").removeClass("expanded"),d("#edit-zone nav li").removeClass("active"),-1!=window.plonetoolbar_state.indexOf("left")?(d("body").addClass("plone-toolbar-left-default"),
d("body").removeClass("plone-toolbar-left-expanded")):(d("body").addClass("plone-toolbar-top-default"),d("body").removeClass("plone-toolbar-top-expanded")),d.cookie("plone-toolbar",d("#edit-zone").attr("class"),{path:"/"}),window.plonetoolbar_state=window.plonetoolbar_state.replace(" expanded","")):(d("#edit-zone").addClass("expanded"),d("#edit-zone nav li").removeClass("active"),-1!=window.plonetoolbar_state.indexOf("left")?(d("body").addClass("plone-toolbar-left-expanded"),d("body").removeClass("plone-toolbar-left-default")):
(d("body").addClass("plone-toolbar-top-expanded"),d("body").removeClass("plone-toolbar-top-default")),d.cookie("plone-toolbar",d("#edit-zone").attr("class"),{path:"/"}),window.plonetoolbar_state+=" expanded"):(window.plonetoolbar_state="pat-toolbar plone-toolbar-left",d("#edit-zone").addClass("expanded"),d("#edit-zone nav li").removeClass("active"),d("body").addClass("plone-toolbar-left-expanded"),d("body").removeClass("plone-toolbar-left-default"),d.cookie("plone-toolbar",d("#edit-zone").attr("class"),
{path:"/"}),window.plonetoolbar_state+=" expanded")});d("#edit-zone .plone-toolbar-logo").on("dblclick",function(){window.plonetoolbar_state?-1!=window.plonetoolbar_state.indexOf("compressed")?(d("#edit-zone").removeClass("compressed"),-1!=window.plonetoolbar_state.indexOf("left")?d("body").addClass("plone-toolbar-left-default"):d("body").addClass("plone-toolbar-top-default"),d("body").removeClass("plone-toolbar-compressed"),d.cookie("plone-toolbar",d("#edit-zone").attr("class"),{path:"/"}),window.plonetoolbar_state=
window.plonetoolbar_state.replace(" expanded","")):(d("#edit-zone").addClass("compressed"),-1!=window.plonetoolbar_state.indexOf("left")?(d("body").addClass("plone-toolbar-compressed"),d("body").removeClass("plone-toolbar-left-default"),d("body").removeClass("plone-toolbar-left-expanded")):(d("body").addClass("plone-toolbar-compressed"),d("body").removeClass("plone-toolbar-top-default"),d("body").removeClass("plone-toolbar-top-expanded")),d.cookie("plone-toolbar",d("#edit-zone").attr("class"),{path:"/"}),
window.plonetoolbar_state+=" compressed"):(d("#edit-zone").addClass("compressed"),d("body").addClass("plone-toolbar-compressed"),d("body").removeClass("plone-toolbar-left-default"),d("body").removeClass("plone-toolbar-left-expanded"),d.cookie("plone-toolbar",d("#edit-zone").attr("class"),{path:"/"}),window.plonetoolbar_state+=" compressed")});d("#edit-zone nav > ul > li li").on("click",function(a){a.stopImmediatePropagation()});d("#edit-zone nav > ul > li").has("a .plone-toolbar-caret").on("click",
function(a){a.preventDefault();a.stopPropagation();d(this).hasClass("active")?d("#edit-zone nav li").removeClass("active"):(d("#edit-zone nav li").removeClass("active"),d(this).addClass("active"))});d("body").on("click",function(a){0<d(this).parent("#edit-zone").length||d("#edit-zone nav > ul > li").each(function(a,b){d(b).removeClass("active")})});d("#edit-zone .plone-toolbar-switcher").on("click",function(){window.plonetoolbar_state?-1!=window.plonetoolbar_state.indexOf("top")?(d("#edit-zone").addClass("plone-toolbar-left"),
d("#edit-zone").removeClass("plone-toolbar-top"),-1!=window.plonetoolbar_state.indexOf("expanded")?(d("body").addClass("plone-toolbar-left-expanded"),d("body").removeClass("plone-toolbar-top-expanded")):(d("body").addClass("plone-toolbar-left-default"),d("body").removeClass("plone-toolbar-top-default")),d.cookie("plone-toolbar",d("#edit-zone").attr("class"),{path:"/"}),window.plonetoolbar_state=window.plonetoolbar_state.replace("plone-toolbar-top","plone-toolbar-left")):(d("#edit-zone").addClass("plone-toolbar-top"),
d("#edit-zone").removeClass("plone-toolbar-left"),-1!=window.plonetoolbar_state.indexOf("expanded")?(d("body").addClass("plone-toolbar-top-expanded"),d("body").removeClass("plone-toolbar-left-expanded")):(d("body").addClass("plone-toolbar-top-default"),d("body").removeClass("plone-toolbar-left-default")),d.cookie("plone-toolbar",d("#edit-zone").attr("class"),{path:"/"}),window.plonetoolbar_state=window.plonetoolbar_state.replace("plone-toolbar-left","plone-toolbar-top")):(window.plonetoolbar_state=
"pat-toolbar plone-toolbar-left",d("#edit-zone").addClass("plone-toolbar-left"),d("#edit-zone").removeClass("plone-toolbar-top"),d("body").addClass("plone-toolbar-top-default"),d("body").removeClass("plone-toolbar-left-default"),d.cookie("plone-toolbar",d("#edit-zone").attr("class"),{path:"/"}),window.plonetoolbar_state=window.plonetoolbar_state.replace("plone-toolbar-left","plone-toolbar-top"))})}this.$el.addClass("initialized");d("body").off("structure-url-changed").on("structure-url-changed",function(b,
c){d.ajax({url:d("body").attr("data-portal-url")+c+"/@@render-toolbar"}).done(function(c){c=d(f.parseBodyTag(c));a.$el.replaceWith(c);e.scan(c)})})}})});
define("mockup-patterns-accessibility",["jquery","mockup-patterns-base","jquery.cookie"],function(d,h){return h.extend({name:"accessibility",trigger:".pat-accessibility",defaults:{smallbtn:null,normalbtn:null,largebtn:null},setBaseFontSize:function(e,f){f&&(this.$el.removeClass("smallText").removeClass("largeText").removeClass("mediumText"),d.cookie("fontsize",e,{expires:365,path:"/"}));this.$el.addClass(e)},initBtn:function(d){var f=this;d.el.click(function(a){a.preventDefault();f.setBaseFontSize(d.name+
"Text",1)})},init:function(){var e=this,f=d.cookie("fontsize");f&&e.setBaseFontSize(f,0);d.each(["smallbtn","normalbtn","largebtn"],function(a,b){var f=b.replace("btn",""),c=e.options[b];null!==c&&(c=d(c,e.$el))&&(b={name:f,el:c},e[f]=b,e.initBtn(b))})}})});
define("mockup-patterns-autotoc",["jquery","mockup-patterns-base"],function(d,h){return h.extend({name:"autotoc",trigger:".pat-autotoc",defaults:{section:"section",levels:"h1,h2,h3",IDPrefix:"autotoc-item-",classTOCName:"autotoc-nav",classSectionName:"autotoc-section",classLevelPrefixName:"autotoc-level-",classActiveName:"active",scrollDuration:"slow",scrollEasing:"swing"},init:function(){var e=this;e.$toc=d("<nav/>").addClass(e.options.classTOCName);e.options.prependTo?e.$toc.prependTo(e.options.prependTo):
e.options.appendTo?e.$toc.appendTo(e.options.appendTo):e.$toc.prependTo(e.$el);e.options.className&&e.$el.addClass(e.options.className);d(e.options.section,e.$el).addClass(e.options.classSectionName);var f=e.$el.hasClass("autotabs");d(e.options.levels,e.$el).each(function(a){var b=d(this),g=b.prop("id")?"#"+b.prop("id"):b.parents(e.options.section).prop("id");g||(g=e.options.IDPrefix+e.name+"-"+a,b.prop("id",g));d("<a/>").appendTo(e.$toc).text(b.text()).prop("href",g).addClass(e.options.classLevelPrefixName+
e.getLevel(b)).on("click",function(a,g){a.stopPropagation();a.preventDefault();e.$toc.children("."+e.options.classActiveName).removeClass(e.options.classActiveName);e.$el.children("."+e.options.classActiveName).removeClass(e.options.classActiveName);d(a.target).addClass(e.options.classActiveName);b.parents(e.options.section).addClass(e.options.classActiveName);!1!==g&&e.options.scrollDuration&&b&&!f&&d("body,html").animate({scrollTop:b.offset().top},e.options.scrollDuration,e.options.scrollEasing);
0!==e.$el.parents(".plone-modal").size()&&e.$el.trigger("resize.modal.patterns");d(this).trigger("clicked")})});e.$toc.find("a").first().trigger("click",!1)},getLevel:function(e){var f=0;d.each(this.options.levels.split(","),function(a,b){if(1===e.filter(b).size())return f=a+1,!1});return f}})});
define("mockup-patterns-cookietrigger",["jquery","mockup-patterns-base"],function(d,h){return h.extend({name:"cookietrigger",trigger:".pat-cookietrigger",isCookiesEnabled:function(){var d="areYourCookiesEnabled=0";document.cookie=d;var f=document.cookie;if(-1===f.indexOf(d))return 0;d="areYourCookiesEnabled=1";document.cookie=d;f=document.cookie;if(-1===f.indexOf(d))return 0;document.cookie="areYourCookiesEnabled=; expires=Thu, 01-Jan-70 00:00:01 GMT";return 1},showIfCookiesDisabled:function(){this.isCookiesEnabled()?
this.$el.hide():this.$el.show()},init:function(){this.showIfCookiesDisabled()}})});define("mockup-patterns-formautofocus",["jquery","mockup-patterns-base"],function(d,h,e){return h.extend({name:"formautofocus",trigger:".pat-formautofocus",defaults:{condition:"div.error",target:"div.error :input:not(.formTabs):visible:first",always:":input:not(.formTabs):visible:first"},init:function(){0!==d(this.options.condition,this.$el).size()?d(this.options.target,this.$el).focusin():d(this.options.always,this.$el).focusin()}})});
define("mockup-patterns-backdrop",["jquery","mockup-patterns-base"],function(d,h){return h.extend({name:"backdrop",trigger:".pat-backdrop",defaults:{zIndex:null,opacity:.8,className:"plone-backdrop",classActiveName:"plone-backdrop-active",closeOnEsc:!0,closeOnClick:!0},init:function(){var e=this;e.$backdrop=d("> ."+e.options.className,e.$el);0===e.$backdrop.size()&&(e.$backdrop=d("<div/>").hide().appendTo(e.$el).addClass(e.options.className),null!==e.options.zIndex&&e.$backdrop.css("z-index",e.options.zIndex));
if(!0===e.options.closeOnEsc)d(document).on("keydown",function(d,a){e.$el.is("."+e.options.classActiveName)&&27===d.keyCode&&e.hide()});if(!0===e.options.closeOnClick)e.$backdrop.on("click",function(){e.$el.is("."+e.options.classActiveName)&&e.hide()})},show:function(){this.$el.hasClass(this.options.classActiveName)||(this.emit("show"),this.$backdrop.css("opacity","0").show(),this.$el.addClass(this.options.classActiveName),this.$backdrop.animate({opacity:this.options.opacity},500),this.emit("shown"))},
hide:function(){this.$el.hasClass(this.options.classActiveName)&&(this.emit("hide"),this.$backdrop.animate({opacity:"0"},500).hide(),this.$el.removeClass(this.options.classActiveName),this.emit("hidden"))}})});
define("mockup-patterns-contentloader",["jquery","mockup-patterns-base","pat-logger","mockup-registry","mockup-utils"],function(d,h,e,f,a){var b=e.getLogger("pat-contentloader");return h.extend({name:"contentloader",trigger:".pat-contentloader",defaults:{url:null,content:null,trigger:"click",target:null},init:function(){var a=this;"el"===a.options.url&&"A"===a.$el[0].tagName&&(a.options.url=a.$el.attr("href"));a.$el.on(a.options.trigger,function(c){c.preventDefault();a.$el.addClass("loading-content");
a.options.url?a.loadRemote():a.loadLocal()})},loadRemote:function(){var b=this;d.ajax({url:b.options.url}).done(function(c){-1!==c.indexOf("<html")&&(c=a.parseBodyTag(c));c=d(c);null!==b.options.content&&(c=c.find(b.options.content));b.loadLocal(c)})},loadLocal:function(a){if(a||null!==this.options.content){var c=this.$el;if(null!==this.options.target&&(c=d(this.options.target),0===c.size())){b.warn("No target nodes found");return}a||(a=d(this.options.content).clone());a.show();c.replaceWith(a);f.scan(a);
this.$el.removeClass("loading-content")}else b.warn("No selector configured")}})});
define("mockup-i18n",["jquery"],function(d){return new function(){var h=this;h.baseUrl=d("body").attr("data-i18ncatalogurl");h.baseUrl||(h.baseUrl="/plonejsi18n");h.currentLanguage=d("html").attr("lang")||"en";h.storage=null;h.catalogs={};h.ttl=864E5;Date.now||(Date.now=function(){return(new Date).valueOf()});try{"localStorage"in window&&null!==window.localStorage&&"JSON"in window&&null!==window.JSON&&(h.storage=window.localStorage)}catch(e){}h.configure=function(d){for(var a in d)h[a]=d[a]};h._setCatalog=
function(d,a,b){d in h.catalogs||(h.catalogs[d]={});h.catalogs[d][a]=b};h._storeCatalog=function(d,a,b){d=d+"-"+a;null!==h.storage&&null!==b&&(h.storage.setItem(d,JSON.stringify(b)),h.storage.setItem(d+"-updated",Date.now()))};h.getUrl=function(d,a){return h.baseUrl+"?domain="+d+"&language="+a};h.loadCatalog=function(e,a){void 0===a&&(a=h.currentLanguage);if(null!==h.storage){var b=e+"-"+a;if(b in h.storage&&Date.now()-parseInt(h.storage.getItem(b+"-updated"),10)<h.ttl){b=JSON.parse(h.storage.getItem(b));
h._setCatalog(e,a,b);return}}d.getJSON(h.getUrl(e,a),function(b){null!==b&&(h._setCatalog(e,a,b),h._storeCatalog(e,a,b))})};h.MessageFactory=function(d,a){a=a||h.currentLanguage;return function(b,e){var c;c=d in h.catalogs&&a in h.catalogs[d]&&b in h.catalogs[d][a]?h.catalogs[d][a][b]:b;if(e){var k,l;for(l in e)e.hasOwnProperty(l)&&(k=new RegExp("\\$\\{"+l+"\\}","g"),c=c.replace(k,e[l]))}return c}}}});define("translate",["mockup-i18n"],function(d){d.loadCatalog("widgets");return d.MessageFactory("widgets")});
define("mockup-patterns-preventdoublesubmit",["jquery","mockup-patterns-base","translate"],function(d,h,e){return h.extend({name:"preventdoublesubmit",trigger:".pat-preventdoublesubmit",defaults:{message:e("You already clicked the submit button. Do you really want to submit this form again?"),guardClassName:"submitting",optOutClassName:"allowMultiSubmit"},init:function(){var e=this;e.$el.is("form")&&d(":submit",e.$el).click(function(a){d(":submit").removeAttr("clicked");d(this).attr("clicked","clicked");
if(d(this).hasClass(e.options.guardClassName)&&!d(this).hasClass(e.options.optOutClassName))return e._confirm.call(e);d(this).addClass(e.options.guardClassName)})},_confirm:function(d){return window.confirm(this.options.message)}})});
define("mockup-patterns-formunloadalert",["jquery","mockup-patterns-base","translate"],function(d,h,e){return h.extend({name:"formunloadalert",trigger:".pat-formunloadalert",_changed:!1,_suppressed:!1,defaults:{message:e("Discard changes? If you click OK, any changes you have made will be lost."),changingEvents:"change keyup paste",changingFields:"input,select,textarea,fileupload"},init:function(){var e=this;if(e.$el.is("form")){d(e.options.changingFields,e.$el).on(e.options.changingEvents,function(a){e._changed=
!0});var a=e.$el.parents(".plone-modal");if(0!==a.size())a.data("pattern-modal").on("hide",function(b){var d=a.data("pattern-modal");d&&(d._suppressHide=e._handleUnload.apply(e,b))});else d(window).on("beforeunload",function(a){return e._handleUnload(a)});e.$el.on("submit",function(a){e._suppressed=!0})}},_handleUnload:function(e){if(this._suppressed)this._suppressed=!1;else if(this._changed){var a=this.options.message;this._handleMsg(e,a);d(window).trigger("messageset");return a}},_handleMsg:function(d,
a){(d||window.event).returnValue=a}})});
define("mockup-patterns-livesearch",["jquery","mockup-patterns-base","underscore","translate"],function(d,h,e,f){return h.extend({name:"livesearch",trigger:".pat-livesearch",timeout:null,active:!1,results:null,selectedItem:-1,resultsClass:"livesearch-results",defaults:{ajaxUrl:null,perPage:7,quietMillis:350,minimumInputLength:4,inputSelector:'input[type="text"]',itemTemplate:'<li class="search-result <%- state %>"><h4 class="title"><a href="<%- url %>"><%- title %></a></h4><p class="description"><%- description %></p></li>'},doSearch:function(a){var b=
this;b.active=!0;b.render();b.$el.addClass("searching");var e=b.$el.serialize();void 0===a&&(a=1);d.ajax({url:b.options.ajaxUrl+"?"+e+"&page="+a+"&perPage="+b.options.perPage,dataType:"json"}).done(function(c){b.results=c;b.page=a;e!==b.$el.serialize()&&b.doSearch()}).fail(function(){b.results={items:[{url:"",title:f("Error"),description:f("There was an error searching\u2026"),state:"error",error:!1}],total:1};b.page=1}).always(function(){b.active=!1;b.selectedItem=-1;b.$el.removeClass("searching");
b.render()})},render:function(){var a=this;a.$results.empty();a.active?a.$results.append(d('<li class="searching">'+f("searching\u2026")+"</li>")):null===a.results?a.$results.append(d('<li class="no-results no-search">'+f("enter search phrase")+"</li>")):0===a.results.total?a.$results.append(d('<li class="no-results">'+f("no results found")+"</li>")):a.$results.append(d('<li class="results-summary">'+f("found")+" "+a.results.total+" "+f("results")+"</li>"));if(null!==a.results){var b=e.template(a.options.itemTemplate);
e.each(a.results.items,function(c,e){var g=d(b(d.extend({_t:f},c)));g.attr("data-url",c.url).on("click",function(){c.error||(window.location=c.url)});e===a.selectedItem&&g.addClass("selected");a.$results.append(g)});var g=[];if(1<a.page){var c=d('<a href="#" class="prev">'+f("Previous")+"</a>");c.click(function(c){a.disableHiding=!0;c.preventDefault();a.doSearch(a.page-1)});g.push(c)}a.page*a.options.perPage<a.results.total&&(c=d('<a href="#" class="next">'+f("Next")+"</a>"),c.click(function(c){a.disableHiding=
!0;c.preventDefault();a.doSearch(a.page+1)}),g.push(c));0<g.length&&(c=d('<li class="load-more"><div class="page">'+a.page+"</div></li>"),c.prepend(g),a.$results.append(c))}a.position()},position:function(){this.$el.addClass("livesearch-active");var a=this.$input.position();this.$results.width(this.$input.outerWidth());this.$results.css({top:a.top+this.$input.outerHeight(),left:a.left});this.$results.show()},hide:function(){this.$results.hide();this.$el.removeClass("livesearch-active")},init:function(){var a=
this;a.$input=a.$el.find(a.options.inputSelector);a.$input.off("focusout").on("focusout",function(){setTimeout(function(){a.disableHiding?(a.disableHiding=!1,a.$input.focus()):a.hide()},200)}).off("focusin").on("focusin",function(){a.onceFocused?a.$results.is(":visible")||a.render():(a.onceFocused=!0,a.$input.val().length>=a.options.minimumInputLength&&a.doSearch())}).attr("autocomplete","off").off("keyup").on("keyup",function(b){if(a.results&&a.results.items&&0<a.results.items.length){b=b.keyCode||
b.which;if(13===b){-1!==a.selectedItem&&(window.location=a.results.items[a.selectedItem].url);return}if(38===b){-1!==a.selectedItem&&(--a.selectedItem,a.render());return}if(40===b){a.selectedItem<a.results.items.length&&(a.selectedItem+=1,a.render());return}}null!==a.timeout&&(clearTimeout(a.timeout),a.timeout=null);a.active||(a.$input.val().length>=a.options.minimumInputLength?a.timeout=setTimeout(function(){a.doSearch()},a.options.quietMillis):(a.results=null,a.render()))});a.$results=d('<ul class="'+
a.resultsClass+'"></ul>').hide().insertAfter(a.$input)}})});
(function(d){"function"==typeof define&&define.amd?define("picker.date",["picker","jquery"],d):d(Picker,jQuery)})(function(d,h){function e(a,b){var d=this,c=a.$node[0].value,e=a.$node.data("value"),f=e||c,e=e?b.formatSubmit:b.format;d.settings=b;d.$node=a.$node;d.queue={min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"parse navigate create validate",view:"parse create validate viewset",disable:"deactivate",enable:"activate"};d.item={};d.item.disable=
(b.disable||[]).slice(0);d.item.enable=-function(a){return!0===a[0]?a.shift():-1}(d.item.disable);d.set("min",b.min).set("max",b.max).set("now");f?d.set("select",f,{format:e,fromValue:!!c}):d.set("select",null).set("highlight",d.item.now);d.key={40:7,38:-7,39:function(){return"rtl"===getComputedStyle(a.$root[0]).direction?-1:1},37:function(){return"rtl"===getComputedStyle(a.$root[0]).direction?1:-1},go:function(a){var c=d.item.highlight,c=new Date(c.year,c.month,c.date+a);d.set("highlight",[c.getFullYear(),
c.getMonth(),c.getDate()],{interval:a});this.render()}};a.on("render",function(){a.$root.find("."+b.klass.selectMonth).on("change",function(){var c=this.value;c&&(a.set("highlight",[a.get("view").year,c,a.get("highlight").date]),a.$root.find("."+b.klass.selectMonth).trigger("focus"))});a.$root.find("."+b.klass.selectYear).on("change",function(){var c=this.value;c&&(a.set("highlight",[c,a.get("view").month,a.get("highlight").date]),a.$root.find("."+b.klass.selectYear).trigger("focus"))})}).on("open",
function(){a.$root.find("button, select").attr("disabled",!1)}).on("close",function(){a.$root.find("button, select").attr("disabled",!0)})}var f=d._;e.prototype.set=function(a,b,d){var c=this,e=c.item;if(null===b)return e[a]=b,c;e["enable"==a?"disable":"flip"==a?"enable":a]=c.queue[a].split(" ").map(function(e){return b=c[e](a,b,d)}).pop();"select"==a?c.set("highlight",e.select,d):"highlight"==a?c.set("view",e.highlight,d):a.match(/^(flip|min|max|disable|enable)$/)&&(e.select&&c.disabled(e.select)&&
c.set("select",e.select,d),e.highlight&&c.disabled(e.highlight)&&c.set("highlight",e.highlight,d));return c};e.prototype.get=function(a){return this.item[a]};e.prototype.create=function(a,b,d){var c;b=void 0===b?a:b;-Infinity==b||Infinity==b?c=b:h.isPlainObject(b)&&f.isInteger(b.pick)?b=b.obj:h.isArray(b)?(b=new Date(b[0],b[1],b[2]),b=f.isDate(b)?b:this.create().obj):b=f.isInteger(b)||f.isDate(b)?this.normalize(new Date(b),d):this.now(a,b,d);return{year:c||b.getFullYear(),month:c||b.getMonth(),date:c||
b.getDate(),day:c||b.getDay(),obj:c||b,pick:c||b.getTime()}};e.prototype.createRange=function(a,b){var d=this,c=function(a){return!0===a||h.isArray(a)||f.isDate(a)?d.create(a):a};f.isInteger(a)||(a=c(a));f.isInteger(b)||(b=c(b));f.isInteger(a)&&h.isPlainObject(b)?a=[b.year,b.month,b.date+a]:f.isInteger(b)&&h.isPlainObject(a)&&(b=[a.year,a.month,a.date+b]);return{from:c(a),to:c(b)}};e.prototype.withinRange=function(a,b){a=this.createRange(a.from,a.to);return b.pick>=a.from.pick&&b.pick<=a.to.pick};
e.prototype.overlapRanges=function(a,b){a=this.createRange(a.from,a.to);b=this.createRange(b.from,b.to);return this.withinRange(a,b.from)||this.withinRange(a,b.to)||this.withinRange(b,a.from)||this.withinRange(b,a.to)};e.prototype.now=function(a,b,d){b=new Date;d&&d.rel&&b.setDate(b.getDate()+d.rel);return this.normalize(b,d)};e.prototype.navigate=function(a,b,d){var c,e;c=h.isArray(b);e=h.isPlainObject(b);a=this.item.view;if(c||e){e?(c=b.year,e=b.month,b=b.date):(c=+b[0],e=+b[1],b=+b[2]);d&&d.nav&&
a&&a.month!==e&&(c=a.year,e=a.month);d=new Date(c,e+(d&&d.nav?d.nav:0),1);c=d.getFullYear();for(e=d.getMonth();(new Date(c,e,b)).getMonth()!==e;)--b;b=[c,e,b]}return b};e.prototype.normalize=function(a){a.setHours(0,0,0,0);return a};e.prototype.measure=function(a,b){b?f.isInteger(b)&&(b=this.now(a,b,{rel:b})):b="min"==a?-Infinity:Infinity;return b};e.prototype.viewset=function(a,b){return this.create([b.year,b.month,1])};e.prototype.validate=function(a,b,d){var c=this;a=b;var e=d&&d.interval?d.interval:
1,l=-1===c.item.enable,n,p,m=c.item.min,u=c.item.max,t,w,v=l&&c.item.disable.filter(function(a){if(h.isArray(a)){var d=c.create(a).pick;d<b.pick?n=!0:d>b.pick&&(p=!0)}return f.isInteger(a)}).length;if(!d||!d.nav)if(!l&&c.disabled(b)||l&&c.disabled(b)&&(v||n||p)||!l&&(b.pick<=m.pick||b.pick>=u.pick))for(l&&!v&&(!p&&0<e||!n&&0>e)&&(e*=-1);c.disabled(b);){1<Math.abs(e)&&(b.month<a.month||b.month>a.month)&&(b=a,e=0<e?1:-1);b.pick<=m.pick?(t=!0,e=1,b=c.create([m.year,m.month,m.date-1])):b.pick>=u.pick&&
(w=!0,e=-1,b=c.create([u.year,u.month,u.date+1]));if(t&&w)break;b=c.create([b.year,b.month,b.date+e])}return b};e.prototype.disabled=function(a){var b=this,d=b.item.disable.filter(function(c){if(f.isInteger(c))return a.day===(b.settings.firstDay?c:c-1)%7;if(h.isArray(c)||f.isDate(c))return a.pick===b.create(c).pick;if(h.isPlainObject(c))return b.withinRange(c,a)}),d=d.length&&!d.filter(function(a){return h.isArray(a)&&"inverted"==a[3]||h.isPlainObject(a)&&a.inverted}).length;return-1===b.item.enable?
!d:d||a.pick<b.item.min.pick||a.pick>b.item.max.pick};e.prototype.parse=function(a,b,d){var c=this,e={};if(!b||f.isInteger(b)||h.isArray(b)||f.isDate(b)||h.isPlainObject(b)&&f.isInteger(b.pick))return b;d&&d.format||(d=d||{},d.format=c.settings.format);a="string"!=typeof b||d.fromValue?0:1;c.formats.toArray(d.format).map(function(a){var d=c.formats[a],g=d?f.trigger(d,c,[b,e]):a.replace(/^!/,"").length;d&&(e[a]=b.substr(0,g));b=b.substr(g)});return[e.yyyy||e.yy,+(e.mm||e.m)-a,e.dd||e.d]};e.prototype.formats=
function(){function a(a,d,c){a=a.match(/\w+/)[0];c.mm||c.m||(c.m=d.indexOf(a));return a.length}return{d:function(a,d){return a?f.digits(a):d.date},dd:function(a,d){return a?2:f.lead(d.date)},ddd:function(a,d){return a?a.match(/\w+/)[0].length:this.settings.weekdaysShort[d.day]},dddd:function(a,d){return a?a.match(/\w+/)[0].length:this.settings.weekdaysFull[d.day]},m:function(a,d){return a?f.digits(a):d.month+1},mm:function(a,d){return a?2:f.lead(d.month+1)},mmm:function(b,d){var c=this.settings.monthsShort;
return b?a(b,c,d):c[d.month]},mmmm:function(b,d){var c=this.settings.monthsFull;return b?a(b,c,d):c[d.month]},yy:function(a,d){return a?2:(""+d.year).slice(2)},yyyy:function(a,d){return a?4:d.year},toArray:function(a){return a.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g)},toString:function(a,d){var c=this;return c.formats.toArray(a).map(function(a){return f.trigger(c.formats[a],c,[0,d])||a.replace(/^!/,"")}).join("")}}}();e.prototype.isDateExact=function(a,b){return f.isInteger(a)&&f.isInteger(b)||"boolean"==
typeof a&&"boolean"==typeof b?a===b:(f.isDate(a)||h.isArray(a))&&(f.isDate(b)||h.isArray(b))?this.create(a).pick===this.create(b).pick:h.isPlainObject(a)&&h.isPlainObject(b)?this.isDateExact(a.from,b.from)&&this.isDateExact(a.to,b.to):!1};e.prototype.isDateOverlap=function(a,b){return f.isInteger(a)&&(f.isDate(b)||h.isArray(b))?a===this.create(b).day+1:f.isInteger(b)&&(f.isDate(a)||h.isArray(a))?b===this.create(a).day+1:h.isPlainObject(a)&&h.isPlainObject(b)?this.overlapRanges(a,b):!1};e.prototype.flipEnable=
function(a){var b=this.item;b.enable=a||(-1==b.enable?1:-1)};e.prototype.deactivate=function(a,b){var d=this,c=d.item.disable.slice(0);"flip"==b?d.flipEnable():!1===b?(d.flipEnable(1),c=[]):!0===b?(d.flipEnable(-1),c=[]):b.map(function(a){for(var b,e=0;e<c.length;e+=1)if(d.isDateExact(a,c[e])){b=!0;break}b||(f.isInteger(a)||f.isDate(a)||h.isArray(a)||h.isPlainObject(a)&&a.from&&a.to)&&c.push(a)});return c};e.prototype.activate=function(a,b){var d=this,c=d.item.disable,e=c.length;"flip"==b?d.flipEnable():
!0===b?(d.flipEnable(1),c=[]):!1===b?(d.flipEnable(-1),c=[]):b.map(function(a){var b,p,m,u;for(m=0;m<e;m+=1)if(p=c[m],d.isDateExact(p,a)){b=c[m]=null;u=!0;break}else if(d.isDateOverlap(p,a)){h.isPlainObject(a)?(a.inverted=!0,b=a):h.isArray(a)?(b=a,b[3]||b.push("inverted")):f.isDate(a)&&(b=[a.getFullYear(),a.getMonth(),a.getDate(),"inverted"]);break}if(b)for(m=0;m<e;m+=1)if(d.isDateExact(c[m],a)){c[m]=null;break}if(u)for(m=0;m<e;m+=1)if(d.isDateOverlap(c[m],a)){c[m]=null;break}b&&c.push(b)});return c.filter(function(a){return null!=
a})};e.prototype.nodes=function(a){var b=this,d=b.settings,c=b.item,e=c.now,h=c.select,n=c.highlight,p=c.view,m=c.disable,u=c.min,t=c.max,c=function(a){d.firstDay&&a.push(a.shift());return f.node("thead",f.node("tr",f.group({min:0,max:6,i:1,node:"th",item:function(c){return[a[c],d.klass.weekdays]}})))}((d.showWeekdaysFull?d.weekdaysFull:d.weekdaysShort).slice(0)),w=function(a){return f.node("div"," ",d.klass["nav"+(a?"Next":"Prev")]+(a&&p.year>=t.year&&p.month>=t.month||!a&&p.year<=u.year&&p.month<=
u.month?" "+d.klass.navDisabled:""),"data-nav="+(a||-1))};return f.node("div",w()+w(1)+function(c){return d.selectMonths?f.node("select",f.group({min:0,max:11,i:1,node:"option",item:function(a){return[c[a],0,"value="+a+(p.month==a?" selected":"")+(p.year==u.year&&a<u.month||p.year==t.year&&a>t.month?" disabled":"")]}}),d.klass.selectMonth,a?"":"disabled"):f.node("div",c[p.month],d.klass.month)}(d.showMonthsShort?d.monthsShort:d.monthsFull)+function(){var c=p.year,b=!0===d.selectYears?5:~~(d.selectYears/
2);if(b){var e=u.year,h=t.year,k=c-b,b=c+b;e>k&&(b+=e-k,k=e);h<b&&(e=k-e,b-=h,k-=e>b?b:e,b=h);return f.node("select",f.group({min:k,max:b,i:1,node:"option",item:function(a){return[a,0,"value="+a+(c==a?" selected":"")]}}),d.klass.selectYear,a?"":"disabled")}return f.node("div",c,d.klass.year)}(),d.klass.header)+f.node("table",c+f.node("tbody",f.group({min:0,max:5,i:1,node:"tr",item:function(a){var c=d.firstDay&&0===b.create([p.year,p.month,1]).day?-7:0;return[f.group({min:7*a-p.day+c+1,max:function(){return this.min+
7-1},i:1,node:"td",item:function(a){a=b.create([p.year,p.month,a+(d.firstDay?1:0)]);var c=h&&h.pick==a.pick,q=n&&n.pick==a.pick,v=m&&b.disabled(a)||a.pick<u.pick||a.pick>t.pick;return[f.node("div",a.date,function(b){b.push(p.month==a.month?d.klass.infocus:d.klass.outfocus);e.pick==a.pick&&b.push(d.klass.now);c&&b.push(d.klass.selected);q&&b.push(d.klass.highlighted);v&&b.push(d.klass.disabled);return b.join(" ")}([d.klass.day]),"data-pick="+a.pick+" "+f.ariaAttr({role:"button",controls:b.$node[0].id,
checked:c&&b.$node.val()===f.trigger(b.formats.toString,b,[d.format,a])?!0:null,activedescendant:q?!0:null,disabled:v?!0:null}))]}})]}})),d.klass.table)+f.node("div",f.node("button",d.today,d.klass.buttonToday,"type=button data-pick="+e.pick+(a?"":" disabled"))+f.node("button",d.clear,d.klass.buttonClear,"type=button data-clear=1"+(a?"":" disabled")),d.klass.footer)};e.defaults=function(a){return{monthsFull:"January February March April May June July August September October November December".split(" "),
monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdaysFull:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),today:"Today",clear:"Clear",format:"d mmmm, yyyy",klass:{table:a+"table",header:a+"header",navPrev:a+"nav--prev",navNext:a+"nav--next",navDisabled:a+"nav--disabled",month:a+"month",year:a+"year",selectMonth:a+"select--month",selectYear:a+"select--year",weekdays:a+"weekday",day:a+"day",disabled:a+
"day--disabled",selected:a+"day--selected",highlighted:a+"day--highlighted",now:a+"day--today",infocus:a+"day--infocus",outfocus:a+"day--outfocus",footer:a+"footer",buttonClear:a+"button--clear",buttonToday:a+"button--today"}}}(d.klasses().picker+"__");d.extend("pickadate",e)});
(function(d){"function"==typeof define&&define.amd?define("picker.time",["picker","jquery"],d):d(Picker,jQuery)})(function(d,h){function e(a,b){var d=this,c=a.$node[0].value,e=a.$node.data("value"),f=e||c,e=e?b.formatSubmit:b.format;d.settings=b;d.$node=a.$node;d.queue={interval:"i",min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"parse create validate",view:"parse create validate",disable:"deactivate",enable:"activate"};d.item={};d.item.interval=
b.interval||30;d.item.disable=(b.disable||[]).slice(0);d.item.enable=-function(a){return!0===a[0]?a.shift():-1}(d.item.disable);d.set("min",b.min).set("max",b.max).set("now");f?d.set("select",f,{format:e,fromValue:!!c}):d.set("select",null).set("highlight",d.item.now);d.key={40:1,38:-1,39:1,37:-1,go:function(a){d.set("highlight",d.item.highlight.pick+a*d.item.interval,{interval:a*d.item.interval});this.render()}};a.on("render",function(){var c=a.$root.children(),d=c.find("."+b.klass.viewset);d.length&&
(c[0].scrollTop=~~d.position().top-2*d[0].clientHeight)}).on("open",function(){a.$root.find("button").attr("disable",!1)}).on("close",function(){a.$root.find("button").attr("disable",!0)})}var f=d._;e.prototype.set=function(a,b,d){var c=this,e=c.item;if(null===b)return e[a]=b,c;e["enable"==a?"disable":"flip"==a?"enable":a]=c.queue[a].split(" ").map(function(e){return b=c[e](a,b,d)}).pop();"select"==a?c.set("highlight",e.select,d):"highlight"==a?c.set("view",e.highlight,d):"interval"==a?c.set("min",
e.min,d).set("max",e.max,d):a.match(/^(flip|min|max|disable|enable)$/)&&("min"==a&&c.set("max",e.max,d),e.select&&c.disabled(e.select)&&c.set("select",e.select,d),e.highlight&&c.disabled(e.highlight)&&c.set("highlight",e.highlight,d));return c};e.prototype.get=function(a){return this.item[a]};e.prototype.create=function(a,b,d){b=void 0===b?a:b;f.isDate(b)&&(b=[b.getHours(),b.getMinutes()]);h.isPlainObject(b)&&f.isInteger(b.pick)?b=b.pick:h.isArray(b)?b=60*+b[0]+ +b[1]:f.isInteger(b)||(b=this.now(a,
b,d));"max"==a&&b<this.item.min.pick&&(b+=1440);"min"!=a&&"max"!=a&&0!==(b-this.item.min.pick)%this.item.interval&&(b+=this.item.interval);b=this.normalize(a,b,d);return{hour:~~(24+b/60)%24,mins:(60+b%60)%60,time:(1440+b)%1440,pick:b}};e.prototype.createRange=function(a,b){var d=this,c=function(a){return!0===a||h.isArray(a)||f.isDate(a)?d.create(a):a};f.isInteger(a)||(a=c(a));f.isInteger(b)||(b=c(b));f.isInteger(a)&&h.isPlainObject(b)?a=[b.hour,b.mins+a*d.settings.interval]:f.isInteger(b)&&h.isPlainObject(a)&&
(b=[a.hour,a.mins+b*d.settings.interval]);return{from:c(a),to:c(b)}};e.prototype.withinRange=function(a,b){a=this.createRange(a.from,a.to);return b.pick>=a.from.pick&&b.pick<=a.to.pick};e.prototype.overlapRanges=function(a,b){a=this.createRange(a.from,a.to);b=this.createRange(b.from,b.to);return this.withinRange(a,b.from)||this.withinRange(a,b.to)||this.withinRange(b,a.from)||this.withinRange(b,a.to)};e.prototype.now=function(a,b){var d=this.item.interval,c=new Date,c=60*c.getHours()+c.getMinutes(),
e=f.isInteger(b),h,c=c-c%d;h=0>b&&d*b+c<=-d;c+="min"==a&&h?0:d;e&&(c+=d*(h&&"max"!=a?b+1:b));return c};e.prototype.normalize=function(a,b){var d=this.item.interval,c=this.item.min&&this.item.min.pick||0;return b-("min"==a?0:(b-c)%d)};e.prototype.measure=function(a,b,d){b?!0===b||f.isInteger(b)?b=this.now(a,b,d):h.isPlainObject(b)&&f.isInteger(b.pick)&&(b=this.normalize(a,b.pick,d)):b="min"==a?[0,0]:[23,59];return b};e.prototype.validate=function(a,b,d){a=d&&d.interval?d.interval:this.item.interval;
this.disabled(b)&&(b=this.shift(b,a));b=this.scope(b);this.disabled(b)&&(b=this.shift(b,-1*a));return b};e.prototype.disabled=function(a){var b=this,d=b.item.disable.filter(function(c){if(f.isInteger(c))return a.hour==c;if(h.isArray(c)||f.isDate(c))return a.pick==b.create(c).pick;if(h.isPlainObject(c))return b.withinRange(c,a)}),d=d.length&&!d.filter(function(a){return h.isArray(a)&&"inverted"==a[2]||h.isPlainObject(a)&&a.inverted}).length;return-1===b.item.enable?!d:d||a.pick<b.item.min.pick||a.pick>
b.item.max.pick};e.prototype.shift=function(a,b){var d=this.item.min.pick,c=this.item.max.pick;for(b=b||this.item.interval;this.disabled(a)&&!(a=this.create(a.pick+=b),a.pick<=d||a.pick>=c););return a};e.prototype.scope=function(a){var b=this.item.min.pick,d=this.item.max.pick;return this.create(a.pick>d?d:a.pick<b?b:a)};e.prototype.parse=function(a,b,d){var c,e,l,n,p=this,m={};if(!b||f.isInteger(b)||h.isArray(b)||f.isDate(b)||h.isPlainObject(b)&&f.isInteger(b.pick))return b;d&&d.format||(d=d||{},
d.format=p.settings.format);p.formats.toArray(d.format).map(function(a){var c,d=(c=p.formats[a])?f.trigger(c,p,[b,m]):a.replace(/^!/,"").length;c&&(c=b.substr(0,d),m[a]=c.match(/^\d+$/)?+c:c);b=b.substr(d)});for(n in m)if(a=m[n],f.isInteger(a))if(n.match(/^(h|hh)$/i)){if(c=a,"h"==n||"hh"==n)c%=12}else"i"==n&&(e=a);else n.match(/^a$/i)&&a.match(/^p/i)&&("h"in m||"hh"in m)&&(l=!0);return 60*(l?c+12:c)+e};e.prototype.formats={h:function(a,b){return a?f.digits(a):b.hour%12||12},hh:function(a,b){return a?
2:f.lead(b.hour%12||12)},H:function(a,b){return a?f.digits(a):""+b.hour%24},HH:function(a,b){return a?f.digits(a):f.lead(b.hour%24)},i:function(a,b){return a?2:f.lead(b.mins)},a:function(a,b){return a?4:720>b.time%1440?"a.m.":"p.m."},A:function(a,b){return a?2:720>b.time%1440?"AM":"PM"},toArray:function(a){return a.split(/(h{1,2}|H{1,2}|i|a|A|!.)/g)},toString:function(a,b){var d=this;return d.formats.toArray(a).map(function(a){return f.trigger(d.formats[a],d,[0,b])||a.replace(/^!/,"")}).join("")}};
e.prototype.isTimeExact=function(a,b){return f.isInteger(a)&&f.isInteger(b)||"boolean"==typeof a&&"boolean"==typeof b?a===b:(f.isDate(a)||h.isArray(a))&&(f.isDate(b)||h.isArray(b))?this.create(a).pick===this.create(b).pick:h.isPlainObject(a)&&h.isPlainObject(b)?this.isTimeExact(a.from,b.from)&&this.isTimeExact(a.to,b.to):!1};e.prototype.isTimeOverlap=function(a,b){return f.isInteger(a)&&(f.isDate(b)||h.isArray(b))?a===this.create(b).hour:f.isInteger(b)&&(f.isDate(a)||h.isArray(a))?b===this.create(a).hour:
h.isPlainObject(a)&&h.isPlainObject(b)?this.overlapRanges(a,b):!1};e.prototype.flipEnable=function(a){var b=this.item;b.enable=a||(-1==b.enable?1:-1)};e.prototype.deactivate=function(a,b){var d=this,c=d.item.disable.slice(0);"flip"==b?d.flipEnable():!1===b?(d.flipEnable(1),c=[]):!0===b?(d.flipEnable(-1),c=[]):b.map(function(a){for(var b,e=0;e<c.length;e+=1)if(d.isTimeExact(a,c[e])){b=!0;break}b||(f.isInteger(a)||f.isDate(a)||h.isArray(a)||h.isPlainObject(a)&&a.from&&a.to)&&c.push(a)});return c};e.prototype.activate=
function(a,b){var d=this,c=d.item.disable,e=c.length;"flip"==b?d.flipEnable():!0===b?(d.flipEnable(1),c=[]):!1===b?(d.flipEnable(-1),c=[]):b.map(function(a){var b,p,m,u;for(m=0;m<e;m+=1)if(p=c[m],d.isTimeExact(p,a)){b=c[m]=null;u=!0;break}else if(d.isTimeOverlap(p,a)){h.isPlainObject(a)?(a.inverted=!0,b=a):h.isArray(a)?(b=a,b[2]||b.push("inverted")):f.isDate(a)&&(b=[a.getFullYear(),a.getMonth(),a.getDate(),"inverted"]);break}if(b)for(m=0;m<e;m+=1)if(d.isTimeExact(c[m],a)){c[m]=null;break}if(u)for(m=
0;m<e;m+=1)if(d.isTimeOverlap(c[m],a)){c[m]=null;break}b&&c.push(b)});return c.filter(function(a){return null!=a})};e.prototype.i=function(a,b){return f.isInteger(b)&&0<b?b:this.item.interval};e.prototype.nodes=function(a){var b=this,d=b.settings,c=b.item.select,e=b.item.highlight,h=b.item.view,n=b.item.disable;return f.node("ul",f.group({min:b.item.min.pick,max:b.item.max.pick,i:b.item.interval,node:"li",item:function(a){a=b.create(a);var m=a.pick,u=c&&c.pick==m,t=e&&e.pick==m,w=n&&b.disabled(a),
v=f.trigger(b.formats.toString,b,[f.trigger(d.formatLabel,b,[a])||d.format,a]),q=[d.klass.listItem];u&&q.push(d.klass.selected);t&&q.push(d.klass.highlighted);h&&h.pick==m&&q.push(d.klass.viewset);w&&q.push(d.klass.disabled);m=q.join(" ");return[v,m,"data-pick="+a.pick+" "+f.ariaAttr({role:"button",controls:b.$node[0].id,checked:u&&b.$node.val()===f.trigger(b.formats.toString,b,[d.format,a])?!0:null,activedescendant:t?!0:null,disabled:w?!0:null})]}})+f.node("li",f.node("button",d.clear,d.klass.buttonClear,
"type=button data-clear=1"+(a?"":" disable"))),d.klass.list)};e.defaults=function(a){return{clear:"Clear",format:"h:i A",interval:30,klass:{picker:a+" "+a+"--time",holder:a+"__holder",list:a+"__list",listItem:a+"__list-item",disabled:a+"__list-item--disabled",selected:a+"__list-item--selected",highlighted:a+"__list-item--highlighted",viewset:a+"__list-item--viewset",now:a+"__list-item--now",buttonClear:a+"__button--clear"}}}(d.klasses().picker);d.extend("pickatime",e)});
define("mockup-patterns-pickadate","jquery mockup-patterns-base picker picker.date picker.time mockup-patterns-select2 translate".split(" "),function(d,h,e,f,a,b,g){return h.extend({name:"pickadate",trigger:".pat-pickadate",defaults:{separator:" ",date:{selectYears:!0,selectMonths:!0},time:{},timezone:null,classWrapperName:"pattern-pickadate-wrapper",classSeparatorName:"pattern-pickadate-separator",classDateName:"pattern-pickadate-date",classDateWrapperName:"pattern-pickadate-date-wrapper",classTimeName:"pattern-pickadate-time",
classTimeWrapperName:"pattern-pickadate-time-wrapper",classTimezoneName:"pattern-pickadate-timezone",classTimezoneWrapperName:"pattern-pickadate-timezone-wrapper",classClearName:"pattern-pickadate-clear",placeholderDate:g("Enter date..."),placeholderTime:g("Enter time..."),placeholderTimezone:g("Enter timezone...")},isFalse:function(a){return"string"===typeof a&&"false"===a?!1:a},init:function(){var a=this,b=a.$el.val().split(" "),e=b[0]||"",f=b[1]||"";a.options.date=a.isFalse(a.options.date);a.options.time=
a.isFalse(a.options.time);!1===a.options.date&&(f=b[0]);a.$el.hide();a.$wrapper=d("<div/>").addClass(a.options.classWrapperName).insertAfter(a.$el);!1!==a.options.date&&(a.options.date.formatSubmit="yyyy-mm-dd",a.$date=d('<input type="text"/>').attr("placeholder",a.options.placeholderDate).attr("data-value",e).addClass(a.options.classDateName).appendTo(d("<div/>").addClass(a.options.classDateWrapperName).appendTo(a.$wrapper)).pickadate(d.extend(!0,{},a.options.date,{onSet:function(b){void 0!==b.select&&
(a.$date.attr("data-value",b.select),!1!==a.options.time&&""===a.$time.attr("data-value")||a.updateValue.call(a));b.hasOwnProperty("clear")&&(a.$el.removeAttr("value"),a.$date.attr("data-value",""))}})));!1!==a.options.date&&!1!==a.options.time&&(a.$separator=d("<span/>").addClass(a.options.classSeparatorName).html(" "===a.options.separator?"&nbsp;":a.options.separator).appendTo(a.$wrapper));!1!==a.options.time&&(a.options.time.formatSubmit="HH:i",a.$time=d('<input type="text"/>').attr("placeholder",
a.options.placeholderTime).attr("data-value",f).addClass(a.options.classTimeName).appendTo(d("<div/>").addClass(a.options.classTimeWrapperName).appendTo(a.$wrapper)).pickatime(d.extend(!0,{},a.options.time,{onSet:function(b){void 0!==b.select&&(a.$time.attr("data-value",b.select),!1!==a.options.date&&""===a.$date.attr("data-value")||a.updateValue.call(a));b.hasOwnProperty("clear")&&(a.$el.removeAttr("value"),a.$time.attr("data-value",""))}})),"string"===typeof f&&"00"===f.substring(0,2)&&(a.$time.pickatime("picker").set("select",
f.split(":")),a.$time.attr("data-value",f)));!1!==a.options.date&&!1!==a.options.time&&a.options.timezone&&(a.$separator=d("<span/>").addClass(a.options.classSeparatorName).html(" "===a.options.separator?"&nbsp;":a.options.separator).appendTo(a.$wrapper));if(null!==a.options.timezone){a.$timezone=d('<input type="text"/>').addClass(a.options.classTimezoneName).appendTo(d("<div/>").addClass(a.options.classTimezoneWrapperName).appendTo(a.$wrapper)).patternSelect2(d.extend(!0,{placeholder:a.options.placeholderTimezone,
width:"10em"},a.options.timezone,{multiple:!1})).on("change",function(b){void 0!==b.val&&(a.$timezone.attr("data-value",b.val),!1!==a.options.date&&""===a.$date.attr("data-value")||!1!==a.options.time&&""===a.$time.attr("data-value")||a.updateValue.call(a))});if(b=a.options.timezone.default){var g;a.options.timezone.data.forEach(function(b){g=b.text===a.options.timezone.default?!0:!1});g&&(a.$timezone.attr("data-value",b),a.$timezone.parent().find(".select2-chosen").text(b))}1===a.options.timezone.data.length&&
(a.$timezone.attr("data-value",a.options.timezone.data[0].text),a.$timezone.parent().find(".select2-chosen").text(a.options.timezone.data[0].text),a.$timezone.select2("enable",!1))}a.$clear=d("<div/>").addClass(a.options.classClearName).appendTo(a.$wrapper)},updateValue:function(){var a="";if(!1!==this.options.date){var b=this.$date.data("pickadate").component,d=this.$date.data("pickadate").get("select"),e=b.formats.toString;d&&(a+=e.apply(b,["yyyy-mm-dd",d]))}!1!==this.options.date&&!1!==this.options.time&&
(a+=" ");!1!==this.options.time&&(b=this.$time.data("pickatime").component,d=this.$time.data("pickatime").get("select"),e=b.formats.toString,d&&(a+=e.apply(b,["HH:i",d])));null!==this.options.timezone&&(b=" "+this.$timezone.attr("data-value"))&&(a+=b);this.$el.attr("value",a);this.emit("updated")}})});
(function(d,h){if("function"===typeof define&&define.amd)define("backbone",["underscore","jquery","exports"],function(e,a,b){d.Backbone=h(d,b,e,a)});else if("undefined"!==typeof exports){var e=require("underscore");h(d,exports,e)}else d.Backbone=h(d,{},d._,d.jQuery||d.Zepto||d.ender||d.$)})(this,function(d,h,e,f){var a=d.Backbone,b=[].slice;h.VERSION="1.1.2";h.$=f;h.noConflict=function(){d.Backbone=a;return this};h.emulateHTTP=!1;h.emulateJSON=!1;var g=h.Events={on:function(a,b,c){if(!k(this,"on",
a,[b,c])||!b)return this;this._events||(this._events={});(this._events[a]||(this._events[a]=[])).push({callback:b,context:c,ctx:c||this});return this},once:function(a,b,c){if(!k(this,"once",a,[b,c])||!b)return this;var d=this,f=e.once(function(){d.off(a,f);b.apply(this,arguments)});f._callback=b;return this.on(a,f,c)},off:function(a,b,c){var d,f,g,h,l,m,n,p;if(!this._events||!k(this,"off",a,[b,c]))return this;if(!a&&!b&&!c)return this._events=void 0,this;h=a?[a]:e.keys(this._events);l=0;for(m=h.length;l<
m;l++)if(a=h[l],g=this._events[a]){this._events[a]=d=[];if(b||c)for(n=0,p=g.length;n<p;n++)f=g[n],(b&&b!==f.callback&&b!==f.callback._callback||c&&c!==f.context)&&d.push(f);d.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var c=b.call(arguments,1);if(!k(this,"trigger",a,c))return this;var d=this._events[a],e=this._events.all;d&&l(d,c);e&&l(e,arguments);return this},stopListening:function(a,b,c){var d=this._listeningTo;if(!d)return this;var f=!b&&!c;c||
"object"!==typeof b||(c=this);a&&((d={})[a._listenId]=a);for(var g in d)a=d[g],a.off(b,c,this),(f||e.isEmpty(a._events))&&delete this._listeningTo[g];return this}},c=/\s+/,k=function(a,b,d,e){if(!d)return!0;if("object"===typeof d){for(var f in d)a[b].apply(a,[f,d[f]].concat(e));return!1}if(c.test(d)){d=d.split(c);f=0;for(var g=d.length;f<g;f++)a[b].apply(a,[d[f]].concat(e));return!1}return!0},l=function(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],h=b[2];switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);
break;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f);break;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g);break;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g,h);break;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b)}};e.each({listenTo:"on",listenToOnce:"once"},function(a,b){g[b]=function(b,c,d){var f=this._listeningTo||(this._listeningTo={}),g=b._listenId||(b._listenId=e.uniqueId("l"));f[g]=b;d||"object"!==typeof c||(d=this);b[a](c,d,this);return this}});g.bind=g.on;g.unbind=g.off;
e.extend(h,g);var n=h.Model=function(a,b){var c=a||{};b||(b={});this.cid=e.uniqueId("c");this.attributes={};b.collection&&(this.collection=b.collection);b.parse&&(c=this.parse(c,b)||{});c=e.defaults({},c,e.result(this,"defaults"));this.set(c,b);this.changed={};this.initialize.apply(this,arguments)};e.extend(n.prototype,g,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(a){return e.clone(this.attributes)},sync:function(){return h.sync.apply(this,arguments)},
get:function(a){return this.attributes[a]},escape:function(a){return e.escape(this.get(a))},has:function(a){return null!=this.get(a)},set:function(a,b,c){var d,f,g,h,k,l,n;if(null==a)return this;"object"===typeof a?(f=a,c=b):(f={})[a]=b;c||(c={});if(!this._validate(f,c))return!1;g=c.unset;h=c.silent;a=[];k=this._changing;this._changing=!0;k||(this._previousAttributes=e.clone(this.attributes),this.changed={});n=this.attributes;l=this._previousAttributes;this.idAttribute in f&&(this.id=f[this.idAttribute]);
for(d in f)b=f[d],e.isEqual(n[d],b)||a.push(d),e.isEqual(l[d],b)?delete this.changed[d]:this.changed[d]=b,g?delete n[d]:n[d]=b;if(!h)for(a.length&&(this._pending=c),b=0,d=a.length;b<d;b++)this.trigger("change:"+a[b],this,n[a[b]],c);if(k)return this;if(!h)for(;this._pending;)c=this._pending,this._pending=!1,this.trigger("change",this,c);this._changing=this._pending=!1;return this},unset:function(a,b){return this.set(a,void 0,e.extend({},b,{unset:!0}))},clear:function(a){var b={},c;for(c in this.attributes)b[c]=
void 0;return this.set(b,e.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!e.isEmpty(this.changed):e.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?e.clone(this.changed):!1;var b,c=!1,d=this._changing?this._previousAttributes:this.attributes,f;for(f in a)e.isEqual(d[f],b=a[f])||((c||(c={}))[f]=b);return c},previous:function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return e.clone(this._previousAttributes)},
fetch:function(a){a=a?e.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=this,c=a.success;a.success=function(d){if(!b.set(b.parse(d,a),a))return!1;c&&c(b,d,a);b.trigger("sync",b,d,a)};P(this,a);return this.sync("read",this,a)},save:function(a,b,c){var d,f=this.attributes;null==a||"object"===typeof a?(d=a,c=b):(d={})[a]=b;c=e.extend({validate:!0},c);if(d&&!c.wait){if(!this.set(d,c))return!1}else if(!this._validate(d,c))return!1;d&&c.wait&&(this.attributes=e.extend({},f,d));void 0===c.parse&&(c.parse=
!0);var g=this,h=c.success;c.success=function(a){g.attributes=f;var b=g.parse(a,c);c.wait&&(b=e.extend(d||{},b));if(e.isObject(b)&&!g.set(b,c))return!1;h&&h(g,a,c);g.trigger("sync",g,a,c)};P(this,c);a=this.isNew()?"create":c.patch?"patch":"update";"patch"===a&&(c.attrs=d);a=this.sync(a,this,c);d&&c.wait&&(this.attributes=f);return a},destroy:function(a){a=a?e.clone(a):{};var b=this,c=a.success,d=function(){b.trigger("destroy",b,b.collection,a)};a.success=function(e){(a.wait||b.isNew())&&d();c&&c(b,
e,a);b.isNew()||b.trigger("sync",b,e,a)};if(this.isNew())return a.success(),!1;P(this,a);var f=this.sync("delete",this,a);a.wait||d();return f},url:function(){var a=e.result(this,"urlRoot")||e.result(this.collection,"url")||X();return this.isNew()?a:a.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(a,b){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(a){return this._validate({},e.extend(a||
{},{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=e.extend({},this.attributes,a);var c=this.validationError=this.validate(a,b)||null;if(!c)return!0;this.trigger("invalid",this,c,e.extend(b,{validationError:c}));return!1}});e.each("keys values pairs invert pick omit".split(" "),function(a){n.prototype[a]=function(){var c=b.call(arguments);c.unshift(this.attributes);return e[a].apply(e,c)}});var p=h.Collection=function(a,b){b||(b={});b.model&&(this.model=b.model);
void 0!==b.comparator&&(this.comparator=b.comparator);this._reset();this.initialize.apply(this,arguments);a&&this.reset(a,e.extend({silent:!0},b))},m={add:!0,remove:!0,merge:!0},u={add:!0,remove:!1};e.extend(p.prototype,g,{model:n,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return h.sync.apply(this,arguments)},add:function(a,b){return this.set(a,e.extend({merge:!1},b,u))},remove:function(a,b){var c=!e.isArray(a);a=c?[a]:e.clone(a);b||
(b={});var d,f,g,h;d=0;for(f=a.length;d<f;d++)if(h=a[d]=this.get(a[d]))delete this._byId[h.id],delete this._byId[h.cid],g=this.indexOf(h),this.models.splice(g,1),this.length--,b.silent||(b.index=g,h.trigger("remove",h,this,b)),this._removeReference(h,b);return c?a[0]:a},set:function(a,b){b=e.defaults({},b,m);b.parse&&(a=this.parse(a,b));var c=!e.isArray(a);a=c?a?[a]:[]:e.clone(a);var d,f,g,h,k,l,p=b.at,q=this.model,t=this.comparator&&null==p&&!1!==b.sort,u=e.isString(this.comparator)?this.comparator:
null,v=[],w=[],x={},B=b.add,D=b.merge,F=b.remove,E=!t&&B&&F?[]:!1;d=0;for(f=a.length;d<f;d++){k=a[d]||{};g=k instanceof n?h=k:k[q.prototype.idAttribute||"id"];if(g=this.get(g))F&&(x[g.cid]=!0),D&&(k=k===h?h.attributes:k,b.parse&&(k=g.parse(k,b)),g.set(k,b),t&&!l&&g.hasChanged(u)&&(l=!0)),a[d]=g;else if(B){h=a[d]=this._prepareModel(k,b);if(!h)continue;v.push(h);this._addReference(h,b)}h=g||h;!E||!h.isNew()&&x[h.id]||E.push(h);x[h.id]=!0}if(F){d=0;for(f=this.length;d<f;++d)x[(h=this.models[d]).cid]||
w.push(h);w.length&&this.remove(w,b)}if(v.length||E&&E.length)if(t&&(l=!0),this.length+=v.length,null!=p)for(d=0,f=v.length;d<f;d++)this.models.splice(p+d,0,v[d]);else for(E&&(this.models.length=0),k=E||v,d=0,f=k.length;d<f;d++)this.models.push(k[d]);l&&this.sort({silent:!0});if(!b.silent){d=0;for(f=v.length;d<f;d++)(h=v[d]).trigger("add",h,this,b);(l||E&&E.length)&&this.trigger("sort",this,b)}return c?a[0]:a},reset:function(a,b){b||(b={});for(var c=0,d=this.models.length;c<d;c++)this._removeReference(this.models[c],
b);b.previousModels=this.models;this._reset();a=this.add(a,e.extend({silent:!0},b));b.silent||this.trigger("reset",this,b);return a},push:function(a,b){return this.add(a,e.extend({at:this.length},b))},pop:function(a){var b=this.at(this.length-1);this.remove(b,a);return b},unshift:function(a,b){return this.add(a,e.extend({at:0},b))},shift:function(a){var b=this.at(0);this.remove(b,a);return b},slice:function(){return b.apply(this.models,arguments)},get:function(a){return null==a?void 0:this._byId[a]||
this._byId[a.id]||this._byId[a.cid]},at:function(a){return this.models[a]},where:function(a,b){return e.isEmpty(a)?b?void 0:[]:this[b?"find":"filter"](function(b){for(var c in a)if(a[c]!==b.get(c))return!1;return!0})},findWhere:function(a){return this.where(a,!0)},sort:function(a){if(!this.comparator)throw Error("Cannot sort a set without a comparator");a||(a={});e.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(e.bind(this.comparator,
this));a.silent||this.trigger("sort",this,a);return this},pluck:function(a){return e.invoke(this.models,"get",a)},fetch:function(a){a=a?e.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=a.success,c=this;a.success=function(d){c[a.reset?"reset":"set"](d,a);b&&b(c,d,a);c.trigger("sync",c,d,a)};P(this,a);return this.sync("read",this,a)},create:function(a,b){b=b?e.clone(b):{};if(!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var c=this,d=b.success;b.success=function(a,e){b.wait&&c.add(a,
b);d&&d(a,e,b)};a.save(null,b);return a},parse:function(a,b){return a},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(a,b){if(a instanceof n)return a;b=b?e.clone(b):{};b.collection=this;var c=new this.model(a,b);if(!c.validationError)return c;this.trigger("invalid",this,c.validationError,b);return!1},_addReference:function(a,b){this._byId[a.cid]=a;null!=a.id&&(this._byId[a.id]=a);a.collection||(a.collection=
this);a.on("all",this._onModelEvent,this)},_removeReference:function(a,b){this===a.collection&&delete a.collection;a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){if("add"!==a&&"remove"!==a||c===this)"destroy"===a&&this.remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],null!=b.id&&(this._byId[b.id]=b)),this.trigger.apply(this,arguments)}});e.each("forEach each map collect reduce foldl inject reduceRight foldr find detect filter select reject every all some any include contains invoke max min toArray size first head take initial rest tail drop last without difference indexOf shuffle lastIndexOf isEmpty chain sample".split(" "),
function(a){p.prototype[a]=function(){var c=b.call(arguments);c.unshift(this.models);return e[a].apply(e,c)}});e.each(["groupBy","countBy","sortBy","indexBy"],function(a){p.prototype[a]=function(b,c){var d=e.isFunction(b)?b:function(a){return a.get(b)};return e[a](this.models,d,c)}});f=h.View=function(a){this.cid=e.uniqueId("view");a||(a={});e.extend(this,e.pick(a,w));this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()};var t=/^(\S+)\s*(.*)$/,w="model collection el id attributes className tagName events".split(" ");
e.extend(f.prototype,g,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(a,b){this.$el&&this.undelegateEvents();this.$el=a instanceof h.$?a:h.$(a);this.el=this.$el[0];!1!==b&&this.delegateEvents();return this},delegateEvents:function(a){if(!a&&!(a=e.result(this,"events")))return this;this.undelegateEvents();for(var b in a){var c=a[b];e.isFunction(c)||
(c=this[a[b]]);if(c){var d=b.match(t),f=d[1],d=d[2],c=e.bind(c,this),f=f+(".delegateEvents"+this.cid);if(""===d)this.$el.on(f,c);else this.$el.on(f,d,c)}}return this},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid);return this},_ensureElement:function(){if(this.el)this.setElement(e.result(this,"el"),!1);else{var a=e.extend({},e.result(this,"attributes"));this.id&&(a.id=e.result(this,"id"));this.className&&(a["class"]=e.result(this,"className"));a=h.$("<"+e.result(this,"tagName")+
">").attr(a);this.setElement(a,!1)}}});h.sync=function(a,b,c){var d=q[a];e.defaults(c||(c={}),{emulateHTTP:h.emulateHTTP,emulateJSON:h.emulateJSON});var f={type:d,dataType:"json"};c.url||(f.url=e.result(b,"url")||X());null!=c.data||!b||"create"!==a&&"update"!==a&&"patch"!==a||(f.contentType="application/json",f.data=JSON.stringify(c.attrs||b.toJSON(c)));c.emulateJSON&&(f.contentType="application/x-www-form-urlencoded",f.data=f.data?{model:f.data}:{});if(c.emulateHTTP&&("PUT"===d||"DELETE"===d||"PATCH"===
d)){f.type="POST";c.emulateJSON&&(f.data._method=d);var g=c.beforeSend;c.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",d);if(g)return g.apply(this,arguments)}}"GET"===f.type||c.emulateJSON||(f.processData=!1);"PATCH"===f.type&&v&&(f.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});a=c.xhr=h.ajax(e.extend(f,c));b.trigger("request",b,a,c);return a};var v="undefined"!==typeof window&&!!window.ActiveXObject&&!(window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),
q={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};h.ajax=function(){return h.$.ajax.apply(h.$,arguments)};var D=h.Router=function(a){a||(a={});a.routes&&(this.routes=a.routes);this._bindRoutes();this.initialize.apply(this,arguments)},I=/\((.*?)\)/g,O=/(\(\?)?:\w+/g,F=/\*\w+/g,B=/[\-{}\[\]+?.,\\\^$|#\s]/g;e.extend(D.prototype,g,{initialize:function(){},route:function(a,b,c){e.isRegExp(a)||(a=this._routeToRegExp(a));e.isFunction(b)&&(c=b,b="");c||(c=this[b]);var d=this;h.history.route(a,
function(e){e=d._extractParameters(a,e);d.execute(c,e);d.trigger.apply(d,["route:"+b].concat(e));d.trigger("route",b,e);h.history.trigger("route",d,b,e)});return this},execute:function(a,b){a&&a.apply(this,b)},navigate:function(a,b){h.history.navigate(a,b);return this},_bindRoutes:function(){if(this.routes){this.routes=e.result(this,"routes");for(var a,b=e.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){a=a.replace(B,"\\$&").replace(I,"(?:$1)?").replace(O,
function(a,b){return b?a:"([^/?]+)"}).replace(F,"([^?]*?)");return new RegExp("^"+a+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(a,b){var c=a.exec(b).slice(1);return e.map(c,function(a,b){return b===c.length-1?a||null:a?decodeURIComponent(a):null})}});var H=h.History=function(){this.handlers=[];e.bindAll(this,"checkUrl");"undefined"!==typeof window&&(this.location=window.location,this.history=window.history)},T=/^[#\/]|\s+$/g,V=/^\/+|\/+$/g,W=/msie [\w.]+/,x=/\/$/,E=/#.*$/;H.started=!1;e.extend(H.prototype,
g,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(a){return(a=(a||this).location.href.match(/#(.*)$/))?a[1]:""},getFragment:function(a,b){if(null==a)if(this._hasPushState||!this._wantsHashChange||b){a=decodeURI(this.location.pathname+this.location.search);var c=this.root.replace(x,"");a.indexOf(c)||(a=a.slice(c.length))}else a=this.getHash();return a.replace(T,"")},start:function(a){if(H.started)throw Error("Backbone.history has already been started");
H.started=!0;this.options=e.extend({root:"/"},this.options,a);this.root=this.options.root;this._wantsHashChange=!1!==this.options.hashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);a=this.getFragment();var b=document.documentMode,b=W.exec(navigator.userAgent.toLowerCase())&&(!b||7>=b);this.root=("/"+this.root+"/").replace(V,"/");b&&this._wantsHashChange&&(this.iframe=h.$('<iframe src="javascript:0" tabindex="-1">').hide().appendTo("body")[0].contentWindow,
this.navigate(a));if(this._hasPushState)h.$(window).on("popstate",this.checkUrl);else if(this._wantsHashChange&&"onhashchange"in window&&!b)h.$(window).on("hashchange",this.checkUrl);else this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));this.fragment=a;a=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&
this.atRoot()&&a.hash&&(this.fragment=this.getHash().replace(T,""),this.history.replaceState({},document.title,this.root+this.fragment))}if(!this.options.silent)return this.loadUrl()},stop:function(){h.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);this._checkUrlInterval&&clearInterval(this._checkUrlInterval);H.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(a){a=this.getFragment();a===this.fragment&&this.iframe&&(a=this.getFragment(this.getHash(this.iframe)));
if(a===this.fragment)return!1;this.iframe&&this.navigate(a);this.loadUrl()},loadUrl:function(a){a=this.fragment=this.getFragment(a);return e.any(this.handlers,function(b){if(b.route.test(a))return b.callback(a),!0})},navigate:function(a,b){if(!H.started)return!1;b&&!0!==b||(b={trigger:!!b});var c=this.root+(a=this.getFragment(a||""));a=a.replace(E,"");if(this.fragment!==a){this.fragment=a;""===a&&"/"!==c&&(c=c.slice(0,-1));if(this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},
document.title,c);else if(this._wantsHashChange)this._updateHash(this.location,a,b.replace),this.iframe&&a!==this.getFragment(this.getHash(this.iframe))&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace));else return this.location.assign(c);if(b.trigger)return this.loadUrl(a)}},_updateHash:function(a,b,c){c?(c=a.href.replace(/(javascript:|#).*$/,""),a.replace(c+"#"+b)):a.hash="#"+b}});h.history=new H;n.extend=p.extend=D.extend=f.extend=H.extend=function(a,
b){var c=this,d;d=a&&e.has(a,"constructor")?a.constructor:function(){return c.apply(this,arguments)};e.extend(d,c,b);var f=function(){this.constructor=d};f.prototype=c.prototype;d.prototype=new f;a&&e.extend(d.prototype,a);d.__super__=c.prototype;return d};var X=function(){throw Error('A "url" property or function must be specified');},P=function(a,b){var c=b.error;b.error=function(d){c&&c(a,d,b);a.trigger("error",a,d,b)}};return h});
define("mockup-router",["jquery","underscore","backbone"],function(d,h,e){var f=function(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")};return new (e.Router.extend({actions:[],redirects:{},addRoute:function(a,b,d,c,e,l){void 0===h.findWhere(this.patterns,{patternName:a,id:b})&&this.actions.push({patternName:a,id:b,callback:d,context:c,pathExp:e,expReplace:l});a=new RegExp("("+f(a)+":"+f(b)+")");this.route(a,"handleRoute")},addRedirect:function(a,b){this.redirects[a]=b},handleRoute:function(a){a=
a.split(":");(a=h.findWhere(this.actions,{patternName:a[0],id:a[1]}))&&a.callback.call(a.context)},redirect:function(){var a=window.parent.location.pathname,b,d,c;h.some(this.actions,function(e){if(e.pathExp&&(d=new RegExp(e.pathExp),a.match(d))){c="!/"+e.patternName+":"+e.id;var f="";e.expReplace&&(f=e.expReplace);b=a.replace(d,f);return!0}},this);if(void 0===c)for(var e in this.redirects)if(d=new RegExp(e),a.match(d)){c="!/"+this.redirects[e];b=a.replace(d,"");break}void 0!==c&&this._changeLocation.apply(this,
[b,c])},_changeLocation:function(a,b){window.parent.location.hash=b;window.parent.location.pathname=a},start:function(){e.history.start()},reset:function(){this.actions=[]}}))});
define("mockup-patterns-modal","jquery underscore mockup-patterns-base mockup-patterns-backdrop mockup-registry mockup-router mockup-utils jquery.form".split(" "),function(d,h,e,f,a,b,g){return e.extend({name:"modal",trigger:".pat-modal",createModal:null,$model:null,defaults:{width:"",height:"",margin:20,position:"center middle",triggers:[],backdrop:"body",backdropOptions:{zIndex:"1040",opacity:"0.85",className:"plone-modal-backdrop",classActiveName:"plone-backdrop-active",closeOnEsc:!0,closeOnClick:!0},
title:null,titleSelector:"h1:first",buttons:'.formControls > input[type="submit"]',content:"#content",automaticallyAddButtonActions:!0,loadLinksWithinModal:!0,prependContent:".portalMessage",templateOptions:{className:"plone-modal fade",classDialog:"plone-modal-dialog",classModal:"plone-modal-content",classHeaderName:"plone-modal-header",classBodyName:"plone-modal-body",classFooterName:"plone-modal-footer",classWrapperName:"plone-modal-wrapper",classWrapperInnerName:"modal-wrapper-inner",classActiveName:"in",
classPrependName:"",classContentName:"",template:'<div class="<%= options.className %>">  <div class="<%= options.classDialog %>">    <div class="<%= options.classModal %>">      <div class="<%= options.classHeaderName %>">        <a class="plone-modal-close">&times;</a>        <% if (title) { %><h2 class="plone-modal-title"><%= title %></h2><% } %>      </div>      <div class="<%= options.classBodyName %>">        <div class="<%= options.classPrependName %>"><%= prepend %></div>         <div class="<%= options.classContentName %>"><%= content %></div>      </div>      <div class="<%= options.classFooterName %>">         <% if (buttons) { %><%= buttons %><% } %>      </div>    </div>  </div></div>'},
actions:{},actionOptions:{eventType:"click",target:null,ajaxUrl:null,modalFunction:null,isForm:!1,timeout:5E3,displayInModal:!0,reloadWindowOnClose:!0,error:".portalMessage.error",formFieldError:".field.error",onSuccess:null,onError:null,onFormError:null,onTimeout:null,redirectOnResponse:!1,redirectToUrl:function(a,b,d){a="";(d=/<body.*data-base-url=[\"'](.*)[\"'].*/im.exec(b))&&1<d.length?a=d[1]:(d=/<base.*href=[\"'](.*)[\"'].*/im.exec(b))&&1<d.length&&(a=d[1]);return a}},routerOptions:{id:null,
pathExp:null},form:function(a){var b=this,e=b.$modal;b.options.automaticallyAddButtonActions&&(a[b.options.buttons]={});b.options.loadLinksWithinModal&&(a.a={});d.each(a,function(a,c){var f=h.union(h.keys(b.options.actionOptions),["templateOptions"]),g=d.extend(!0,{},b.options.actionOptions,h.pick(c,f));c.templateOptions=d.extend(!0,c.templateOptions,b.options.templateOptions);var f=h.union(h.keys(b.options.actionOptions),["actions","actionOptions"]),t=d.extend(!0,h.omit(c,f),b.options);d(a,d("."+
c.templateOptions.classBodyName,e)).each(function(a){var e=d(this);e.on(g.eventType,function(a){a.stopPropagation();a.preventDefault();b.loading.show(!1);if(null!==g.modalFunction)b[g.modalFunction]();else d.nodeName(e[0],"input")||d.nodeName(e[0],"button")||!0===c.isForm?b.options.handleFormAction.apply(b,[e,g,t]):(null!==c.ajaxUrl||d.nodeName(e[0],"a"))&&b.options.handleLinkAction.apply(b,[e,g,t])})})})},handleFormAction:function(a,b,e){var f=this,g={};g[a.attr("name")]=a.attr("value");var h;h=
d.nodeName(a[0],"form")?a:a.parents("form:not(.disableAutoSubmit)");var u;u=null!==b.ajaxUrl?"function"===typeof b.ajaxUrl?b.ajaxUrl.apply(f,[a,b]):b.ajaxUrl:a.parents("form").attr("action");h.on("submit",function(a){a.preventDefault()});h.trigger("submit");f.loading.show(!1);h.ajaxSubmit({timeout:b.timeout,data:g,url:u,error:function(a,c,d){f.loading.hide();if("timeout"===c&&b.onTimeout)b.onTimeout.apply(f,a,d);else if(b.onError)b.onError(a,c,d);else console.log("error happened do something");f.emit("formActionError",
[a,c,d])},success:function(g,h,m,p){f.loading.hide();if(0!==d(b.error,g).size()||0!==d(b.formFieldError,g).size())if(b.onFormError)b.onFormError(f,g,h,m,p);else f.redraw(g,e);else if(!0===b.redirectOnResponse)window.parent.location.href="function"===typeof b.redirectToUrl?b.redirectToUrl.apply(f,[a,g,b]):b.redirectToUrl;else{if(b.onSuccess)b.onSuccess(f,g,h,m,p);!0===b.displayInModal?f.redraw(g,e):(a.trigger("destroy.modal.patterns"),b.reloadWindowOnClose&&f.reloadWindow());f.emit("formActionSuccess",
[g,h,m,p])}}})},handleLinkAction:function(a,b,e){var f=this;a=b.ajaxUrl?"function"===typeof b.ajaxUrl?b.ajaxUrl.apply(f,[a,b]):b.ajaxUrl:a.attr("href");!1===b.displayInModal?window.parent.location.href=a:d.ajax({url:a,error:function(a,c,d){if("timeout"===c&&b.onTimeout)b.onTimeout(f.$modal,a,d);else if(b.onError)b.onError(a,c,d);else console.log("error happened do something");f.loading.hide();f.emit("linkActionError",[a,c,d])},success:function(a,c,d){f.redraw(a,e);if(b.onSuccess)b.onSuccess(f,a,c,
d);f.loading.hide();f.emit("linkActionSuccess",[a,c,d])}})},render:function(a){var b=this;b.emit("before-render");if(b.$raw){var e=b.$raw.clone();d("input:checked",e).each(function(){this.setAttribute&&this.setAttribute("checked","checked")});var f={title:"",prepend:"<div />",content:"",buttons:'<div class="pattern-modal-buttons"></div>',options:a.templateOptions};if(null===a.title){var g=d(a.titleSelector,e);f.title=g.html();d(a.titleSelector,e).remove()}else f.title=a.title;a.prependContent&&(f.prepend=
d("<div />").append(d(a.prependContent,e).clone()).html(),d(a.prependContent,e).remove());f.content=a.content?d(a.content,e).html():e.html();b.$modal=d(h.template(b.options.templateOptions.template,f));b.$modalDialog=d("> ."+b.options.templateOptions.classDialog,b.$modal);b.$modalContent=d("> ."+b.options.templateOptions.classModal,b.$modalDialog);d("form",b.$modal).on("keydown",function(a){13===a.keyCode&&"TEXTAREA"!==a.target.nodeName&&(a.preventDefault(),d("input[type=submit], button[type=submit], button:not(type)",
this).eq(0).trigger("click"))});d(a.buttons,b.$modal).each(function(){var a=d(this);a.on("click",function(a){a.stopPropagation();a.preventDefault()}).clone().appendTo(d(".pattern-modal-buttons",b.$modal)).off("click").on("click",function(b){b.stopPropagation();b.preventDefault();a.trigger("click")});a.hide()});b.emit("before-events-setup");d(".plone-modal-header > a.plone-modal-close, .plone-modal-footer > a.plone-modal-close",b.$modal).off("click").on("click",function(a){a.stopPropagation();a.preventDefault();
d(a.target).trigger("destroy.modal.patterns")});d(".row",b.$modal).removeClass("row");a.form&&a.form.apply(b,[a.actions]);b.$modal.addClass(b.options.templateOptions.className).on("click",function(a){a.stopPropagation();d.nodeName(a.target,"a")&&a.preventDefault();b.$modal.trigger("modal-click")}).on("destroy.modal.patterns",function(a){a.stopPropagation();b.hide()}).on("resize.modal.patterns",function(a){a.stopPropagation();a.preventDefault();b.positionModal()}).appendTo(b.$wrapperInner);b.$modal.data("pattern-"+
b.name,b);b.emit("after-render")}}},reloadWindow:function(){window.parent.location.reload()},init:function(){var a=this;a.backdrop=new f(a.$el.parents(a.options.backdrop),a.options.backdropOptions);a.$wrapper=d("> ."+a.options.templateOptions.classWrapperName,a.backdrop.$el);if(0===a.$wrapper.size()){var e=null!==a.options.backdropOptions.zIndex?parseInt(a.options.backdropOptions.zIndex,10)+1:1041;a.$wrapper=d("<div/>").hide().css({"z-index":e,"overflow-y":"auto",position:"fixed",height:"100%",width:"100%",
bottom:"0",left:"0",right:"0",top:"0"}).addClass(a.options.templateOptions.classWrapperName).insertBefore(a.backdrop.$backdrop).on("click",function(b){b.stopPropagation();b.preventDefault();a.options.backdropOptions.closeOnClick&&a.backdrop.hide()})}null!==a.options.routerOptions.id&&b.addRoute("modal",a.options.routerOptions.id,function(){this.show()},a,a.options.routerOptions.pathExp,a.options.routerOptions.expReplace);a.backdrop.on("hidden",function(b){void 0!==a.$modal&&a.$modal.hasClass(a.options.templateOptions.classActiveName)&&
a.hide()});if(!0===a.options.backdropOptions.closeOnEsc)d(document).on("keydown",function(b,d){a.$el.is("."+a.options.templateOptions.classActiveName)&&27===b.keyCode&&a.hide()});a.$wrapperInner=d("> ."+a.options.templateOptions.classWrapperInnerName,a.$wrapper);0===a.$wrapperInner.size()&&(a.$wrapperInner=d("<div/>").addClass(a.options.classWrapperInnerName).css({position:"absolute",bottom:"0",left:"0",right:"0",top:"0"}).appendTo(a.$wrapper));a.loading=new g.Loading({backdrop:a.backdrop,zIndex:function(){if(a.modalInitialized()){var b=
a.$modal.css("zIndex");if(b)return parseInt(b,10)+1}else return 10005}});d(window.parent).resize(function(){a.positionModal()});a.options.triggers&&d.each(a.options.triggers,function(b,e){var f=e.substring(0,e.indexOf(" ")),g=e.substring(e.indexOf(" "),e.length);d(g||a.$el).on(f,function(b){b.stopPropagation();b.preventDefault();a.show()})});a.$el.is("a")&&(a.$el.attr("href")&&(a.options.target||"#"!==a.$el.attr("href").substr(0,1)||(a.options.target=a.$el.attr("href"),a.options.content=""),a.options.ajaxUrl||
"#"===a.$el.attr("href").substr(0,1)||(a.options.ajaxUrl=a.$el.attr("href"))),a.$el.on("click",function(b){b.stopPropagation();b.preventDefault();a.show()}));a.initModal()},createAjaxModal:function(){var a=this;a.emit("before-ajax");a.loading.show();a.ajaxXHR=d.ajax({url:a.options.ajaxUrl,type:a.options.ajaxType}).done(function(b,e,f){a.ajaxXHR=void 0;a.loading.hide();a.$raw=d("<div />").append(d(g.parseBodyTag(b)));a.emit("after-ajax",a,e,f);a._show()})},createTargetModal:function(){this.$raw=d(this.options.target).clone();
this._show()},createBasicModal:function(){this.$raw=d("<div/>").html(this.$el.clone());this._show()},createHtmlModal:function(){this.$raw=d(this.options.html);this._show()},initModal:function(){this.createModal=this.options.ajaxUrl?this.createAjaxModal:this.options.target?this.createTargetModal:this.options.html?this.createHtmlModal:this.createBasicModal},findPosition:function(a,b,d,e,f,g,h){var t={};"left"===a?(a=d+"px",e>g&&(a="0px"),t.left=a):"right"===a?(a=d+"px",e>g&&(a="0px"),t.right=a,t.left=
"auto"):(a=g/2-e/2-d+"px",e>g&&(a="0px"),t.left=a);"top"===b?(b=d+"px",f>h&&(b="0px"),t.top=b):"bottom"===b?(b=d+"px",f>h&&(b="0px"),t.bottom=b,t.top="auto"):(b=h/2-f/2-d+"px",f>h&&(b="0px"),t.top=b);return t},modalInitialized:function(){return null!==this.$modal&&void 0!==this.$modal},positionModal:function(){if(this.modalInitialized()){this.$modal.removeAttr("style");this.$wrapper.parent().is("body")&&this.$wrapper.height(d(window.parent).height());var a="function"===typeof this.options.margin?
this.options.margin():this.options.margin;this.$modal.css({position:"absolute",padding:a});this.$modalDialog.css({margin:"0",padding:"0",width:this.options.width,height:this.options.height});this.$modalContent.css({width:this.options.width});var b=this.options.position.split(" "),e=b[0],b=b[1],f=this.$modalDialog.outerWidth(!0),g=this.$modalDialog.outerHeight(!0),h=this.$wrapperInner.width(),u=this.$wrapperInner.height(),a=this.findPosition(e,b,a,f,g,h,u),t;for(t in a)this.$modalDialog.css(t,a[t])}},
render:function(a){this.emit("render");this.options.render.apply(this,[a]);this.emit("rendered")},show:function(){this.createModal()},_show:function(){var b=this;b.render.apply(b,[b.options]);b.emit("show");b.backdrop.show();b.$wrapper.show();b.loading.hide();b.$wrapper.parent().css("overflow","hidden");b.$el.addClass(b.options.templateOptions.classActiveName);b.$modal.addClass(b.options.templateOptions.classActiveName);a.scan(b.$modal);b.positionModal();d("img",b.$modal).load(function(){b.positionModal()});
d(window.parent).on("resize.modal.patterns",function(){b.positionModal()});b.emit("shown");d("body").addClass("plone-modal-open")},hide:function(){this.ajaxXHR&&this.ajaxXHR.abort();this.emit("hide");if(!this._suppressHide||confirm(this._suppressHide))2>d(".plone-modal",this.$wrapper).size()&&(this.backdrop.hide(),this.$wrapper.hide(),this.$wrapper.parent().css("overflow","visible")),this.loading.hide(),this.$el.removeClass(this.options.templateOptions.classActiveName),void 0!==this.$modal&&(this.$modal.remove(),
this.initModal()),d(window.parent).off("resize.modal.patterns"),this.emit("hidden"),d("body").removeClass("plone-modal-open")},redraw:function(b,e){this.emit("beforeDraw");this.$modal.remove();this.$raw=d("<div />").append(d(g.parseBodyTag(b)));this.render.apply(this,[e||this.options]);this.$modal.addClass(this.options.templateOptions.classActiveName);this.positionModal();a.scan(this.$modal);this.emit("afterDraw")}})});window.jQuery&&define("jquery",[],function(){return window.jQuery});
require("jquery mockup-registry mockup-patterns-base mockup-patterns-select2 mockup-patterns-pickadate plone-patterns-toolbar mockup-patterns-accessibility mockup-patterns-autotoc mockup-patterns-cookietrigger mockup-patterns-formunloadalert mockup-patterns-preventdoublesubmit mockup-patterns-formautofocus mockup-patterns-modal mockup-patterns-livesearch mockup-patterns-contentloader bootstrap-dropdown bootstrap-collapse bootstrap-tooltip".split(" "),function(d,h){window.parent===window&&h.init()});
define("plone",function(){});
