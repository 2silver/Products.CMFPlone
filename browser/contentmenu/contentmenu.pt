<ul tal:define="menu view/menu"
    tal:condition="view/available"
    i18n:domain="plone">

    <li tal:repeat="menuItem menu">

        <dl class="actionMenu"
            tal:attributes="id menuItem/extra/id">
          <dt class="actionMenuHeader">
            <img width="16"
                 height="16"
                 tal:condition="menuItem/icon"
                 tal:attributes="src menuItem/icon;
                                 alt menuItem/description"
                 i18n:attributes="alt;"/>
            <a href="#"
               tal:omit-tag="not:menuItem/action"
               tal:attributes="href menuItem/action;
                               title menuItem/description"
               i18n:attributes="title;">

                <span tal:content="menuItem/title"
                      i18n:translate="">
                    Title
                </span>
                <span tal:condition="menuItem/extra/stateTitle | nothing"
                      tal:attributes="class menuItem/extra/class | nothing"
                      tal:content="menuItem/extra/stateTitle"
                      i18n:translate="">
                    State title
                </span>
            </a>
          </dt>
          <dd class="actionMenuContent" tal:condition="not:menuItem/extra/hideChildren | nothing">
            <ul>
                <tal:block repeat="subMenuItem menuItem/submenu">
                  <li tal:attributes="class subMenuItem/extra/separator">
                    <a href="#"
                       tal:omit-tag="not:subMenuItem/action"
                       tal:attributes="href subMenuItem/action;
                                       title subMenuItem/description;
                                       class subMenuItem/extra/class | nothing"
                       i18n:attributes="title">
                        <span tal:content="subMenuItem/title"
                              i18n:translate="">
                            Title
                        </span>
                    </a>
                  </li>
                </tal:block>
            </ul>
          </dd>
        </dl>

    </li>

</ul>